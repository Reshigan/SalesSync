var hn=Object.defineProperty;var vr=t=>{throw TypeError(t)};var fn=(t,s,a)=>s in t?hn(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var hs=(t,s,a)=>fn(t,typeof s!="symbol"?s+"":s,a),xa=(t,s,a)=>s.has(t)||vr("Cannot "+a);var d=(t,s,a)=>(xa(t,s,"read from private field"),a?a.call(t):s.get(t)),L=(t,s,a)=>s.has(t)?vr("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),F=(t,s,a,r)=>(xa(t,s,"write to private field"),r?r.call(t,a):s.set(t,a),a),q=(t,s,a)=>(xa(t,s,"access private method"),a);var Us=(t,s,a,r)=>({set _(i){F(t,s,i,a)},get _(){return d(t,s,r)}});import{j as e,L as pn,C as pi,T as Hs,a as Be,M as ja,U as gn,B as yn,S as gi,b as De,c as yi,d as jn,e as ds,f as vn,g as va,h as bn,W as Nn,i as wn,X as Sn,k as Ft,R as sa,l as ba,m as Na,E as wa,n as Ot,A as _n,o as Gs,p as Ze,q as za,r as Ue,D as ht,s as _s,t as Ys,u as kn,v as Ha,w as qt,x as Wt,y as ks,z as Ga,F as Cn,G as Ya,H as aa,I as Ka,N as An,J as Ja,K as Za,O as En,Q as Pn,V as br,Y as ji,Z as Nr,_ as wr,$ as Dn,a0 as Tn,a1 as Rn,a2 as Xa,a3 as ha,a4 as Fn}from"./ui-20qrNqzj.js";import{b as Mn,r as p,g as On,a as le}from"./vendor-BKU87Gzz.js";import{O as vi,N as Sr,u as bi,a as Ni,L as Kt,b as In,c as Gt,R as Ln,d as H,B as Vn}from"./router-Z3oXCE2A.js";import{a as $n,t as Un,c as Bn}from"./utils-Ci_t0cun.js";import{R as bt,A as qn,C as ys,X as js,Y as vs,T as Nt,a as Wn,P as wi,b as Si,c as _i,B as ki,d as Ci,L as Ai,e as Sa,f as ra}from"./charts-BNpZYo1B.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var _a={},_r=Mn;_a.createRoot=_r.createRoot,_a.hydrateRoot=_r.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qn={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},it,Qa,ii,zn=(ii=class{constructor(){L(this,it,Qn);L(this,Qa,!1)}setTimeoutProvider(t){F(this,it,t)}setTimeout(t,s){return d(this,it).setTimeout(t,s)}clearTimeout(t){d(this,it).clearTimeout(t)}setInterval(t,s){return d(this,it).setInterval(t,s)}clearInterval(t){d(this,it).clearInterval(t)}},it=new WeakMap,Qa=new WeakMap,ii),wt=new zn;function Hn(t){setTimeout(t,0)}var It=typeof window>"u"||"Deno"in globalThis;function ve(){}function Gn(t,s){return typeof t=="function"?t(s):t}function ka(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ei(t,s){return Math.max(t+(s||0)-Date.now(),0)}function ft(t,s){return typeof t=="function"?t(s):t}function Pe(t,s){return typeof t=="function"?t(s):t}function kr(t,s){const{type:a="all",exact:r,fetchStatus:i,predicate:n,queryKey:l,stale:c}=t;if(l){if(r){if(s.queryHash!==er(l,s.options))return!1}else if(!Cs(s.queryKey,l))return!1}if(a!=="all"){const u=s.isActive();if(a==="active"&&!u||a==="inactive"&&u)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||i&&i!==s.state.fetchStatus||n&&!n(s))}function Cr(t,s){const{exact:a,status:r,predicate:i,mutationKey:n}=t;if(n){if(!s.options.mutationKey)return!1;if(a){if(Lt(s.options.mutationKey)!==Lt(n))return!1}else if(!Cs(s.options.mutationKey,n))return!1}return!(r&&s.state.status!==r||i&&!i(s))}function er(t,s){return((s==null?void 0:s.queryKeyHashFn)||Lt)(t)}function Lt(t){return JSON.stringify(t,(s,a)=>Ca(a)?Object.keys(a).sort().reduce((r,i)=>(r[i]=a[i],r),{}):a)}function Cs(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(a=>Cs(t[a],s[a])):!1}var Yn=Object.prototype.hasOwnProperty;function Pi(t,s){if(t===s)return t;const a=Ar(t)&&Ar(s);if(!a&&!(Ca(t)&&Ca(s)))return s;const i=(a?t:Object.keys(t)).length,n=a?s:Object.keys(s),l=n.length,c=a?new Array(l):{};let u=0;for(let x=0;x<l;x++){const o=a?x:n[x],h=t[o],y=s[o];if(h===y){c[o]=h,(a?x<i:Yn.call(t,o))&&u++;continue}if(h===null||y===null||typeof h!="object"||typeof y!="object"){c[o]=y;continue}const b=Pi(h,y);c[o]=b,b===h&&u++}return i===l&&u===i?t:c}function Ks(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}function Ar(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ca(t){if(!Er(t))return!1;const s=t.constructor;if(s===void 0)return!0;const a=s.prototype;return!(!Er(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Er(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kn(t){return new Promise(s=>{wt.setTimeout(s,t)})}function Aa(t,s,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,s):a.structuralSharing!==!1?Pi(t,s):s}function Jn(t,s,a=0){const r=[...t,s];return a&&r.length>a?r.slice(1):r}function Zn(t,s,a=0){const r=[s,...t];return a&&r.length>a?r.slice(0,-1):r}var tr=Symbol();function Di(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===tr?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ti(t,s){return typeof t=="function"?t(...s):!!t}var _t,nt,Jt,ni,Xn=(ni=class extends ms{constructor(){super();L(this,_t);L(this,nt);L(this,Jt);F(this,Jt,s=>{if(!It&&window.addEventListener){const a=()=>s();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){d(this,nt)||this.setEventListener(d(this,Jt))}onUnsubscribe(){var s;this.hasListeners()||((s=d(this,nt))==null||s.call(this),F(this,nt,void 0))}setEventListener(s){var a;F(this,Jt,s),(a=d(this,nt))==null||a.call(this),F(this,nt,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){d(this,_t)!==s&&(F(this,_t,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(a=>{a(s)})}isFocused(){var s;return typeof d(this,_t)=="boolean"?d(this,_t):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},_t=new WeakMap,nt=new WeakMap,Jt=new WeakMap,ni),sr=new Xn;function Ea(){let t,s;const a=new Promise((i,n)=>{t=i,s=n});a.status="pending",a.catch(()=>{});function r(i){Object.assign(a,i),delete a.resolve,delete a.reject}return a.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},a.reject=i=>{r({status:"rejected",reason:i}),s(i)},a}var el=Hn;function tl(){let t=[],s=0,a=c=>{c()},r=c=>{c()},i=el;const n=c=>{s?t.push(c):i(()=>{a(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(u=>{a(u)})})})};return{batch:c=>{let u;s++;try{u=c()}finally{s--,s||l()}return u},batchCalls:c=>(...u)=>{n(()=>{c(...u)})},schedule:n,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var de=tl(),Zt,lt,Xt,li,sl=(li=class extends ms{constructor(){super();L(this,Zt,!0);L(this,lt);L(this,Xt);F(this,Xt,s=>{if(!It&&window.addEventListener){const a=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){d(this,lt)||this.setEventListener(d(this,Xt))}onUnsubscribe(){var s;this.hasListeners()||((s=d(this,lt))==null||s.call(this),F(this,lt,void 0))}setEventListener(s){var a;F(this,Xt,s),(a=d(this,lt))==null||a.call(this),F(this,lt,s(this.setOnline.bind(this)))}setOnline(s){d(this,Zt)!==s&&(F(this,Zt,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return d(this,Zt)}},Zt=new WeakMap,lt=new WeakMap,Xt=new WeakMap,li),Js=new sl;function al(t){return Math.min(1e3*2**t,3e4)}function Ri(t){return(t??"online")==="online"?Js.isOnline():!0}var Pa=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Fi(t){let s=!1,a=0,r;const i=Ea(),n=()=>i.status!=="pending",l=f=>{var w;if(!n()){const j=new Pa(f);y(j),(w=t.onCancel)==null||w.call(t,j)}},c=()=>{s=!0},u=()=>{s=!1},x=()=>sr.isFocused()&&(t.networkMode==="always"||Js.isOnline())&&t.canRun(),o=()=>Ri(t.networkMode)&&t.canRun(),h=f=>{n()||(r==null||r(),i.resolve(f))},y=f=>{n()||(r==null||r(),i.reject(f))},b=()=>new Promise(f=>{var w;r=j=>{(n()||x())&&f(j)},(w=t.onPause)==null||w.call(t)}).then(()=>{var f;r=void 0,n()||(f=t.onContinue)==null||f.call(t)}),A=()=>{if(n())return;let f;const w=a===0?t.initialPromise:void 0;try{f=w??t.fn()}catch(j){f=Promise.reject(j)}Promise.resolve(f).then(h).catch(j=>{var _;if(n())return;const v=t.retry??(It?0:3),T=t.retryDelay??al,D=typeof T=="function"?T(a,j):T,k=v===!0||typeof v=="number"&&a<v||typeof v=="function"&&v(a,j);if(s||!k){y(j);return}a++,(_=t.onFail)==null||_.call(t,a,j),Kn(D).then(()=>x()?void 0:b()).then(()=>{s?y(j):A()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r==null||r(),i),cancelRetry:c,continueRetry:u,canStart:o,start:()=>(o()?A():b().then(A),i)}}var kt,ci,Mi=(ci=class{constructor(){L(this,kt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ka(this.gcTime)&&F(this,kt,wt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(It?1/0:5*60*1e3))}clearGcTimeout(){d(this,kt)&&(wt.clearTimeout(d(this,kt)),F(this,kt,void 0))}},kt=new WeakMap,ci),Ct,es,Ee,At,xe,Ps,Et,Te,He,oi,rl=(oi=class extends Mi{constructor(s){super();L(this,Te);L(this,Ct);L(this,es);L(this,Ee);L(this,At);L(this,xe);L(this,Ps);L(this,Et);F(this,Et,!1),F(this,Ps,s.defaultOptions),this.setOptions(s.options),this.observers=[],F(this,At,s.client),F(this,Ee,d(this,At).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,F(this,Ct,Pr(this.options)),this.state=s.state??d(this,Ct),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=d(this,xe))==null?void 0:s.promise}setOptions(s){if(this.options={...d(this,Ps),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Pr(this.options);a.data!==void 0&&(this.setData(a.data,{updatedAt:a.dataUpdatedAt,manual:!0}),F(this,Ct,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,Ee).remove(this)}setData(s,a){const r=Aa(this.state.data,s,this.options);return q(this,Te,He).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(s,a){q(this,Te,He).call(this,{type:"setState",state:s,setStateOptions:a})}cancel(s){var r,i;const a=(r=d(this,xe))==null?void 0:r.promise;return(i=d(this,xe))==null||i.cancel(s),a?a.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,Ct))}isActive(){return this.observers.some(s=>Pe(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ft(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Ei(this.state.dataUpdatedAt,s)}onFocus(){var a;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(a=d(this,xe))==null||a.continue()}onOnline(){var a;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(a=d(this,xe))==null||a.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),d(this,Ee).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(a=>a!==s),this.observers.length||(d(this,xe)&&(d(this,Et)?d(this,xe).cancel({revert:!0}):d(this,xe).cancelRetry()),this.scheduleGc()),d(this,Ee).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,Te,He).call(this,{type:"invalidate"})}async fetch(s,a){var u,x,o,h,y,b,A,f,w,j,v,T;if(this.state.fetchStatus!=="idle"&&((u=d(this,xe))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(d(this,xe))return d(this,xe).continueRetry(),d(this,xe).promise}if(s&&this.setOptions(s),!this.options.queryFn){const D=this.observers.find(k=>k.options.queryFn);D&&this.setOptions(D.options)}const r=new AbortController,i=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(F(this,Et,!0),r.signal)})},n=()=>{const D=Di(this.options,a),_=(()=>{const O={client:d(this,At),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return F(this,Et,!1),this.options.persister?this.options.persister(D,_,this):D(_)},c=(()=>{const D={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:d(this,At),state:this.state,fetchFn:n};return i(D),D})();(x=this.options.behavior)==null||x.onFetch(c,this),F(this,es,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((o=c.fetchOptions)==null?void 0:o.meta))&&q(this,Te,He).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta}),F(this,xe,Fi({initialPromise:a==null?void 0:a.initialPromise,fn:c.fetchFn,onCancel:D=>{D instanceof Pa&&D.revert&&this.setState({...d(this,es),fetchStatus:"idle"}),r.abort()},onFail:(D,k)=>{q(this,Te,He).call(this,{type:"failed",failureCount:D,error:k})},onPause:()=>{q(this,Te,He).call(this,{type:"pause"})},onContinue:()=>{q(this,Te,He).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const D=await d(this,xe).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(b=(y=d(this,Ee).config).onSuccess)==null||b.call(y,D,this),(f=(A=d(this,Ee).config).onSettled)==null||f.call(A,D,this.state.error,this),D}catch(D){if(D instanceof Pa){if(D.silent)return d(this,xe).promise;if(D.revert){if(this.state.data===void 0)throw D;return this.state.data}}throw q(this,Te,He).call(this,{type:"error",error:D}),(j=(w=d(this,Ee).config).onError)==null||j.call(w,D,this),(T=(v=d(this,Ee).config).onSettled)==null||T.call(v,this.state.data,D,this),D}finally{this.scheduleGc()}}},Ct=new WeakMap,es=new WeakMap,Ee=new WeakMap,At=new WeakMap,xe=new WeakMap,Ps=new WeakMap,Et=new WeakMap,Te=new WeakSet,He=function(s){const a=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Oi(r.data,this.options),fetchMeta:s.meta??null};case"success":const i={...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return F(this,es,s.manual?i:void 0),i;case"error":const n=s.error;return{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=a(this.state),de.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),d(this,Ee).notify({query:this,type:"updated",action:s})})},oi);function Oi(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ri(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Pr(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,a=s!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var be,Q,Ds,ye,Pt,ts,Ge,ct,Ts,ss,as,Dt,Tt,ot,rs,K,gs,Da,Ta,Ra,Fa,Ma,Oa,Ia,Ii,di,il=(di=class extends ms{constructor(s,a){super();L(this,K);L(this,be);L(this,Q);L(this,Ds);L(this,ye);L(this,Pt);L(this,ts);L(this,Ge);L(this,ct);L(this,Ts);L(this,ss);L(this,as);L(this,Dt);L(this,Tt);L(this,ot);L(this,rs,new Set);this.options=a,F(this,be,s),F(this,ct,null),F(this,Ge,Ea()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,Q).addObserver(this),Dr(d(this,Q),this.options)?q(this,K,gs).call(this):this.updateResult(),q(this,K,Fa).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return La(d(this,Q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return La(d(this,Q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,q(this,K,Ma).call(this),q(this,K,Oa).call(this),d(this,Q).removeObserver(this)}setOptions(s){const a=this.options,r=d(this,Q);if(this.options=d(this,be).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pe(this.options.enabled,d(this,Q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");q(this,K,Ia).call(this),d(this,Q).setOptions(this.options),a._defaulted&&!Ks(this.options,a)&&d(this,be).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,Q),observer:this});const i=this.hasListeners();i&&Tr(d(this,Q),r,this.options,a)&&q(this,K,gs).call(this),this.updateResult(),i&&(d(this,Q)!==r||Pe(this.options.enabled,d(this,Q))!==Pe(a.enabled,d(this,Q))||ft(this.options.staleTime,d(this,Q))!==ft(a.staleTime,d(this,Q)))&&q(this,K,Da).call(this);const n=q(this,K,Ta).call(this);i&&(d(this,Q)!==r||Pe(this.options.enabled,d(this,Q))!==Pe(a.enabled,d(this,Q))||n!==d(this,ot))&&q(this,K,Ra).call(this,n)}getOptimisticResult(s){const a=d(this,be).getQueryCache().build(d(this,be),s),r=this.createResult(a,s);return ll(this,r)&&(F(this,ye,r),F(this,ts,this.options),F(this,Pt,d(this,Q).state)),r}getCurrentResult(){return d(this,ye)}trackResult(s,a){return new Proxy(s,{get:(r,i)=>(this.trackProp(i),a==null||a(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&d(this,Ge).status==="pending"&&d(this,Ge).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(s){d(this,rs).add(s)}getCurrentQuery(){return d(this,Q)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const a=d(this,be).defaultQueryOptions(s),r=d(this,be).getQueryCache().build(d(this,be),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(s){return q(this,K,gs).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,ye)))}createResult(s,a){var B;const r=d(this,Q),i=this.options,n=d(this,ye),l=d(this,Pt),c=d(this,ts),x=s!==r?s.state:d(this,Ds),{state:o}=s;let h={...o},y=!1,b;if(a._optimisticResults){const S=this.hasListeners(),z=!S&&Dr(s,a),$=S&&Tr(s,r,a,i);(z||$)&&(h={...h,...Oi(o.data,s.options)}),a._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:A,errorUpdatedAt:f,status:w}=h;b=h.data;let j=!1;if(a.placeholderData!==void 0&&b===void 0&&w==="pending"){let S;n!=null&&n.isPlaceholderData&&a.placeholderData===(c==null?void 0:c.placeholderData)?(S=n.data,j=!0):S=typeof a.placeholderData=="function"?a.placeholderData((B=d(this,as))==null?void 0:B.state.data,d(this,as)):a.placeholderData,S!==void 0&&(w="success",b=Aa(n==null?void 0:n.data,S,a),y=!0)}if(a.select&&b!==void 0&&!j)if(n&&b===(l==null?void 0:l.data)&&a.select===d(this,Ts))b=d(this,ss);else try{F(this,Ts,a.select),b=a.select(b),b=Aa(n==null?void 0:n.data,b,a),F(this,ss,b),F(this,ct,null)}catch(S){F(this,ct,S)}d(this,ct)&&(A=d(this,ct),b=d(this,ss),f=Date.now(),w="error");const v=h.fetchStatus==="fetching",T=w==="pending",D=w==="error",k=T&&v,_=b!==void 0,C={status:w,fetchStatus:h.fetchStatus,isPending:T,isSuccess:w==="success",isError:D,isInitialLoading:k,isLoading:k,data:b,dataUpdatedAt:h.dataUpdatedAt,error:A,errorUpdatedAt:f,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>x.dataUpdateCount||h.errorUpdateCount>x.errorUpdateCount,isFetching:v,isRefetching:v&&!T,isLoadingError:D&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:D&&_,isStale:ar(s,a),refetch:this.refetch,promise:d(this,Ge),isEnabled:Pe(a.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const S=W=>{C.status==="error"?W.reject(C.error):C.data!==void 0&&W.resolve(C.data)},z=()=>{const W=F(this,Ge,C.promise=Ea());S(W)},$=d(this,Ge);switch($.status){case"pending":s.queryHash===r.queryHash&&S($);break;case"fulfilled":(C.status==="error"||C.data!==$.value)&&z();break;case"rejected":(C.status!=="error"||C.error!==$.reason)&&z();break}}return C}updateResult(){const s=d(this,ye),a=this.createResult(d(this,Q),this.options);if(F(this,Pt,d(this,Q).state),F(this,ts,this.options),d(this,Pt).data!==void 0&&F(this,as,d(this,Q)),Ks(a,s))return;F(this,ye,a);const r=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,n=typeof i=="function"?i():i;if(n==="all"||!n&&!d(this,rs).size)return!0;const l=new Set(n??d(this,rs));return this.options.throwOnError&&l.add("error"),Object.keys(d(this,ye)).some(c=>{const u=c;return d(this,ye)[u]!==s[u]&&l.has(u)})};q(this,K,Ii).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&q(this,K,Fa).call(this)}},be=new WeakMap,Q=new WeakMap,Ds=new WeakMap,ye=new WeakMap,Pt=new WeakMap,ts=new WeakMap,Ge=new WeakMap,ct=new WeakMap,Ts=new WeakMap,ss=new WeakMap,as=new WeakMap,Dt=new WeakMap,Tt=new WeakMap,ot=new WeakMap,rs=new WeakMap,K=new WeakSet,gs=function(s){q(this,K,Ia).call(this);let a=d(this,Q).fetch(this.options,s);return s!=null&&s.throwOnError||(a=a.catch(ve)),a},Da=function(){q(this,K,Ma).call(this);const s=ft(this.options.staleTime,d(this,Q));if(It||d(this,ye).isStale||!ka(s))return;const r=Ei(d(this,ye).dataUpdatedAt,s)+1;F(this,Dt,wt.setTimeout(()=>{d(this,ye).isStale||this.updateResult()},r))},Ta=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,Q)):this.options.refetchInterval)??!1},Ra=function(s){q(this,K,Oa).call(this),F(this,ot,s),!(It||Pe(this.options.enabled,d(this,Q))===!1||!ka(d(this,ot))||d(this,ot)===0)&&F(this,Tt,wt.setInterval(()=>{(this.options.refetchIntervalInBackground||sr.isFocused())&&q(this,K,gs).call(this)},d(this,ot)))},Fa=function(){q(this,K,Da).call(this),q(this,K,Ra).call(this,q(this,K,Ta).call(this))},Ma=function(){d(this,Dt)&&(wt.clearTimeout(d(this,Dt)),F(this,Dt,void 0))},Oa=function(){d(this,Tt)&&(wt.clearInterval(d(this,Tt)),F(this,Tt,void 0))},Ia=function(){const s=d(this,be).getQueryCache().build(d(this,be),this.options);if(s===d(this,Q))return;const a=d(this,Q);F(this,Q,s),F(this,Ds,s.state),this.hasListeners()&&(a==null||a.removeObserver(this),s.addObserver(this))},Ii=function(s){de.batch(()=>{s.listeners&&this.listeners.forEach(a=>{a(d(this,ye))}),d(this,be).getQueryCache().notify({query:d(this,Q),type:"observerResultsUpdated"})})},di);function nl(t,s){return Pe(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Dr(t,s){return nl(t,s)||t.state.data!==void 0&&La(t,s,s.refetchOnMount)}function La(t,s,a){if(Pe(s.enabled,t)!==!1&&ft(s.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&ar(t,s)}return!1}function Tr(t,s,a,r){return(t!==s||Pe(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&ar(t,a)}function ar(t,s){return Pe(s.enabled,t)!==!1&&t.isStaleByTime(ft(s.staleTime,t))}function ll(t,s){return!Ks(t.getCurrentResult(),s)}function Rr(t){return{onFetch:(s,a)=>{var o,h,y,b,A;const r=s.options,i=(y=(h=(o=s.fetchOptions)==null?void 0:o.meta)==null?void 0:h.fetchMore)==null?void 0:y.direction,n=((b=s.state.data)==null?void 0:b.pages)||[],l=((A=s.state.data)==null?void 0:A.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const x=async()=>{let f=!1;const w=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(s.signal.aborted?f=!0:s.signal.addEventListener("abort",()=>{f=!0}),s.signal)})},j=Di(s.options,s.fetchOptions),v=async(T,D,k)=>{if(f)return Promise.reject();if(D==null&&T.pages.length)return Promise.resolve(T);const O=(()=>{const z={client:s.client,queryKey:s.queryKey,pageParam:D,direction:k?"backward":"forward",meta:s.options.meta};return w(z),z})(),C=await j(O),{maxPages:B}=s.options,S=k?Zn:Jn;return{pages:S(T.pages,C,B),pageParams:S(T.pageParams,D,B)}};if(i&&n.length){const T=i==="backward",D=T?cl:Fr,k={pages:n,pageParams:l},_=D(r,k);c=await v(k,_,T)}else{const T=t??n.length;do{const D=u===0?l[0]??r.initialPageParam:Fr(r,c);if(u>0&&D==null)break;c=await v(c,D),u++}while(u<T)}return c};s.options.persister?s.fetchFn=()=>{var f,w;return(w=(f=s.options).persister)==null?void 0:w.call(f,x,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},a)}:s.fetchFn=x}}}function Fr(t,{pages:s,pageParams:a}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,a[r],a):void 0}function cl(t,{pages:s,pageParams:a}){var r;return s.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,s[0],s,a[0],a):void 0}var Rs,Ie,je,Rt,Le,st,mi,ol=(mi=class extends Mi{constructor(s){super();L(this,Le);L(this,Rs);L(this,Ie);L(this,je);L(this,Rt);F(this,Rs,s.client),this.mutationId=s.mutationId,F(this,je,s.mutationCache),F(this,Ie,[]),this.state=s.state||Li(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){d(this,Ie).includes(s)||(d(this,Ie).push(s),this.clearGcTimeout(),d(this,je).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){F(this,Ie,d(this,Ie).filter(a=>a!==s)),this.scheduleGc(),d(this,je).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){d(this,Ie).length||(this.state.status==="pending"?this.scheduleGc():d(this,je).remove(this))}continue(){var s;return((s=d(this,Rt))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,c,u,x,o,h,y,b,A,f,w,j,v,T,D,k,_,O,C,B;const a=()=>{q(this,Le,st).call(this,{type:"continue"})},r={client:d(this,Rs),meta:this.options.meta,mutationKey:this.options.mutationKey};F(this,Rt,Fi({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(S,z)=>{q(this,Le,st).call(this,{type:"failed",failureCount:S,error:z})},onPause:()=>{q(this,Le,st).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,je).canRun(this)}));const i=this.state.status==="pending",n=!d(this,Rt).canStart();try{if(i)a();else{q(this,Le,st).call(this,{type:"pending",variables:s,isPaused:n}),await((c=(l=d(this,je).config).onMutate)==null?void 0:c.call(l,s,this,r));const z=await((x=(u=this.options).onMutate)==null?void 0:x.call(u,s,r));z!==this.state.context&&q(this,Le,st).call(this,{type:"pending",context:z,variables:s,isPaused:n})}const S=await d(this,Rt).start();return await((h=(o=d(this,je).config).onSuccess)==null?void 0:h.call(o,S,s,this.state.context,this,r)),await((b=(y=this.options).onSuccess)==null?void 0:b.call(y,S,s,this.state.context,r)),await((f=(A=d(this,je).config).onSettled)==null?void 0:f.call(A,S,null,this.state.variables,this.state.context,this,r)),await((j=(w=this.options).onSettled)==null?void 0:j.call(w,S,null,s,this.state.context,r)),q(this,Le,st).call(this,{type:"success",data:S}),S}catch(S){try{throw await((T=(v=d(this,je).config).onError)==null?void 0:T.call(v,S,s,this.state.context,this,r)),await((k=(D=this.options).onError)==null?void 0:k.call(D,S,s,this.state.context,r)),await((O=(_=d(this,je).config).onSettled)==null?void 0:O.call(_,void 0,S,this.state.variables,this.state.context,this,r)),await((B=(C=this.options).onSettled)==null?void 0:B.call(C,void 0,S,s,this.state.context,r)),S}finally{q(this,Le,st).call(this,{type:"error",error:S})}}finally{d(this,je).runNext(this)}}},Rs=new WeakMap,Ie=new WeakMap,je=new WeakMap,Rt=new WeakMap,Le=new WeakSet,st=function(s){const a=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=a(this.state),de.batch(()=>{d(this,Ie).forEach(r=>{r.onMutationUpdate(s)}),d(this,je).notify({mutation:this,type:"updated",action:s})})},mi);function Li(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ye,Re,Fs,ui,dl=(ui=class extends ms{constructor(s={}){super();L(this,Ye);L(this,Re);L(this,Fs);this.config=s,F(this,Ye,new Set),F(this,Re,new Map),F(this,Fs,0)}build(s,a,r){const i=new ol({client:s,mutationCache:this,mutationId:++Us(this,Fs)._,options:s.defaultMutationOptions(a),state:r});return this.add(i),i}add(s){d(this,Ye).add(s);const a=Bs(s);if(typeof a=="string"){const r=d(this,Re).get(a);r?r.push(s):d(this,Re).set(a,[s])}this.notify({type:"added",mutation:s})}remove(s){if(d(this,Ye).delete(s)){const a=Bs(s);if(typeof a=="string"){const r=d(this,Re).get(a);if(r)if(r.length>1){const i=r.indexOf(s);i!==-1&&r.splice(i,1)}else r[0]===s&&d(this,Re).delete(a)}}this.notify({type:"removed",mutation:s})}canRun(s){const a=Bs(s);if(typeof a=="string"){const r=d(this,Re).get(a),i=r==null?void 0:r.find(n=>n.state.status==="pending");return!i||i===s}else return!0}runNext(s){var r;const a=Bs(s);if(typeof a=="string"){const i=(r=d(this,Re).get(a))==null?void 0:r.find(n=>n!==s&&n.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){de.batch(()=>{d(this,Ye).forEach(s=>{this.notify({type:"removed",mutation:s})}),d(this,Ye).clear(),d(this,Re).clear()})}getAll(){return Array.from(d(this,Ye))}find(s){const a={exact:!0,...s};return this.getAll().find(r=>Cr(a,r))}findAll(s={}){return this.getAll().filter(a=>Cr(s,a))}notify(s){de.batch(()=>{this.listeners.forEach(a=>{a(s)})})}resumePausedMutations(){const s=this.getAll().filter(a=>a.state.isPaused);return de.batch(()=>Promise.all(s.map(a=>a.continue().catch(ve))))}},Ye=new WeakMap,Re=new WeakMap,Fs=new WeakMap,ui);function Bs(t){var s;return(s=t.options.scope)==null?void 0:s.id}var Ke,dt,Ne,Je,Xe,Ws,Va,xi,ml=(xi=class extends ms{constructor(a,r){super();L(this,Xe);L(this,Ke);L(this,dt);L(this,Ne);L(this,Je);F(this,Ke,a),this.setOptions(r),this.bindMethods(),q(this,Xe,Ws).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var i;const r=this.options;this.options=d(this,Ke).defaultMutationOptions(a),Ks(this.options,r)||d(this,Ke).getMutationCache().notify({type:"observerOptionsUpdated",mutation:d(this,Ne),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Lt(r.mutationKey)!==Lt(this.options.mutationKey)?this.reset():((i=d(this,Ne))==null?void 0:i.state.status)==="pending"&&d(this,Ne).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=d(this,Ne))==null||a.removeObserver(this)}onMutationUpdate(a){q(this,Xe,Ws).call(this),q(this,Xe,Va).call(this,a)}getCurrentResult(){return d(this,dt)}reset(){var a;(a=d(this,Ne))==null||a.removeObserver(this),F(this,Ne,void 0),q(this,Xe,Ws).call(this),q(this,Xe,Va).call(this)}mutate(a,r){var i;return F(this,Je,r),(i=d(this,Ne))==null||i.removeObserver(this),F(this,Ne,d(this,Ke).getMutationCache().build(d(this,Ke),this.options)),d(this,Ne).addObserver(this),d(this,Ne).execute(a)}},Ke=new WeakMap,dt=new WeakMap,Ne=new WeakMap,Je=new WeakMap,Xe=new WeakSet,Ws=function(){var r;const a=((r=d(this,Ne))==null?void 0:r.state)??Li();F(this,dt,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},Va=function(a){de.batch(()=>{var r,i,n,l,c,u,x,o;if(d(this,Je)&&this.hasListeners()){const h=d(this,dt).variables,y=d(this,dt).context,b={client:d(this,Ke),meta:this.options.meta,mutationKey:this.options.mutationKey};(a==null?void 0:a.type)==="success"?((i=(r=d(this,Je)).onSuccess)==null||i.call(r,a.data,h,y,b),(l=(n=d(this,Je)).onSettled)==null||l.call(n,a.data,null,h,y,b)):(a==null?void 0:a.type)==="error"&&((u=(c=d(this,Je)).onError)==null||u.call(c,a.error,h,y,b),(o=(x=d(this,Je)).onSettled)==null||o.call(x,void 0,a.error,h,y,b))}this.listeners.forEach(h=>{h(d(this,dt))})})},xi),Ve,hi,ul=(hi=class extends ms{constructor(s={}){super();L(this,Ve);this.config=s,F(this,Ve,new Map)}build(s,a,r){const i=a.queryKey,n=a.queryHash??er(i,a);let l=this.get(n);return l||(l=new rl({client:s,queryKey:i,queryHash:n,options:s.defaultQueryOptions(a),state:r,defaultOptions:s.getQueryDefaults(i)}),this.add(l)),l}add(s){d(this,Ve).has(s.queryHash)||(d(this,Ve).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const a=d(this,Ve).get(s.queryHash);a&&(s.destroy(),a===s&&d(this,Ve).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){de.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return d(this,Ve).get(s)}getAll(){return[...d(this,Ve).values()]}find(s){const a={exact:!0,...s};return this.getAll().find(r=>kr(a,r))}findAll(s={}){const a=this.getAll();return Object.keys(s).length>0?a.filter(r=>kr(s,r)):a}notify(s){de.batch(()=>{this.listeners.forEach(a=>{a(s)})})}onFocus(){de.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){de.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Ve=new WeakMap,hi),re,mt,ut,is,ns,xt,ls,cs,fi,xl=(fi=class{constructor(t={}){L(this,re);L(this,mt);L(this,ut);L(this,is);L(this,ns);L(this,xt);L(this,ls);L(this,cs);F(this,re,t.queryCache||new ul),F(this,mt,t.mutationCache||new dl),F(this,ut,t.defaultOptions||{}),F(this,is,new Map),F(this,ns,new Map),F(this,xt,0)}mount(){Us(this,xt)._++,d(this,xt)===1&&(F(this,ls,sr.subscribe(async t=>{t&&(await this.resumePausedMutations(),d(this,re).onFocus())})),F(this,cs,Js.subscribe(async t=>{t&&(await this.resumePausedMutations(),d(this,re).onOnline())})))}unmount(){var t,s;Us(this,xt)._--,d(this,xt)===0&&((t=d(this,ls))==null||t.call(this),F(this,ls,void 0),(s=d(this,cs))==null||s.call(this),F(this,cs,void 0))}isFetching(t){return d(this,re).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return d(this,mt).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const s=this.defaultQueryOptions({queryKey:t});return(a=d(this,re).get(s.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),a=d(this,re).build(this,s),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(ft(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return d(this,re).findAll(t).map(({queryKey:s,state:a})=>{const r=a.data;return[s,r]})}setQueryData(t,s,a){const r=this.defaultQueryOptions({queryKey:t}),i=d(this,re).get(r.queryHash),n=i==null?void 0:i.state.data,l=Gn(s,n);if(l!==void 0)return d(this,re).build(this,r).setData(l,{...a,manual:!0})}setQueriesData(t,s,a){return de.batch(()=>d(this,re).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,a)]))}getQueryState(t){var a;const s=this.defaultQueryOptions({queryKey:t});return(a=d(this,re).get(s.queryHash))==null?void 0:a.state}removeQueries(t){const s=d(this,re);de.batch(()=>{s.findAll(t).forEach(a=>{s.remove(a)})})}resetQueries(t,s){const a=d(this,re);return de.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const a={revert:!0,...s},r=de.batch(()=>d(this,re).findAll(t).map(i=>i.cancel(a)));return Promise.all(r).then(ve).catch(ve)}invalidateQueries(t,s={}){return de.batch(()=>(d(this,re).findAll(t).forEach(a=>{a.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const a={...s,cancelRefetch:s.cancelRefetch??!0},r=de.batch(()=>d(this,re).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,a);return a.throwOnError||(n=n.catch(ve)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(ve)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const a=d(this,re).build(this,s);return a.isStaleByTime(ft(s.staleTime,a))?a.fetch(s):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ve).catch(ve)}fetchInfiniteQuery(t){return t.behavior=Rr(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ve).catch(ve)}ensureInfiniteQueryData(t){return t.behavior=Rr(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Js.isOnline()?d(this,mt).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,re)}getMutationCache(){return d(this,mt)}getDefaultOptions(){return d(this,ut)}setDefaultOptions(t){F(this,ut,t)}setQueryDefaults(t,s){d(this,is).set(Lt(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...d(this,is).values()],a={};return s.forEach(r=>{Cs(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,s){d(this,ns).set(Lt(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...d(this,ns).values()],a={};return s.forEach(r=>{Cs(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const s={...d(this,ut).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=er(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===tr&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...d(this,ut).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){d(this,re).clear(),d(this,mt).clear()}},re=new WeakMap,mt=new WeakMap,ut=new WeakMap,is=new WeakMap,ns=new WeakMap,xt=new WeakMap,ls=new WeakMap,cs=new WeakMap,fi),Vi=p.createContext(void 0),rr=t=>{const s=p.useContext(Vi);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},hl=({client:t,children:s})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Vi.Provider,{value:t,children:s})),$i=p.createContext(!1),fl=()=>p.useContext($i);$i.Provider;function pl(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gl=p.createContext(pl()),yl=()=>p.useContext(gl),jl=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},vl=t=>{p.useEffect(()=>{t.clearReset()},[t])},bl=({result:t,errorResetBoundary:s,throwOnError:a,query:r,suspense:i})=>t.isError&&!s.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Ti(a,[t.error,r])),Nl=t=>{if(t.suspense){const a=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>a(r(...i)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},wl=(t,s)=>t.isLoading&&t.isFetching&&!s,Sl=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,Mr=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function _l(t,s,a){var h,y,b,A,f;const r=fl(),i=yl(),n=rr(),l=n.defaultQueryOptions(t);(y=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||y.call(h,l),l._optimisticResults=r?"isRestoring":"optimistic",Nl(l),jl(l,i),vl(i);const c=!n.getQueryCache().get(l.queryHash),[u]=p.useState(()=>new s(n,l)),x=u.getOptimisticResult(l),o=!r&&t.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(w=>{const j=o?u.subscribe(de.batchCalls(w)):ve;return u.updateResult(),j},[u,o]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),p.useEffect(()=>{u.setOptions(l)},[l,u]),Sl(l,x))throw Mr(l,u,i);if(bl({result:x,errorResetBoundary:i,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw x.error;if((A=(b=n.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||A.call(b,l,x),l.experimental_prefetchInRender&&!It&&wl(x,r)){const w=c?Mr(l,u,i):(f=n.getQueryCache().get(l.queryHash))==null?void 0:f.promise;w==null||w.catch(ve).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?x:u.trackResult(x)}function $a(t,s){return _l(t,il)}function kl(t,s){const a=rr(),[r]=p.useState(()=>new ml(a,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const i=p.useSyncExternalStore(p.useCallback(l=>r.subscribe(de.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),n=p.useCallback((l,c)=>{r.mutate(l,c).catch(ve)},[r]);if(i.error&&Ti(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}const Cl="modulepreload",Al=function(t){return"/"+t},Or={},Ir=function(s,a,r){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(a.map(u=>{if(u=Al(u),u in Or)return;Or[u]=!0;const x=u.endsWith(".css"),o=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${o}`))return;const h=document.createElement("link");if(h.rel=x?"stylesheet":Cl,x||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),x)return new Promise((y,b)=>{h.addEventListener("load",y),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&n(c.reason);return s().catch(n)})};var El=function(){return null};let Pl={data:""},Dl=t=>{if(typeof window=="object"){let s=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(t||document.head).appendChild(s),s.firstChild}return t||Pl},Tl=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rl=/\/\*[^]*?\*\/|  +/g,Lr=/\n+/g,at=(t,s)=>{let a="",r="",i="";for(let n in t){let l=t[n];n[0]=="@"?n[1]=="i"?a=n+" "+l+";":r+=n[1]=="f"?at(l,n):n+"{"+at(l,n[1]=="k"?"":s)+"}":typeof l=="object"?r+=at(l,s?s.replace(/([^,])+/g,c=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):n):l!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=at.p?at.p(n,l):n+":"+l+";")}return a+(s&&i?s+"{"+i+"}":i)+r},Qe={},Ui=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+Ui(t[a]);return s}return t},Fl=(t,s,a,r,i)=>{let n=Ui(t),l=Qe[n]||(Qe[n]=(u=>{let x=0,o=11;for(;x<u.length;)o=101*o+u.charCodeAt(x++)>>>0;return"go"+o})(n));if(!Qe[l]){let u=n!==t?t:(x=>{let o,h,y=[{}];for(;o=Tl.exec(x.replace(Rl,""));)o[4]?y.shift():o[3]?(h=o[3].replace(Lr," ").trim(),y.unshift(y[0][h]=y[0][h]||{})):y[0][o[1]]=o[2].replace(Lr," ").trim();return y[0]})(t);Qe[l]=at(i?{["@keyframes "+l]:u}:u,a?"":"."+l)}let c=a&&Qe.g?Qe.g:null;return a&&(Qe.g=Qe[l]),((u,x,o,h)=>{h?x.data=x.data.replace(h,u):x.data.indexOf(u)===-1&&(x.data=o?u+x.data:x.data+u)})(Qe[l],s,r,c),l},Ml=(t,s,a)=>t.reduce((r,i,n)=>{let l=s[n];if(l&&l.call){let c=l(a),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=u?"."+u:c&&typeof c=="object"?c.props?"":at(c,""):c===!1?"":c}return r+i+(l??"")},"");function ia(t){let s=this||{},a=t.call?t(s.p):t;return Fl(a.unshift?a.raw?Ml(a,[].slice.call(arguments,1),s.p):a.reduce((r,i)=>Object.assign(r,i&&i.call?i(s.p):i),{}):a,Dl(s.target),s.g,s.o,s.k)}let Bi,Ua,Ba;ia.bind({g:1});let et=ia.bind({k:1});function Ol(t,s,a,r){at.p=s,Bi=t,Ua=a,Ba=r}function pt(t,s){let a=this||{};return function(){let r=arguments;function i(n,l){let c=Object.assign({},n),u=c.className||i.className;a.p=Object.assign({theme:Ua&&Ua()},c),a.o=/ *go\d+/.test(u),c.className=ia.apply(a,r)+(u?" "+u:"");let x=t;return t[0]&&(x=c.as||t,delete c.as),Ba&&x[0]&&Ba(c),Bi(x,c)}return i}}var Il=t=>typeof t=="function",Zs=(t,s)=>Il(t)?t(s):t,Ll=(()=>{let t=0;return()=>(++t).toString()})(),qi=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Vl=20,ir="default",Wi=(t,s)=>{let{toastLimit:a}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,a)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===s.toast.id?{...l,...s.toast}:l)};case 2:let{toast:r}=s;return Wi(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=s;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let n=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+n}))}}},Qs=[],Qi={toasts:[],pausedAt:void 0,settings:{toastLimit:Vl}},$e={},zi=(t,s=ir)=>{$e[s]=Wi($e[s]||Qi,t),Qs.forEach(([a,r])=>{a===s&&r($e[s])})},Hi=t=>Object.keys($e).forEach(s=>zi(t,s)),$l=t=>Object.keys($e).find(s=>$e[s].toasts.some(a=>a.id===t)),na=(t=ir)=>s=>{zi(s,t)},Ul={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Bl=(t={},s=ir)=>{let[a,r]=p.useState($e[s]||Qi),i=p.useRef($e[s]);p.useEffect(()=>(i.current!==$e[s]&&r($e[s]),Qs.push([s,r]),()=>{let l=Qs.findIndex(([c])=>c===s);l>-1&&Qs.splice(l,1)}),[s]);let n=a.toasts.map(l=>{var c,u,x;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((u=t[l.type])==null?void 0:u.duration)||(t==null?void 0:t.duration)||Ul[l.type],style:{...t.style,...(x=t[l.type])==null?void 0:x.style,...l.style}}});return{...a,toasts:n}},ql=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Ll()}),Ms=t=>(s,a)=>{let r=ql(s,t,a);return na(r.toasterId||$l(r.id))({type:2,toast:r}),r.id},me=(t,s)=>Ms("blank")(t,s);me.error=Ms("error");me.success=Ms("success");me.loading=Ms("loading");me.custom=Ms("custom");me.dismiss=(t,s)=>{let a={type:3,toastId:t};s?na(s)(a):Hi(a)};me.dismissAll=t=>me.dismiss(void 0,t);me.remove=(t,s)=>{let a={type:4,toastId:t};s?na(s)(a):Hi(a)};me.removeAll=t=>me.remove(void 0,t);me.promise=(t,s,a)=>{let r=me.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let n=s.success?Zs(s.success,i):void 0;return n?me.success(n,{id:r,...a,...a==null?void 0:a.success}):me.dismiss(r),i}).catch(i=>{let n=s.error?Zs(s.error,i):void 0;n?me.error(n,{id:r,...a,...a==null?void 0:a.error}):me.dismiss(r)}),t};var Wl=1e3,Ql=(t,s="default")=>{let{toasts:a,pausedAt:r}=Bl(t,s),i=p.useRef(new Map).current,n=p.useCallback((h,y=Wl)=>{if(i.has(h))return;let b=setTimeout(()=>{i.delete(h),l({type:4,toastId:h})},y);i.set(h,b)},[]);p.useEffect(()=>{if(r)return;let h=Date.now(),y=a.map(b=>{if(b.duration===1/0)return;let A=(b.duration||0)+b.pauseDuration-(h-b.createdAt);if(A<0){b.visible&&me.dismiss(b.id);return}return setTimeout(()=>me.dismiss(b.id,s),A)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[a,r,s]);let l=p.useCallback(na(s),[s]),c=p.useCallback(()=>{l({type:5,time:Date.now()})},[l]),u=p.useCallback((h,y)=>{l({type:1,toast:{id:h,height:y}})},[l]),x=p.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),o=p.useCallback((h,y)=>{let{reverseOrder:b=!1,gutter:A=8,defaultPosition:f}=y||{},w=a.filter(T=>(T.position||f)===(h.position||f)&&T.height),j=w.findIndex(T=>T.id===h.id),v=w.filter((T,D)=>D<j&&T.visible).length;return w.filter(T=>T.visible).slice(...b?[v+1]:[0,v]).reduce((T,D)=>T+(D.height||0)+A,0)},[a]);return p.useEffect(()=>{a.forEach(h=>{if(h.dismissed)n(h.id,h.removeDelay);else{let y=i.get(h.id);y&&(clearTimeout(y),i.delete(h.id))}})},[a,n]),{toasts:a,handlers:{updateHeight:u,startPause:c,endPause:x,calculateOffset:o}}},zl=et`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Hl=et`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gl=et`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yl=pt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Hl} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gl} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kl=et`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jl=pt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Kl} 1s linear infinite;
`,Zl=et`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Xl=et`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ec=pt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zl} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Xl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tc=pt("div")`
  position: absolute;
`,sc=pt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ac=et`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rc=pt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ac} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ic=({toast:t})=>{let{icon:s,type:a,iconTheme:r}=t;return s!==void 0?typeof s=="string"?p.createElement(rc,null,s):s:a==="blank"?null:p.createElement(sc,null,p.createElement(Jl,{...r}),a!=="loading"&&p.createElement(tc,null,a==="error"?p.createElement(Yl,{...r}):p.createElement(ec,{...r})))},nc=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lc=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,cc="0%{opacity:0;} 100%{opacity:1;}",oc="0%{opacity:1;} 100%{opacity:0;}",dc=pt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mc=pt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uc=(t,s)=>{let a=t.includes("top")?1:-1,[r,i]=qi()?[cc,oc]:[nc(a),lc(a)];return{animation:s?`${et(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${et(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xc=p.memo(({toast:t,position:s,style:a,children:r})=>{let i=t.height?uc(t.position||s||"top-center",t.visible):{opacity:0},n=p.createElement(ic,{toast:t}),l=p.createElement(mc,{...t.ariaProps},Zs(t.message,t));return p.createElement(dc,{className:t.className,style:{...i,...a,...t.style}},typeof r=="function"?r({icon:n,message:l}):p.createElement(p.Fragment,null,n,l))});Ol(p.createElement);var hc=({id:t,className:s,style:a,onHeightUpdate:r,children:i})=>{let n=p.useCallback(l=>{if(l){let c=()=>{let u=l.getBoundingClientRect().height;r(t,u)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return p.createElement("div",{ref:n,className:s,style:a},i)},fc=(t,s)=>{let a=t.includes("top"),r=a?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qi()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(a?1:-1)}px)`,...r,...i}},pc=ia`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qs=16,gc=({reverseOrder:t,position:s="top-center",toastOptions:a,gutter:r,children:i,toasterId:n,containerStyle:l,containerClassName:c})=>{let{toasts:u,handlers:x}=Ql(a,n);return p.createElement("div",{"data-rht-toaster":n||"",style:{position:"fixed",zIndex:9999,top:qs,left:qs,right:qs,bottom:qs,pointerEvents:"none",...l},className:c,onMouseEnter:x.startPause,onMouseLeave:x.endPause},u.map(o=>{let h=o.position||s,y=x.calculateOffset(o,{reverseOrder:t,gutter:r,defaultPosition:s}),b=fc(h,y);return p.createElement(hc,{id:o.id,key:o.id,onHeightUpdate:x.updateHeight,className:o.visible?pc:"",style:b},o.type==="custom"?Zs(o.message,o):i?i(o):p.createElement(xc,{toast:o,position:h}))}))},Mt=me;const yc={},Vr=t=>{let s;const a=new Set,r=(o,h)=>{const y=typeof o=="function"?o(s):o;if(!Object.is(y,s)){const b=s;s=h??(typeof y!="object"||y===null)?y:Object.assign({},s,y),a.forEach(A=>A(s,b))}},i=()=>s,u={setState:r,getState:i,getInitialState:()=>x,subscribe:o=>(a.add(o),()=>a.delete(o)),destroy:()=>{(yc?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},x=s=t(r,i,u);return u},jc=t=>t?Vr(t):Vr;var Gi={exports:{}},Yi={},Ki={exports:{}},Ji={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=p;function vc(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var bc=typeof Object.is=="function"?Object.is:vc,Nc=os.useState,wc=os.useEffect,Sc=os.useLayoutEffect,_c=os.useDebugValue;function kc(t,s){var a=s(),r=Nc({inst:{value:a,getSnapshot:s}}),i=r[0].inst,n=r[1];return Sc(function(){i.value=a,i.getSnapshot=s,fa(i)&&n({inst:i})},[t,a,s]),wc(function(){return fa(i)&&n({inst:i}),t(function(){fa(i)&&n({inst:i})})},[t]),_c(a),a}function fa(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!bc(t,a)}catch{return!0}}function Cc(t,s){return s()}var Ac=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cc:kc;Ji.useSyncExternalStore=os.useSyncExternalStore!==void 0?os.useSyncExternalStore:Ac;Ki.exports=Ji;var Ec=Ki.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=p,Pc=Ec;function Dc(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Tc=typeof Object.is=="function"?Object.is:Dc,Rc=Pc.useSyncExternalStore,Fc=la.useRef,Mc=la.useEffect,Oc=la.useMemo,Ic=la.useDebugValue;Yi.useSyncExternalStoreWithSelector=function(t,s,a,r,i){var n=Fc(null);if(n.current===null){var l={hasValue:!1,value:null};n.current=l}else l=n.current;n=Oc(function(){function u(b){if(!x){if(x=!0,o=b,b=r(b),i!==void 0&&l.hasValue){var A=l.value;if(i(A,b))return h=A}return h=b}if(A=h,Tc(o,b))return A;var f=r(b);return i!==void 0&&i(A,f)?(o=b,A):(o=b,h=f)}var x=!1,o,h,y=a===void 0?null:a;return[function(){return u(s())},y===null?void 0:function(){return u(y())}]},[s,a,r,i]);var c=Rc(t,n[0],n[1]);return Mc(function(){l.hasValue=!0,l.value=c},[c]),Ic(c),c};Gi.exports=Yi;var Lc=Gi.exports;const Vc=On(Lc),Zi={},{useDebugValue:$c}=le,{useSyncExternalStoreWithSelector:Uc}=Vc;let $r=!1;const Bc=t=>t;function qc(t,s=Bc,a){(Zi?"production":void 0)!=="production"&&a&&!$r&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),$r=!0);const r=Uc(t.subscribe,t.getState,t.getServerState||t.getInitialState,s,a);return $c(r),r}const Ur=t=>{(Zi?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof t=="function"?jc(t):t,a=(r,i)=>qc(s,r,i);return Object.assign(a,s),a},Wc=t=>t?Ur(t):Ur,Qc={};function zc(t,s){let a;try{a=t()}catch{return}return{getItem:i=>{var n;const l=u=>u===null?null:JSON.parse(u,void 0),c=(n=a.getItem(i))!=null?n:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,n)=>a.setItem(i,JSON.stringify(n,void 0)),removeItem:i=>a.removeItem(i)}}const As=t=>s=>{try{const a=t(s);return a instanceof Promise?a:{then(r){return As(r)(a)},catch(r){return this}}}catch(a){return{then(r){return this},catch(r){return As(r)(a)}}}},Hc=(t,s)=>(a,r,i)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,j)=>({...j,...w}),...s},l=!1;const c=new Set,u=new Set;let x;try{x=n.getStorage()}catch{}if(!x)return t((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...w)},r,i);const o=As(n.serialize),h=()=>{const w=n.partialize({...r()});let j;const v=o({state:w,version:n.version}).then(T=>x.setItem(n.name,T)).catch(T=>{j=T});if(j)throw j;return v},y=i.setState;i.setState=(w,j)=>{y(w,j),h()};const b=t((...w)=>{a(...w),h()},r,i);let A;const f=()=>{var w;if(!x)return;l=!1,c.forEach(v=>v(r()));const j=((w=n.onRehydrateStorage)==null?void 0:w.call(n,r()))||void 0;return As(x.getItem.bind(x))(n.name).then(v=>{if(v)return n.deserialize(v)}).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==n.version){if(n.migrate)return n.migrate(v.state,v.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return v.state}).then(v=>{var T;return A=n.merge(v,(T=r())!=null?T:b),a(A,!0),h()}).then(()=>{j==null||j(A,void 0),l=!0,u.forEach(v=>v(A))}).catch(v=>{j==null||j(void 0,v)})};return i.persist={setOptions:w=>{n={...n,...w},w.getStorage&&(x=w.getStorage())},clearStorage:()=>{x==null||x.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:w=>(c.add(w),()=>{c.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},f(),A||b},Gc=(t,s)=>(a,r,i)=>{let n={storage:zc(()=>localStorage),partialize:f=>f,version:0,merge:(f,w)=>({...w,...f}),...s},l=!1;const c=new Set,u=new Set;let x=n.storage;if(!x)return t((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...f)},r,i);const o=()=>{const f=n.partialize({...r()});return x.setItem(n.name,{state:f,version:n.version})},h=i.setState;i.setState=(f,w)=>{h(f,w),o()};const y=t((...f)=>{a(...f),o()},r,i);i.getInitialState=()=>y;let b;const A=()=>{var f,w;if(!x)return;l=!1,c.forEach(v=>{var T;return v((T=r())!=null?T:y)});const j=((w=n.onRehydrateStorage)==null?void 0:w.call(n,(f=r())!=null?f:y))||void 0;return As(x.getItem.bind(x))(n.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==n.version){if(n.migrate)return[!0,n.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var T;const[D,k]=v;if(b=n.merge(k,(T=r())!=null?T:y),a(b,!0),D)return o()}).then(()=>{j==null||j(b,void 0),b=r(),l=!0,u.forEach(v=>v(b))}).catch(v=>{j==null||j(void 0,v)})};return i.persist={setOptions:f=>{n={...n,...f},f.storage&&(x=f.storage)},clearStorage:()=>{x==null||x.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>A(),hasHydrated:()=>l,onHydrate:f=>(c.add(f),()=>{c.delete(f)}),onFinishHydration:f=>(u.add(f),()=>{u.delete(f)})},n.skipHydration||A(),b||y},Yc=(t,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((Qc?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Hc(t,s)):Gc(t,s),Kc=Yc,Jc="http://localhost:3001/api/v1",Zc=3e4,U=$n.create({baseURL:Jc,timeout:Zc,headers:{"Content-Type":"application/json",Accept:"application/json"}});U.interceptors.request.use(t=>{const s=nr();return s&&(t.headers.Authorization=`Bearer ${s}`),t.headers["X-Tenant-Code"]="DEMO",t},t=>Promise.reject(t));U.interceptors.response.use(t=>t,async t=>{var i,n,l,c,u,x,o;const s=t.config;if(((i=t.response)==null?void 0:i.status)===401&&!s._retry){s._retry=!0;try{const{useAuthStore:h}=await Ir(async()=>{const{useAuthStore:b}=await Promise.resolve().then(()=>Br);return{useAuthStore:b}},void 0);await h.getState().refreshToken();const y=nr();if(y)return s.headers.Authorization=`Bearer ${y}`,U(s)}catch{const{useAuthStore:y}=await Ir(async()=>{const{useAuthStore:b}=await Promise.resolve().then(()=>Br);return{useAuthStore:b}},void 0);y.getState().logout(),typeof window<"u"&&(window.location.href="/auth/login")}}const a=((l=(n=t.response)==null?void 0:n.data)==null?void 0:l.message)||t.message||"An error occurred",r=((u=(c=t.response)==null?void 0:c.data)==null?void 0:u.code)||"UNKNOWN_ERROR";return Promise.reject({message:a,code:r,status:(x=t.response)==null?void 0:x.status,data:(o=t.response)==null?void 0:o.data})});class Xc{async login(s){const r=(await U.post("/auth/login",s)).data.data;return{user:{id:r.user.id,email:r.user.email,first_name:r.user.firstName,last_name:r.user.lastName,role:r.user.role,status:r.user.status,permissions:r.user.permissions||[],last_login:r.user.lastLogin,created_at:r.user.createdAt,updated_at:r.user.updatedAt||r.user.createdAt},tokens:{access_token:r.token,refresh_token:r.refreshToken,expires_in:86400,token_type:"Bearer"}}}async logout(){await U.post("/auth/logout")}async refreshToken(s){return(await U.post("/auth/refresh",{refresh_token:s})).data}async forgotPassword(s){await U.post("/auth/forgot-password",s)}async resetPassword(s){await U.post("/auth/reset-password",s)}async changePassword(s){await U.post("/auth/change-password",s)}async verifyToken(s){try{return await U.post("/auth/verify-token",{token:s}),!0}catch{return!1}}async getCurrentUser(){return(await U.get("/auth/me")).data}}const bs=new Xc,qe=Wc()(Kc((t,s)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,login:async a=>{t({isLoading:!0,error:null});try{const r=await bs.login(a);t({user:r.user,tokens:r.tokens,isAuthenticated:!0,isLoading:!1,error:null}),pa(r.tokens.expires_in)}catch(r){throw t({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:r.message||"Login failed"}),r}},logout:()=>{Xi(),bs.logout().catch(console.error),t({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null})},refreshToken:async()=>{const{tokens:a}=s();if(!(a!=null&&a.refresh_token)){s().logout();return}try{const r=await bs.refreshToken(a.refresh_token);t({tokens:{...a,access_token:r.access_token,expires_in:r.expires_in}}),pa(r.expires_in)}catch(r){console.error("Token refresh failed:",r),s().logout()}},clearError:()=>{t({error:null})},initialize:()=>{var i;const{tokens:a,user:r}=s();if(a&&r){t({isAuthenticated:!0});const n=Date.now()/1e3,l=(i=eo(a.access_token))==null?void 0:i.exp;if(l&&l<n)s().refreshToken();else{const c=l?(l-n)*1e3:a.expires_in*1e3;pa(c/1e3)}}},updateUser:a=>{const{user:r}=s();r&&t({user:{...r,...a}})}}),{name:"salessync-auth",partialize:t=>({user:t.user,tokens:t.tokens,isAuthenticated:t.isAuthenticated})}));let zs=null;function pa(t){Xi();const s=Math.max((t-300)*1e3,6e4);zs=setTimeout(()=>{qe.getState().refreshToken()},s)}function Xi(){zs&&(clearTimeout(zs),zs=null)}function eo(t){try{const a=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(a).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(r)}catch{return null}}const nr=()=>{var t;return(t=qe.getState().tokens)==null?void 0:t.access_token},lr=()=>qe.getState().user,en=t=>{const s=lr();return(s==null?void 0:s.role)===t||(s==null?void 0:s.role)==="admin"},cr=t=>{var a;const s=lr();return((a=s==null?void 0:s.permissions)==null?void 0:a.includes(t))||(s==null?void 0:s.role)==="admin"},Br=Object.freeze(Object.defineProperty({__proto__:null,getAuthToken:nr,getCurrentUser:lr,hasPermission:cr,hasRole:en,useAuthStore:qe},Symbol.toStringTag,{value:"Module"}));function to({size:t="md",showText:s=!0,className:a=""}){const[r,i]=p.useState(!1),[n,l]=p.useState(!1);p.useEffect(()=>{l(!0)},[]);const c={sm:"h-8 w-8",md:"h-16 w-16",lg:"h-24 w-24",xl:"h-32 w-32"},u={sm:"text-lg",md:"text-3xl",lg:"text-4xl",xl:"text-5xl"};return e.jsxs("div",{className:`flex flex-col items-center space-y-3 ${a}`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`
            absolute inset-0 rounded-2xl bg-gradient-to-r from-blue-400 via-purple-500 to-blue-600
            transition-all duration-700 ease-out
            ${n?"opacity-20 scale-110":"opacity-0 scale-100"}
            ${r?"opacity-40 scale-125 blur-sm":""}
          `}),e.jsxs("div",{className:`
            relative ${c[t]} 
            bg-gradient-to-br from-blue-600 via-blue-700 to-purple-700
            rounded-2xl shadow-2xl
            flex items-center justify-center
            transition-all duration-500 ease-out
            ${n?"scale-100 rotate-0":"scale-0 rotate-180"}
            ${r?"scale-105 shadow-3xl":""}
            overflow-hidden
          `,children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100",height:"100",fill:"url(#grid)"})]})}),e.jsx("div",{className:"relative z-10 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:`
                  font-bold text-white
                  transition-all duration-700 ease-out
                  ${t==="sm"?"text-sm":t==="md"?"text-xl":t==="lg"?"text-2xl":"text-3xl"}
                  ${n?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                  ${r?"scale-110":""}
                `,style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)",animationDelay:"0.2s"},children:"S"}),e.jsx("span",{className:`
                  font-bold text-white ml-0.5
                  transition-all duration-700 ease-out
                  ${t==="sm"?"text-sm":t==="md"?"text-xl":t==="lg"?"text-2xl":"text-3xl"}
                  ${n?"opacity-100 translate-x-0":"opacity-0 translate-x-4"}
                  ${r?"scale-110":""}
                `,style:{textShadow:"0 2px 4px rgba(0,0,0,0.3)",animationDelay:"0.4s"},children:"S"})]})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((x,o)=>e.jsx("div",{className:`
                  absolute w-1 h-1 bg-white rounded-full opacity-30
                  transition-all duration-1000 ease-out
                  ${r?"animate-pulse":""}
                `,style:{left:`${20+o*12}%`,top:`${15+o*8}%`,animationDelay:`${o*.2}s`,transform:r?`translateY(-${o*2}px)`:"translateY(0)"}},o))})]})]}),s&&e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:`
              ${u[t]} font-bold 
              bg-gradient-to-r from-gray-900 via-blue-900 to-purple-900 
              bg-clip-text text-transparent
              transition-all duration-700 ease-out
              ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
              ${r?"scale-105":""}
            `,style:{animationDelay:"0.6s"},children:"SalesSync"}),e.jsx("p",{className:`
              text-gray-600 font-medium
              transition-all duration-700 ease-out
              ${t==="sm"?"text-xs":t==="md"?"text-sm":"text-base"}
              ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-2"}
              ${r?"text-blue-600":""}
            `,style:{animationDelay:"0.8s"},children:"Field Force Management Platform"})]})]})}function so(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-600/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-purple-400/10 to-blue-400/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[e.jsx("div",{className:"text-center",children:e.jsx(to,{size:"lg",showText:!0})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20 p-8 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:e.jsx(vi,{})}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:e.jsx("p",{children:" 2024 SalesSync. All rights reserved."})})]})]})}const Z={VIEW_USERS:"view_users",VIEW_CUSTOMERS:"view_customers",VIEW_ORDERS:"view_orders",VIEW_PRODUCTS:"view_products",VIEW_VAN_SALES:"view_van_sales",MANAGE_ROUTES:"manage_routes",VIEW_INVENTORY:"view_inventory",MANAGE_TRANSACTIONS:"manage_transactions",MANAGE_DELIVERIES:"manage_deliveries",VIEW_TRADE_MARKETING:"view_trade_marketing",MANAGE_PROMOTIONS:"manage_promotions",MANAGE_INCENTIVES:"manage_incentives",VIEW_MARKET_ANALYSIS:"view_market_analysis",MANAGE_TRADE_SPEND:"manage_trade_spend",VIEW_CAMPAIGNS:"view_campaigns",MANAGE_CAMPAIGNS:"manage_campaigns",MANAGE_AUDIENCES:"manage_audiences",VIEW_CAMPAIGN_PERFORMANCE:"view_campaign_performance",MANAGE_AB_TESTING:"manage_ab_testing",VIEW_FIELD_OPERATIONS:"view_field_operations",MANAGE_BOARD_PLACEMENTS:"manage_board_placements",MANAGE_PRODUCT_DISTRIBUTION:"manage_product_distribution",VIEW_AGENT_LOCATIONS:"view_agent_locations",VIEW_ANALYTICS:"view_analytics",MANAGE_SYSTEM_SETTINGS:"manage_system_settings",VIEW_AUDIT_LOGS:"view_audit_logs",VIEW_COMMISSIONS:"view_commissions"},ao=[{name:"Dashboard",href:"/dashboard",icon:pn,permission:null},{name:"Analytics",href:"/analytics",icon:pi,permission:Z.VIEW_ANALYTICS},{name:"Van Sales",href:"/van-sales",icon:Hs,permission:Z.VIEW_VAN_SALES,children:[{name:"Route Management",href:"/van-sales/routes",permission:Z.MANAGE_ROUTES},{name:"Inventory Tracking",href:"/van-sales/inventory",permission:Z.VIEW_INVENTORY},{name:"Sales Transactions",href:"/van-sales/transactions",permission:Z.MANAGE_TRANSACTIONS},{name:"Delivery Management",href:"/van-sales/deliveries",permission:Z.MANAGE_DELIVERIES}]},{name:"Trade Marketing",href:"/trade-marketing",icon:Be,permission:Z.VIEW_TRADE_MARKETING,children:[{name:"Promotions",href:"/trade-marketing/promotions",permission:Z.MANAGE_PROMOTIONS},{name:"Retailer Incentives",href:"/trade-marketing/incentives",permission:Z.MANAGE_INCENTIVES},{name:"Market Analysis",href:"/trade-marketing/analysis",permission:Z.VIEW_MARKET_ANALYSIS},{name:"Trade Spend",href:"/trade-marketing/spend",permission:Z.MANAGE_TRADE_SPEND}]},{name:"Campaigns",href:"/campaigns",icon:ja,permission:Z.VIEW_CAMPAIGNS,children:[{name:"Campaign Management",href:"/campaigns/management",permission:Z.MANAGE_CAMPAIGNS},{name:"Target Audiences",href:"/campaigns/audiences",permission:Z.MANAGE_AUDIENCES},{name:"Performance Tracking",href:"/campaigns/performance",permission:Z.VIEW_CAMPAIGN_PERFORMANCE},{name:"A/B Testing",href:"/campaigns/testing",permission:Z.MANAGE_AB_TESTING}]},{name:"Field Agents",href:"/field-agents",icon:gn,permission:Z.VIEW_FIELD_OPERATIONS,children:[{name:"Live Mapping",href:"/field-agents/mapping",permission:Z.VIEW_AGENT_LOCATIONS},{name:"Board Placement",href:"/field-agents/boards",permission:Z.MANAGE_BOARD_PLACEMENTS},{name:"Product Distribution",href:"/field-agents/products",permission:Z.MANAGE_PRODUCT_DISTRIBUTION},{name:"Commission Tracking",href:"/field-agents/commission",permission:Z.VIEW_COMMISSIONS}]},{name:"Customers",href:"/customers",icon:yn,permission:Z.VIEW_CUSTOMERS},{name:"Orders",href:"/orders",icon:gi,permission:Z.VIEW_ORDERS},{name:"Products",href:"/products",icon:De,permission:Z.VIEW_PRODUCTS},{name:"Administration",href:"/admin",icon:yi,permission:Z.MANAGE_SYSTEM_SETTINGS,children:[{name:"User Management",href:"/admin/users",permission:Z.VIEW_USERS},{name:"System Settings",href:"/admin/settings",permission:Z.MANAGE_SYSTEM_SETTINGS},{name:"Audit Logs",href:"/admin/audit",permission:Z.VIEW_AUDIT_LOGS}]}];function qr(){var a,r,i;const{user:t}=qe(),s=n=>n.permission?cr(n.permission):!0;return e.jsxs("div",{className:"flex flex-col flex-1 min-h-0 bg-white border-r border-gray-200",children:[e.jsx("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-primary-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary-600",children:"SS"})}),e.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"SalesSync"})]})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:ao.map(n=>s(n)?e.jsxs("div",{children:[e.jsxs(Sr,{to:n.href,className:({isActive:l})=>`nav-link ${l?"nav-link-active":"nav-link-inactive"}`,children:[e.jsx(n.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),n.name]}),n.children&&e.jsx("div",{className:"ml-8 mt-1 space-y-1",children:n.children.map(l=>s(l)?e.jsx(Sr,{to:l.href,className:({isActive:c})=>`nav-link text-sm ${c?"nav-link-active":"nav-link-inactive"}`,children:l.name},l.name):null)})]},n.name):null)}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(a=t==null?void 0:t.first_name)==null?void 0:a[0],(r=t==null?void 0:t.last_name)==null?void 0:r[0]]})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(i=t==null?void 0:t.role)==null?void 0:i.replace("_"," ")})]})]})})]})]})}function ro({onMenuClick:t}){var u,x;const{user:s,logout:a}=qe(),[r,i]=p.useState(!1),[n,l]=p.useState(!1),c=()=>{a()};return e.jsxs("div",{className:"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[e.jsx("button",{type:"button",className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",onClick:t,children:e.jsx(jn,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1 px-4 flex justify-between",children:[e.jsx("div",{className:"flex-1 flex",children:e.jsxs("div",{className:"w-full flex md:ml-0",children:[e.jsx("label",{htmlFor:"search-field",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:e.jsx(ds,{className:"h-5 w-5"})}),e.jsx("input",{id:"search-field",className:"block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent",placeholder:"Search customers, orders, products...",type:"search"})]})]})}),e.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:()=>l(!n),children:[e.jsx(vn,{className:"h-6 w-6"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-white",children:"3"})})]}),n&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:e.jsxs("div",{className:"py-1",children:[e.jsx("div",{className:"px-4 py-2 text-sm font-medium text-gray-900 border-b border-gray-200",children:"Notifications"}),e.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx("div",{className:"font-medium",children:"New board placement"}),e.jsx("div",{className:"text-gray-500",children:"John Doe placed a premium billboard"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"2 minutes ago"})]}),e.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx("div",{className:"font-medium",children:"Product distribution completed"}),e.jsx("div",{className:"text-gray-500",children:"Jane Smith completed delivery to ABC Store"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"15 minutes ago"})]}),e.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx("div",{className:"font-medium",children:"Low inventory alert"}),e.jsx("div",{className:"text-gray-500",children:"Premium Widget A is running low"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"1 hour ago"})]}),e.jsx("div",{className:"px-4 py-2 text-center border-t border-gray-200",children:e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-500",children:"View all notifications"})})]})})]}),e.jsxs("div",{className:"ml-3 relative",children:[e.jsx("div",{children:e.jsx("button",{type:"button",className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:()=>i(!r),children:e.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:[(u=s==null?void 0:s.first_name)==null?void 0:u[0],(x=s==null?void 0:s.last_name)==null?void 0:x[0]]})})})}),r&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-200",children:[e.jsxs("div",{className:"font-medium",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsx("div",{className:"text-gray-500",children:s==null?void 0:s.email})]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(va,{className:"mr-3 h-4 w-4"}),"Profile Settings"]}),e.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(yi,{className:"mr-3 h-4 w-4"}),"Preferences"]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(bn,{className:"mr-3 h-4 w-4"}),"Sign out"]})})]})})]})]})]})]})}const io=({className:t="",showWhenOnline:s=!1})=>{const[a,r]=p.useState(navigator.onLine),[i,n]=p.useState(!1);return p.useEffect(()=>{const l=()=>{r(!0),n(!0),setTimeout(()=>n(!1),3e3)},c=()=>{r(!1),n(!0)};return window.addEventListener("online",l),window.addEventListener("offline",c),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",c)}},[]),a&&!s&&!i?null:e.jsx("div",{className:`fixed top-4 right-4 z-50 ${t}`,children:e.jsx("div",{className:`
          flex items-center space-x-2 px-4 py-2 rounded-lg shadow-lg transition-all duration-300
          ${a?"bg-green-500 text-white":"bg-red-500 text-white"}
          ${i?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}
        `,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Nn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Back online"})]}):e.jsxs(e.Fragment,{children:[e.jsx(wn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"You're offline"})]})})})};function no(){const[t,s]=p.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&e.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>s(!1)}),e.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsx("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>s(!1),children:e.jsx(Sn,{className:"h-6 w-6 text-white"})})}),e.jsx(qr,{})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsx(qr,{})}),e.jsxs("div",{className:"lg:pl-64 flex flex-col flex-1",children:[e.jsx(ro,{onMenuClick:()=>s(!0)}),e.jsx("main",{className:"flex-1 pb-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(vi,{})})})]}),e.jsx(io,{})]})}class lo extends p.Component{constructor(a){super(a);hs(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){var i,n;console.error("ErrorBoundary caught an error:",a,r),this.setState({error:a,errorInfo:r}),(n=(i=this.props).onError)==null||n.call(i,a,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(Ft,{className:"h-12 w-12 text-red-500"})}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"w-full btn-primary flex items-center justify-center gap-2",children:[e.jsx(sa,{className:"h-4 w-4"}),"Try Again"]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full btn-outline",children:"Refresh Page"})]}),!1]})}):this.props.children}}var Os=t=>t.type==="checkbox",St=t=>t instanceof Date,Se=t=>t==null;const tn=t=>typeof t=="object";var ce=t=>!Se(t)&&!Array.isArray(t)&&tn(t)&&!St(t),co=t=>ce(t)&&t.target?Os(t.target)?t.target.checked:t.target.value:t,oo=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mo=(t,s)=>t.has(oo(s)),uo=t=>{const s=t.constructor&&t.constructor.prototype;return ce(s)&&s.hasOwnProperty("isPrototypeOf")},or=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ue(t){let s;const a=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(or&&(t instanceof Blob||r))&&(a||ce(t)))if(s=a?[]:Object.create(Object.getPrototypeOf(t)),!a&&!uo(t))s=t;else for(const i in t)t.hasOwnProperty(i)&&(s[i]=ue(t[i]));else return t;return s}var ca=t=>/^\w*$/.test(t),ie=t=>t===void 0,dr=t=>Array.isArray(t)?t.filter(Boolean):[],mr=t=>dr(t.replace(/["|']|\]/g,"").split(/\.|\[/)),I=(t,s,a)=>{if(!s||!ce(t))return a;const r=(ca(s)?[s]:mr(s)).reduce((i,n)=>Se(i)?i:i[n],t);return ie(r)||r===t?ie(t[s])?a:t[s]:r},Oe=t=>typeof t=="boolean",te=(t,s,a)=>{let r=-1;const i=ca(s)?[s]:mr(s),n=i.length,l=n-1;for(;++r<n;){const c=i[r];let u=a;if(r!==l){const x=t[c];u=ce(x)||Array.isArray(x)?x:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const Wr={BLUR:"blur",FOCUS_OUT:"focusout"},Fe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ze={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xo=le.createContext(null);xo.displayName="HookFormContext";var ho=(t,s,a,r=!0)=>{const i={defaultValues:s._defaultValues};for(const n in t)Object.defineProperty(i,n,{get:()=>{const l=n;return s._proxyFormState[l]!==Fe.all&&(s._proxyFormState[l]=!r||Fe.all),t[l]}});return i};const fo=typeof window<"u"?le.useLayoutEffect:le.useEffect;var ke=t=>typeof t=="string",po=(t,s,a,r,i)=>ke(t)?(r&&s.watch.add(t),I(a,t,i)):Array.isArray(t)?t.map(n=>(r&&s.watch.add(n),I(a,n))):(r&&(s.watchAll=!0),a),qa=t=>Se(t)||!tn(t);function rt(t,s,a=new WeakSet){if(qa(t)||qa(s))return t===s;if(St(t)&&St(s))return t.getTime()===s.getTime();const r=Object.keys(t),i=Object.keys(s);if(r.length!==i.length)return!1;if(a.has(t)||a.has(s))return!0;a.add(t),a.add(s);for(const n of r){const l=t[n];if(!i.includes(n))return!1;if(n!=="ref"){const c=s[n];if(St(l)&&St(c)||ce(l)&&ce(c)||Array.isArray(l)&&Array.isArray(c)?!rt(l,c,a):l!==c)return!1}}return!0}var go=(t,s,a,r,i)=>s?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[r]:i||!0}}:{},Ns=t=>Array.isArray(t)?t:[t],Qr=()=>{let t=[];return{get observers(){return t},next:i=>{for(const n of t)n.next&&n.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(n=>n!==i)}}),unsubscribe:()=>{t=[]}}};function sn(t,s){const a={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],n=s[r];if(i&&ce(i)&&n){const l=sn(i,n);ce(l)&&(a[r]=l)}else t[r]&&(a[r]=n)}return a}var we=t=>ce(t)&&!Object.keys(t).length,ur=t=>t.type==="file",Me=t=>typeof t=="function",Xs=t=>{if(!or)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},an=t=>t.type==="select-multiple",xr=t=>t.type==="radio",yo=t=>xr(t)||Os(t),ga=t=>Xs(t)&&t.isConnected;function jo(t,s){const a=s.slice(0,-1).length;let r=0;for(;r<a;)t=ie(t)?r++:t[s[r++]];return t}function vo(t){for(const s in t)if(t.hasOwnProperty(s)&&!ie(t[s]))return!1;return!0}function ne(t,s){const a=Array.isArray(s)?s:ca(s)?[s]:mr(s),r=a.length===1?t:jo(t,a),i=a.length-1,n=a[i];return r&&delete r[n],i!==0&&(ce(r)&&we(r)||Array.isArray(r)&&vo(r))&&ne(t,a.slice(0,-1)),t}var bo=t=>{for(const s in t)if(Me(t[s]))return!0;return!1};function rn(t){return Array.isArray(t)||ce(t)&&!bo(t)}function Wa(t,s={}){for(const a in t)rn(t[a])?(s[a]=Array.isArray(t[a])?[]:{},Wa(t[a],s[a])):ie(t[a])||(s[a]=!0);return s}function Yt(t,s,a){a||(a=Wa(s));for(const r in t)rn(t[r])?ie(s)||qa(a[r])?a[r]=Wa(t[r],Array.isArray(t[r])?[]:{}):Yt(t[r],Se(s)?{}:s[r],a[r]):a[r]=!rt(t[r],s[r]);return a}const zr={value:!1,isValid:!1},Hr={value:!0,isValid:!0};var nn=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ie(t[0].attributes.value)?ie(t[0].value)||t[0].value===""?Hr:{value:t[0].value,isValid:!0}:Hr:zr}return zr},ln=(t,{valueAsNumber:s,valueAsDate:a,setValueAs:r})=>ie(t)?t:s?t===""?NaN:t&&+t:a&&ke(t)?new Date(t):r?r(t):t;const Gr={isValid:!1,value:null};var cn=t=>Array.isArray(t)?t.reduce((s,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:s,Gr):Gr;function Yr(t){const s=t.ref;return ur(s)?s.files:xr(s)?cn(t.refs).value:an(s)?[...s.selectedOptions].map(({value:a})=>a):Os(s)?nn(t.refs).value:ln(ie(s.value)?t.ref.value:s.value,t)}var No=(t,s,a,r)=>{const i={};for(const n of t){const l=I(s,n);l&&te(i,n,l._f)}return{criteriaMode:a,names:[...t],fields:i,shouldUseNativeValidation:r}},ea=t=>t instanceof RegExp,fs=t=>ie(t)?t:ea(t)?t.source:ce(t)?ea(t.value)?t.value.source:t.value:t,Kr=t=>({isOnSubmit:!t||t===Fe.onSubmit,isOnBlur:t===Fe.onBlur,isOnChange:t===Fe.onChange,isOnAll:t===Fe.all,isOnTouch:t===Fe.onTouched});const Jr="AsyncFunction";var wo=t=>!!t&&!!t.validate&&!!(Me(t.validate)&&t.validate.constructor.name===Jr||ce(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===Jr)),So=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Zr=(t,s,a)=>!a&&(s.watchAll||s.watch.has(t)||[...s.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ws=(t,s,a,r)=>{for(const i of a||Object.keys(t)){const n=I(t,i);if(n){const{_f:l,...c}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],i)&&!r)return!0;if(l.ref&&s(l.ref,l.name)&&!r)return!0;if(ws(c,s))break}else if(ce(c)&&ws(c,s))break}}};function Xr(t,s,a){const r=I(t,a);if(r||ca(a))return{error:r,name:a};const i=a.split(".");for(;i.length;){const n=i.join("."),l=I(s,n),c=I(t,n);if(l&&!Array.isArray(l)&&a!==n)return{name:a};if(c&&c.type)return{name:n,error:c};if(c&&c.root&&c.root.type)return{name:`${n}.root`,error:c.root};i.pop()}return{name:a}}var _o=(t,s,a,r)=>{a(t);const{name:i,...n}=t;return we(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!r||Fe.all))},ko=(t,s,a)=>!t||!s||t===s||Ns(t).some(r=>r&&(a?r===s:r.startsWith(s)||s.startsWith(r))),Co=(t,s,a,r,i)=>i.isOnAll?!1:!a&&i.isOnTouch?!(s||t):(a?r.isOnBlur:i.isOnBlur)?!t:(a?r.isOnChange:i.isOnChange)?t:!0,Ao=(t,s)=>!dr(I(t,s)).length&&ne(t,s),Eo=(t,s,a)=>{const r=Ns(I(t,a));return te(r,"root",s[a]),te(t,a,r),t};function ei(t,s,a="validate"){if(ke(t)||Array.isArray(t)&&t.every(ke)||Oe(t)&&!t)return{type:a,message:ke(t)?t:"",ref:s}}var Qt=t=>ce(t)&&!ea(t)?t:{value:t,message:""},ti=async(t,s,a,r,i,n)=>{const{ref:l,refs:c,required:u,maxLength:x,minLength:o,min:h,max:y,pattern:b,validate:A,name:f,valueAsNumber:w,mount:j}=t._f,v=I(a,f);if(!j||s.has(f))return{};const T=c?c[0]:l,D=$=>{i&&T.reportValidity&&(T.setCustomValidity(Oe($)?"":$||""),T.reportValidity())},k={},_=xr(l),O=Os(l),C=_||O,B=(w||ur(l))&&ie(l.value)&&ie(v)||Xs(l)&&l.value===""||v===""||Array.isArray(v)&&!v.length,S=go.bind(null,f,r,k),z=($,W,se,pe=ze.maxLength,ge=ze.minLength)=>{const _e=$?W:se;k[f]={type:$?pe:ge,message:_e,ref:l,...S($?pe:ge,_e)}};if(n?!Array.isArray(v)||!v.length:u&&(!C&&(B||Se(v))||Oe(v)&&!v||O&&!nn(c).isValid||_&&!cn(c).isValid)){const{value:$,message:W}=ke(u)?{value:!!u,message:u}:Qt(u);if($&&(k[f]={type:ze.required,message:W,ref:T,...S(ze.required,W)},!r))return D(W),k}if(!B&&(!Se(h)||!Se(y))){let $,W;const se=Qt(y),pe=Qt(h);if(!Se(v)&&!isNaN(v)){const ge=l.valueAsNumber||v&&+v;Se(se.value)||($=ge>se.value),Se(pe.value)||(W=ge<pe.value)}else{const ge=l.valueAsDate||new Date(v),_e=We=>new Date(new Date().toDateString()+" "+We),yt=l.type=="time",Ce=l.type=="week";ke(se.value)&&v&&($=yt?_e(v)>_e(se.value):Ce?v>se.value:ge>new Date(se.value)),ke(pe.value)&&v&&(W=yt?_e(v)<_e(pe.value):Ce?v<pe.value:ge<new Date(pe.value))}if(($||W)&&(z(!!$,se.message,pe.message,ze.max,ze.min),!r))return D(k[f].message),k}if((x||o)&&!B&&(ke(v)||n&&Array.isArray(v))){const $=Qt(x),W=Qt(o),se=!Se($.value)&&v.length>+$.value,pe=!Se(W.value)&&v.length<+W.value;if((se||pe)&&(z(se,$.message,W.message),!r))return D(k[f].message),k}if(b&&!B&&ke(v)){const{value:$,message:W}=Qt(b);if(ea($)&&!v.match($)&&(k[f]={type:ze.pattern,message:W,ref:l,...S(ze.pattern,W)},!r))return D(W),k}if(A){if(Me(A)){const $=await A(v,a),W=ei($,T);if(W&&(k[f]={...W,...S(ze.validate,W.message)},!r))return D(W.message),k}else if(ce(A)){let $={};for(const W in A){if(!we($)&&!r)break;const se=ei(await A[W](v,a),T,W);se&&($={...se,...S(W,se.message)},D(se.message),r&&(k[f]=$))}if(!we($)&&(k[f]={ref:T,...$},!r))return k}}return D(!0),k};const Po={mode:Fe.onSubmit,reValidateMode:Fe.onChange,shouldFocusError:!0};function Do(t={}){let s={...Po,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Me(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},r={},i=ce(s.defaultValues)||ce(s.values)?ue(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:ue(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,x=0;const o={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...o};const y={array:Qr(),state:Qr()},b=s.criteriaMode===Fe.all,A=m=>g=>{clearTimeout(x),x=setTimeout(m,g)},f=async m=>{if(!s.disabled&&(o.isValid||h.isValid||m)){const g=s.resolver?we((await O()).errors):await B(r,!0);g!==a.isValid&&y.state.next({isValid:g})}},w=(m,g)=>{!s.disabled&&(o.isValidating||o.validatingFields||h.isValidating||h.validatingFields)&&((m||Array.from(c.mount)).forEach(N=>{N&&(g?te(a.validatingFields,N,g):ne(a.validatingFields,N))}),y.state.next({validatingFields:a.validatingFields,isValidating:!we(a.validatingFields)}))},j=(m,g=[],N,M,R=!0,E=!0)=>{if(M&&N&&!s.disabled){if(l.action=!0,E&&Array.isArray(I(r,m))){const V=N(I(r,m),M.argA,M.argB);R&&te(r,m,V)}if(E&&Array.isArray(I(a.errors,m))){const V=N(I(a.errors,m),M.argA,M.argB);R&&te(a.errors,m,V),Ao(a.errors,m)}if((o.touchedFields||h.touchedFields)&&E&&Array.isArray(I(a.touchedFields,m))){const V=N(I(a.touchedFields,m),M.argA,M.argB);R&&te(a.touchedFields,m,V)}(o.dirtyFields||h.dirtyFields)&&(a.dirtyFields=Yt(i,n)),y.state.next({name:m,isDirty:z(m,g),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else te(n,m,g)},v=(m,g)=>{te(a.errors,m,g),y.state.next({errors:a.errors})},T=m=>{a.errors=m,y.state.next({errors:a.errors,isValid:!1})},D=(m,g,N,M)=>{const R=I(r,m);if(R){const E=I(n,m,ie(N)?I(i,m):N);ie(E)||M&&M.defaultChecked||g?te(n,m,g?E:Yr(R._f)):se(m,E),l.mount&&f()}},k=(m,g,N,M,R)=>{let E=!1,V=!1;const J={name:m};if(!s.disabled){if(!N||M){(o.isDirty||h.isDirty)&&(V=a.isDirty,a.isDirty=J.isDirty=z(),E=V!==J.isDirty);const X=rt(I(i,m),g);V=!!I(a.dirtyFields,m),X?ne(a.dirtyFields,m):te(a.dirtyFields,m,!0),J.dirtyFields=a.dirtyFields,E=E||(o.dirtyFields||h.dirtyFields)&&V!==!X}if(N){const X=I(a.touchedFields,m);X||(te(a.touchedFields,m,N),J.touchedFields=a.touchedFields,E=E||(o.touchedFields||h.touchedFields)&&X!==N)}E&&R&&y.state.next(J)}return E?J:{}},_=(m,g,N,M)=>{const R=I(a.errors,m),E=(o.isValid||h.isValid)&&Oe(g)&&a.isValid!==g;if(s.delayError&&N?(u=A(()=>v(m,N)),u(s.delayError)):(clearTimeout(x),u=null,N?te(a.errors,m,N):ne(a.errors,m)),(N?!rt(R,N):R)||!we(M)||E){const V={...M,...E&&Oe(g)?{isValid:g}:{},errors:a.errors,name:m};a={...a,...V},y.state.next(V)}},O=async m=>{w(m,!0);const g=await s.resolver(n,s.context,No(m||c.mount,r,s.criteriaMode,s.shouldUseNativeValidation));return w(m),g},C=async m=>{const{errors:g}=await O(m);if(m)for(const N of m){const M=I(g,N);M?te(a.errors,N,M):ne(a.errors,N)}else a.errors=g;return g},B=async(m,g,N={valid:!0})=>{for(const M in m){const R=m[M];if(R){const{_f:E,...V}=R;if(E){const J=c.array.has(E.name),X=R._f&&wo(R._f);X&&o.validatingFields&&w([E.name],!0);const Ae=await ti(R,c.disabled,n,b,s.shouldUseNativeValidation&&!g,J);if(X&&o.validatingFields&&w([E.name]),Ae[E.name]&&(N.valid=!1,g))break;!g&&(I(Ae,E.name)?J?Eo(a.errors,Ae,E.name):te(a.errors,E.name,Ae[E.name]):ne(a.errors,E.name))}!we(V)&&await B(V,g,N)}}return N.valid},S=()=>{for(const m of c.unMount){const g=I(r,m);g&&(g._f.refs?g._f.refs.every(N=>!ga(N)):!ga(g._f.ref))&&Ut(m)}c.unMount=new Set},z=(m,g)=>!s.disabled&&(m&&g&&te(n,m,g),!rt(We(),i)),$=(m,g,N)=>po(m,c,{...l.mount?n:ie(g)?i:ke(m)?{[m]:g}:g},N,g),W=m=>dr(I(l.mount?n:i,m,s.shouldUnregister?I(i,m,[]):[])),se=(m,g,N={})=>{const M=I(r,m);let R=g;if(M){const E=M._f;E&&(!E.disabled&&te(n,m,ln(g,E)),R=Xs(E.ref)&&Se(g)?"":g,an(E.ref)?[...E.ref.options].forEach(V=>V.selected=R.includes(V.value)):E.refs?Os(E.ref)?E.refs.forEach(V=>{(!V.defaultChecked||!V.disabled)&&(Array.isArray(R)?V.checked=!!R.find(J=>J===V.value):V.checked=R===V.value||!!R)}):E.refs.forEach(V=>V.checked=V.value===R):ur(E.ref)?E.ref.value="":(E.ref.value=R,E.ref.type||y.state.next({name:m,values:ue(n)})))}(N.shouldDirty||N.shouldTouch)&&k(m,R,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&Ce(m)},pe=(m,g,N)=>{for(const M in g){if(!g.hasOwnProperty(M))return;const R=g[M],E=m+"."+M,V=I(r,E);(c.array.has(m)||ce(R)||V&&!V._f)&&!St(R)?pe(E,R,N):se(E,R,N)}},ge=(m,g,N={})=>{const M=I(r,m),R=c.array.has(m),E=ue(g);te(n,m,E),R?(y.array.next({name:m,values:ue(n)}),(o.isDirty||o.dirtyFields||h.isDirty||h.dirtyFields)&&N.shouldDirty&&y.state.next({name:m,dirtyFields:Yt(i,n),isDirty:z(m,E)})):M&&!M._f&&!Se(E)?pe(m,E,N):se(m,E,N),Zr(m,c)&&y.state.next({...a,name:m}),y.state.next({name:l.mount?m:void 0,values:ue(n)})},_e=async m=>{l.mount=!0;const g=m.target;let N=g.name,M=!0;const R=I(r,N),E=X=>{M=Number.isNaN(X)||St(X)&&isNaN(X.getTime())||rt(X,I(n,N,X))},V=Kr(s.mode),J=Kr(s.reValidateMode);if(R){let X,Ae;const $s=g.type?Yr(R._f):co(m),tt=m.type===Wr.BLUR||m.type===Wr.FOCUS_OUT,mn=!So(R._f)&&!s.resolver&&!I(a.errors,N)&&!R._f.deps||Co(tt,I(a.touchedFields,N),a.isSubmitted,J,V),ma=Zr(N,c,tt);te(n,N,$s),tt?(!g||!g.readOnly)&&(R._f.onBlur&&R._f.onBlur(m),u&&u(0)):R._f.onChange&&R._f.onChange(m);const ua=k(N,$s,tt),un=!we(ua)||ma;if(!tt&&y.state.next({name:N,type:m.type,values:ue(n)}),mn)return(o.isValid||h.isValid)&&(s.mode==="onBlur"?tt&&f():tt||f()),un&&y.state.next({name:N,...ma?{}:ua});if(!tt&&ma&&y.state.next({...a}),s.resolver){const{errors:yr}=await O([N]);if(E($s),M){const xn=Xr(a.errors,r,N),jr=Xr(yr,r,xn.name||N);X=jr.error,N=jr.name,Ae=we(yr)}}else w([N],!0),X=(await ti(R,c.disabled,n,b,s.shouldUseNativeValidation))[N],w([N]),E($s),M&&(X?Ae=!1:(o.isValid||h.isValid)&&(Ae=await B(r,!0)));M&&(R._f.deps&&(!Array.isArray(R._f.deps)||R._f.deps.length>0)&&Ce(R._f.deps),_(N,Ae,X,ua))}},yt=(m,g)=>{if(I(a.errors,g)&&m.focus)return m.focus(),1},Ce=async(m,g={})=>{let N,M;const R=Ns(m);if(s.resolver){const E=await C(ie(m)?m:R);N=we(E),M=m?!R.some(V=>I(E,V)):N}else m?(M=(await Promise.all(R.map(async E=>{const V=I(r,E);return await B(V&&V._f?{[E]:V}:V)}))).every(Boolean),!(!M&&!a.isValid)&&f()):M=N=await B(r);return y.state.next({...!ke(m)||(o.isValid||h.isValid)&&N!==a.isValid?{}:{name:m},...s.resolver||!m?{isValid:N}:{},errors:a.errors}),g.shouldFocus&&!M&&ws(r,yt,m?R:c.mount),M},We=(m,g)=>{let N={...l.mount?n:i};return g&&(N=sn(g.dirtyFields?a.dirtyFields:a.touchedFields,N)),ie(m)?N:ke(m)?I(N,m):m.map(M=>I(N,M))},jt=(m,g)=>({invalid:!!I((g||a).errors,m),isDirty:!!I((g||a).dirtyFields,m),error:I((g||a).errors,m),isValidating:!!I(a.validatingFields,m),isTouched:!!I((g||a).touchedFields,m)}),vt=m=>{m&&Ns(m).forEach(g=>ne(a.errors,g)),y.state.next({errors:m?a.errors:{}})},Is=(m,g,N)=>{const M=(I(r,m,{_f:{}})._f||{}).ref,R=I(a.errors,m)||{},{ref:E,message:V,type:J,...X}=R;te(a.errors,m,{...X,...g,ref:M}),y.state.next({name:m,errors:a.errors,isValid:!1}),N&&N.shouldFocus&&M&&M.focus&&M.focus()},oa=(m,g)=>Me(m)?y.state.subscribe({next:N=>"values"in N&&m($(void 0,g),N)}):$(m,g,!0),Ls=m=>y.state.subscribe({next:g=>{ko(m.name,g.name,m.exact)&&_o(g,m.formState||o,dn,m.reRenderRoot)&&m.callback({values:{...n},...a,...g,defaultValues:i})}}).unsubscribe,da=m=>(l.mount=!0,h={...h,...m.formState},Ls({...m,formState:h})),Ut=(m,g={})=>{for(const N of m?Ns(m):c.mount)c.mount.delete(N),c.array.delete(N),g.keepValue||(ne(r,N),ne(n,N)),!g.keepError&&ne(a.errors,N),!g.keepDirty&&ne(a.dirtyFields,N),!g.keepTouched&&ne(a.touchedFields,N),!g.keepIsValidating&&ne(a.validatingFields,N),!s.shouldUnregister&&!g.keepDefaultValue&&ne(i,N);y.state.next({values:ue(n)}),y.state.next({...a,...g.keepDirty?{isDirty:z()}:{}}),!g.keepIsValid&&f()},P=({disabled:m,name:g})=>{(Oe(m)&&l.mount||m||c.disabled.has(g))&&(m?c.disabled.add(g):c.disabled.delete(g))},ae=(m,g={})=>{let N=I(r,m);const M=Oe(g.disabled)||Oe(s.disabled);return te(r,m,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:m}},name:m,mount:!0,...g}}),c.mount.add(m),N?P({disabled:Oe(g.disabled)?g.disabled:s.disabled,name:m}):D(m,!0,g.value),{...M?{disabled:g.disabled||s.disabled}:{},...s.progressive?{required:!!g.required,min:fs(g.min),max:fs(g.max),minLength:fs(g.minLength),maxLength:fs(g.maxLength),pattern:fs(g.pattern)}:{},name:m,onChange:_e,onBlur:_e,ref:R=>{if(R){ae(m,g),N=I(r,m);const E=ie(R.value)&&R.querySelectorAll&&R.querySelectorAll("input,select,textarea")[0]||R,V=yo(E),J=N._f.refs||[];if(V?J.find(X=>X===E):E===N._f.ref)return;te(r,m,{_f:{...N._f,...V?{refs:[...J.filter(ga),E,...Array.isArray(I(i,m))?[{}]:[]],ref:{type:E.type,name:m}}:{ref:E}}}),D(m,!1,void 0,E)}else N=I(r,m,{}),N._f&&(N._f.mount=!1),(s.shouldUnregister||g.shouldUnregister)&&!(mo(c.array,m)&&l.action)&&c.unMount.add(m)}}},ee=()=>s.shouldFocusError&&ws(r,yt,c.mount),oe=m=>{Oe(m)&&(y.state.next({disabled:m}),ws(r,(g,N)=>{const M=I(r,N);M&&(g.disabled=M._f.disabled||m,Array.isArray(M._f.refs)&&M._f.refs.forEach(R=>{R.disabled=M._f.disabled||m}))},0,!1))},Vs=(m,g)=>async N=>{let M;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let R=ue(n);if(y.state.next({isSubmitting:!0}),s.resolver){const{errors:E,values:V}=await O();a.errors=E,R=ue(V)}else await B(r);if(c.disabled.size)for(const E of c.disabled)ne(R,E);if(ne(a.errors,"root"),we(a.errors)){y.state.next({errors:{}});try{await m(R,N)}catch(E){M=E}}else g&&await g({...a.errors},N),ee(),setTimeout(ee);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:we(a.errors)&&!M,submitCount:a.submitCount+1,errors:a.errors}),M)throw M},Bt=(m,g={})=>{I(r,m)&&(ie(g.defaultValue)?ge(m,ue(I(i,m))):(ge(m,g.defaultValue),te(i,m,ue(g.defaultValue))),g.keepTouched||ne(a.touchedFields,m),g.keepDirty||(ne(a.dirtyFields,m),a.isDirty=g.defaultValue?z(m,ue(I(i,m))):z()),g.keepError||(ne(a.errors,m),o.isValid&&f()),y.state.next({...a}))},fr=(m,g={})=>{const N=m?ue(m):i,M=ue(N),R=we(m),E=R?i:M;if(g.keepDefaultValues||(i=N),!g.keepValues){if(g.keepDirtyValues){const V=new Set([...c.mount,...Object.keys(Yt(i,n))]);for(const J of Array.from(V))I(a.dirtyFields,J)?te(E,J,I(n,J)):ge(J,I(E,J))}else{if(or&&ie(m))for(const V of c.mount){const J=I(r,V);if(J&&J._f){const X=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(Xs(X)){const Ae=X.closest("form");if(Ae){Ae.reset();break}}}}if(g.keepFieldsRef)for(const V of c.mount)ge(V,I(E,V));else r={}}n=s.shouldUnregister?g.keepDefaultValues?ue(i):{}:ue(E),y.array.next({values:{...E}}),y.state.next({values:{...E}})}c={mount:g.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!o.isValid||!!g.keepIsValid||!!g.keepDirtyValues,l.watch=!!s.shouldUnregister,y.state.next({submitCount:g.keepSubmitCount?a.submitCount:0,isDirty:R?!1:g.keepDirty?a.isDirty:!!(g.keepDefaultValues&&!rt(m,i)),isSubmitted:g.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:R?{}:g.keepDirtyValues?g.keepDefaultValues&&n?Yt(i,n):a.dirtyFields:g.keepDefaultValues&&m?Yt(i,m):g.keepDirty?a.dirtyFields:{},touchedFields:g.keepTouched?a.touchedFields:{},errors:g.keepErrors?a.errors:{},isSubmitSuccessful:g.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},pr=(m,g)=>fr(Me(m)?m(n):m,g),on=(m,g={})=>{const N=I(r,m),M=N&&N._f;if(M){const R=M.refs?M.refs[0]:M.ref;R.focus&&(R.focus(),g.shouldSelect&&Me(R.select)&&R.select())}},dn=m=>{a={...a,...m}},gr={control:{register:ae,unregister:Ut,getFieldState:jt,handleSubmit:Vs,setError:Is,_subscribe:Ls,_runSchema:O,_focusError:ee,_getWatch:$,_getDirty:z,_setValid:f,_setFieldArray:j,_setDisabledField:P,_setErrors:T,_getFieldArray:W,_reset:fr,_resetDefaultValues:()=>Me(s.defaultValues)&&s.defaultValues().then(m=>{pr(m,s.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:S,_disableForm:oe,_subjects:y,_proxyFormState:o,get _fields(){return r},get _formValues(){return n},get _state(){return l},set _state(m){l=m},get _defaultValues(){return i},get _names(){return c},set _names(m){c=m},get _formState(){return a},get _options(){return s},set _options(m){s={...s,...m}}},subscribe:da,trigger:Ce,register:ae,handleSubmit:Vs,watch:oa,setValue:ge,getValues:We,reset:pr,resetField:Bt,clearErrors:vt,unregister:Ut,setError:Is,setFocus:on,getFieldState:jt};return{...gr,formControl:gr}}function hr(t={}){const s=le.useRef(void 0),a=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:Me(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Me(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:r},t.defaultValues&&!Me(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...c}=Do(t);s.current={...c,formState:r}}const n=s.current.control;return n._options=t,fo(()=>{const l=n._subscribe({formState:n._proxyFormState,callback:()=>i({...n._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),n._formState.isReady=!0,l},[n]),le.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),le.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),le.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),le.useEffect(()=>{if(n._proxyFormState.isDirty){const l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),le.useEffect(()=>{t.values&&!rt(t.values,a.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),a.current=t.values,i(l=>({...l}))):n._resetDefaultValues()},[n,t.values]),le.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=ho(r,n),s.current}function us(...t){return Un(Bn(t))}const To={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},Ro={primary:"border-primary-600 border-t-transparent",white:"border-white border-t-transparent",gray:"border-gray-300 border-t-transparent"};function gt({size:t="md",className:s,color:a="primary"}){return e.jsx("div",{className:us("animate-spin rounded-full border-2",To[t],Ro[a],s),role:"status","aria-label":"Loading",children:e.jsx("span",{className:"sr-only",children:"Loading..."})})}function Fo(){var f,w;const[t,s]=p.useState(!1),[a,r]=p.useState(!1),{login:i,isLoading:n,error:l,clearError:c}=qe(),u=bi(),o=((w=(f=Ni().state)==null?void 0:f.from)==null?void 0:w.pathname)||"/dashboard";p.useEffect(()=>{r(!0)},[]);const{register:h,handleSubmit:y,formState:{errors:b}}=hr({defaultValues:{email:"",password:"",remember_me:!1}}),A=async j=>{try{c(),await i(j),Mt.success("Welcome back!"),u(o,{replace:!0})}catch(v){Mt.error(v.message||"Login failed")}};return e.jsxs("div",{className:`space-y-6 transition-all duration-700 ease-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Welcome Back"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to continue to your dashboard"})]}),e.jsxs("form",{className:"space-y-6",onSubmit:y(A),children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2 transition-colors group-focus-within:text-blue-600",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-colors group-focus-within:text-blue-600",children:e.jsx(ba,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500"})}),e.jsx("input",{...h("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white hover:bg-white",placeholder:"Enter your email",autoComplete:"email"})]}),b.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600 animate-pulse",children:b.email.message})]}),e.jsxs("div",{className:"group",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2 transition-colors group-focus-within:text-blue-600",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-colors group-focus-within:text-blue-600",children:e.jsx(Na,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500"})}),e.jsx("input",{...h("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:t?"text":"password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white hover:bg-white",placeholder:"Enter your password",autoComplete:"current-password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>s(!t),children:t?e.jsx(wa,{className:"h-5 w-5"}):e.jsx(Ot,{className:"h-5 w-5"})})]}),b.password&&e.jsx("p",{className:"mt-2 text-sm text-red-600 animate-pulse",children:b.password.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...h("remember_me"),id:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-colors"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(Kt,{to:"/auth/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors hover:underline",children:"Forgot password?"})})]}),l&&e.jsx("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4 animate-pulse",children:e.jsx("div",{className:"text-sm text-red-700 font-medium",children:l})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"group w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 flex justify-center items-center space-x-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?e.jsxs(e.Fragment,{children:[e.jsx(gt,{size:"sm",color:"white",className:"mr-2"}),e.jsx("span",{children:"Signing in..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign in"}),e.jsx(_n,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]}),!1]})}function Mo(){const[t,s]=p.useState(!1),[a,r]=p.useState(!1),{register:i,handleSubmit:n,formState:{errors:l},getValues:c}=hr(),u=async x=>{s(!0);try{await bs.forgotPassword(x),r(!0),Mt.success("Password reset email sent!")}catch(o){Mt.error(o.message||"Failed to send reset email")}finally{s(!1)}};return a?e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ba,{className:"h-6 w-6 text-green-600"})}),e.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Check your email"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to"," ",e.jsx("span",{className:"font-medium",children:c("email")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."}),e.jsx("button",{onClick:()=>r(!1),className:"btn-outline w-full",children:"Try again"}),e.jsxs(Kt,{to:"/auth/login",className:"flex items-center justify-center text-sm text-primary-600 hover:text-primary-500",children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(Kt,{to:"/auth/login",className:"flex items-center text-sm text-primary-600 hover:text-primary-500 mb-4",children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Back to sign in"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Forgot your password?"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),e.jsxs("form",{className:"space-y-6",onSubmit:n(u),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ba,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...i("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"form-input pl-10",placeholder:"Enter your email",autoComplete:"email"})]}),l.email&&e.jsx("p",{className:"form-error",children:l.email.message})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t,className:"w-full btn-primary flex justify-center items-center",children:t?e.jsxs(e.Fragment,{children:[e.jsx(gt,{size:"sm",color:"white",className:"mr-2"}),"Sending..."]}):"Send reset link"})})]})]})}function Oo(){const[t,s]=p.useState(!1),[a,r]=p.useState(!1),[i,n]=p.useState(!1),[l]=In(),c=bi(),u=l.get("token"),{register:x,handleSubmit:o,formState:{errors:h},watch:y}=hr(),b=y("password"),A=async f=>{if(!u){Mt.error("Invalid reset token");return}n(!0);try{await bs.resetPassword({token:u,password:f.password,password_confirmation:f.password_confirmation}),Mt.success("Password reset successfully!"),c("/auth/login")}catch(w){Mt.error(w.message||"Failed to reset password")}finally{n(!1)}};return u?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs(Kt,{to:"/auth/login",className:"flex items-center text-sm text-primary-600 hover:text-primary-500 mb-4",children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Back to sign in"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reset your password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below."})]}),e.jsxs("form",{className:"space-y-6",onSubmit:o(A),children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"New password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Na,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...x("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain at least one uppercase letter, one lowercase letter, and one number"}}),type:t?"text":"password",className:"form-input pl-10 pr-10",placeholder:"Enter new password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>s(!t),children:t?e.jsx(wa,{className:"h-5 w-5 text-gray-400"}):e.jsx(Ot,{className:"h-5 w-5 text-gray-400"})})]}),h.password&&e.jsx("p",{className:"form-error",children:h.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password_confirmation",className:"form-label",children:"Confirm new password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Na,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{...x("password_confirmation",{required:"Please confirm your password",validate:f=>f===b||"Passwords do not match"}),type:a?"text":"password",className:"form-input pl-10 pr-10",placeholder:"Confirm new password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!a),children:a?e.jsx(wa,{className:"h-5 w-5 text-gray-400"}):e.jsx(Ot,{className:"h-5 w-5 text-gray-400"})})]}),h.password_confirmation&&e.jsx("p",{className:"form-error",children:h.password_confirmation.message})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium mb-1",children:"Password requirements:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"At least 8 characters long"}),e.jsx("li",{children:"Contains at least one uppercase letter"}),e.jsx("li",{children:"Contains at least one lowercase letter"}),e.jsx("li",{children:"Contains at least one number"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary flex justify-center items-center",children:i?e.jsxs(e.Fragment,{children:[e.jsx(gt,{size:"sm",color:"white",className:"mr-2"}),"Resetting..."]}):"Reset password"})})]})]}):e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invalid Reset Link"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"This password reset link is invalid or has expired."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Kt,{to:"/auth/forgot-password",className:"btn-primary w-full",children:"Request new reset link"}),e.jsxs(Kt,{to:"/auth/login",className:"flex items-center justify-center text-sm text-primary-600 hover:text-primary-500",children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})]})]})}const xs={USD:{code:"USD",symbol:"$",name:"US Dollar",locale:"en-US",decimals:2},ZAR:{code:"ZAR",symbol:"R",name:"South African Rand",locale:"en-ZA",decimals:2},EUR:{code:"EUR",symbol:"",name:"Euro",locale:"en-EU",decimals:2},GBP:{code:"GBP",symbol:"",name:"British Pound",locale:"en-GB",decimals:2}};let ta="ZAR";const Io=t=>{ta=t,typeof window<"u"&&localStorage.setItem("salessync_currency",t)},Es=()=>{if(typeof window<"u"){const t=localStorage.getItem("salessync_currency");t&&xs[t]&&(ta=t)}return ta},fe=(t,s,a)=>{const r=s||Es(),i=xs[r],{showSymbol:n=!0,showCode:l=!1,compact:c=!1}=a||{};if(c&&Math.abs(t)>=1e6){const x=t/1e6;return`${n?i.symbol:""}${x.toFixed(1)}M${l?` ${i.code}`:""}`}if(c&&Math.abs(t)>=1e3){const x=t/1e3;return`${n?i.symbol:""}${x.toFixed(1)}K${l?` ${i.code}`:""}`}const u=new Intl.NumberFormat(i.locale,{style:n?"currency":"decimal",currency:i.code,minimumFractionDigits:i.decimals,maximumFractionDigits:i.decimals}).format(t);return l&&!n?`${u} ${i.code}`:u},Lo=t=>{const s=t||Es();return xs[s].symbol},Vo=t=>{const s=t||Es();return xs[s].name};if(typeof window<"u"){const t=localStorage.getItem("salessync_currency");t&&xs[t]&&(ta=t)}const zt={totalAgents:45,activeAgents:38,todayPlacements:12,todayDistributions:28,monthlyRevenue:125e3,monthlyCommissions:8750},$o=[{id:1,type:"board_placement",agent:"John Doe",description:"Placed Premium Billboard at High Street",time:"2 minutes ago",status:"completed"},{id:2,type:"product_distribution",agent:"Jane Smith",description:"Delivered 50 units to ABC Store",time:"15 minutes ago",status:"completed"},{id:3,type:"board_placement",agent:"Mike Johnson",description:"Placed Standard Billboard at Market Square",time:"32 minutes ago",status:"completed"},{id:4,type:"product_distribution",agent:"Sarah Wilson",description:"Delivered 25 units to XYZ Retail",time:"1 hour ago",status:"completed"}],Uo=[{name:"John Doe",commission:1250,placements:8,distributions:15},{name:"Jane Smith",commission:1100,placements:6,distributions:18},{name:"Mike Johnson",commission:950,placements:7,distributions:12},{name:"Sarah Wilson",commission:875,placements:5,distributions:14}];function Bo(){const{user:t}=qe(),s=({title:a,value:r,icon:i,change:n,color:l="primary"})=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`p-3 rounded-lg bg-${l}-100`,children:e.jsx(i,{className:`h-6 w-6 text-${l}-600`})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:a}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:r}),n&&e.jsxs("p",{className:`text-sm ${n>0?"text-green-600":"text-red-600"}`,children:[n>0?"+":"",n,"% from last month"]})]})]})});return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",t==null?void 0:t.first_name,"!"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Here's what's happening with your field operations today."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(s,{title:"Total Field Agents",value:zt.totalAgents,icon:Ze,change:8,color:"blue"}),e.jsx(s,{title:"Active Today",value:zt.activeAgents,icon:za,change:12,color:"green"}),e.jsx(s,{title:"Board Placements",value:zt.todayPlacements,icon:Ue,change:-5,color:"purple"}),e.jsx(s,{title:"Product Distributions",value:zt.todayDistributions,icon:De,change:15,color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(s,{title:"Monthly Revenue",value:fe(zt.monthlyRevenue),icon:ht,change:18,color:"green"}),e.jsx(s,{title:"Monthly Commissions",value:fe(zt.monthlyCommissions),icon:Be,change:22,color:"blue"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activities"})}),e.jsx("div",{className:"space-y-4",children:$o.map(a=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:a.type==="board_placement"?e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ue,{className:"h-4 w-4 text-purple-600"})}):e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(De,{className:"h-4 w-4 text-orange-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.agent}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(_s,{className:"h-3 w-3 text-gray-400 mr-1"}),e.jsx("p",{className:"text-xs text-gray-500",children:a.time}),e.jsx(Ys,{className:"h-3 w-3 text-green-500 ml-2"})]})]})]},a.id))}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"btn-outline w-full",children:"View all activities"})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top Performers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This month's leading agents"})]}),e.jsx("div",{className:"space-y-4",children:Uo.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:["#",r+1]})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a.placements," placements  ",a.distributions," distributions"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",a.commission]}),e.jsx("p",{className:"text-xs text-gray-500",children:"commission"})]})]},a.name))}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"btn-outline w-full",children:"View all agents"})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{className:"btn-primary flex items-center justify-center space-x-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsx("span",{children:"View Field Agents"})]}),e.jsxs("button",{className:"btn-outline flex items-center justify-center space-x-2",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{children:"Live Mapping"})]}),e.jsxs("button",{className:"btn-outline flex items-center justify-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{children:"View Analytics"})]})]})]})]})}const si=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"];function qo(){const[t,s]=p.useState(null),[a,r]=p.useState(!0),[i,n]=p.useState(null),[l,c]=p.useState("30d"),[u,x]=p.useState("revenue"),[o,h]=p.useState(!1);p.useEffect(()=>{y()},[l]);const y=async()=>{try{r(!0),n(null);const j={overview:{total_revenue:125e3,revenue_growth:12.5,total_orders:1250,orders_growth:8.3,total_customers:450,customers_growth:15.2,total_products:89,products_growth:5.1,avg_order_value:100,aov_growth:3.8,conversion_rate:24.5,conversion_growth:2.1},revenue_trend:Array.from({length:30},(v,T)=>({date:new Date(Date.now()-(29-T)*24*60*60*1e3).toISOString().split("T")[0],revenue:Math.floor(Math.random()*5e3)+2e3,orders:Math.floor(Math.random()*50)+20,customers:Math.floor(Math.random()*30)+10})),sales_by_category:[{category:"Electronics",revenue:45e3,orders:450,percentage:36},{category:"Clothing",revenue:32e3,orders:320,percentage:25.6},{category:"Home & Garden",revenue:25e3,orders:250,percentage:20},{category:"Sports",revenue:15e3,orders:150,percentage:12},{category:"Books",revenue:8e3,orders:80,percentage:6.4}],top_products:[{id:"1",name:"Wireless Headphones",revenue:15e3,quantity_sold:150,growth:25.3},{id:"2",name:"Smart Watch",revenue:12e3,quantity_sold:120,growth:18.7},{id:"3",name:"Laptop Stand",revenue:8500,quantity_sold:85,growth:-5.2},{id:"4",name:"Phone Case",revenue:7200,quantity_sold:240,growth:12.1},{id:"5",name:"Bluetooth Speaker",revenue:6800,quantity_sold:68,growth:8.9}],customer_segments:[{segment:"Premium",count:120,revenue:6e4,percentage:48},{segment:"Regular",count:200,revenue:45e3,percentage:36},{segment:"New",count:130,revenue:2e4,percentage:16}],field_agent_performance:[{agent_id:"1",agent_name:"John Smith",total_sales:25e3,orders_count:125,customers_visited:85,conversion_rate:68.2,commission_earned:2500},{agent_id:"2",agent_name:"Sarah Johnson",total_sales:22e3,orders_count:110,customers_visited:78,conversion_rate:71.8,commission_earned:2200},{agent_id:"3",agent_name:"Mike Davis",total_sales:18e3,orders_count:90,customers_visited:65,conversion_rate:69.2,commission_earned:1800},{agent_id:"4",agent_name:"Lisa Wilson",total_sales:2e4,orders_count:100,customers_visited:72,conversion_rate:72.2,commission_earned:2e3}],geographic_data:[{region:"North",revenue:45e3,orders:450,customers:180,growth:15.2},{region:"South",revenue:35e3,orders:350,customers:140,growth:8.7},{region:"East",revenue:25e3,orders:250,customers:100,growth:12.1},{region:"West",revenue:2e4,orders:200,customers:80,growth:5.3}],time_analysis:{peak_hours:Array.from({length:24},(v,T)=>({hour:T,orders:Math.floor(Math.random()*20)+5,revenue:Math.floor(Math.random()*2e3)+500})),peak_days:[{day:"Monday",orders:180,revenue:18e3},{day:"Tuesday",orders:165,revenue:16500},{day:"Wednesday",orders:190,revenue:19e3},{day:"Thursday",orders:175,revenue:17500},{day:"Friday",orders:220,revenue:22e3},{day:"Saturday",orders:200,revenue:2e4},{day:"Sunday",orders:120,revenue:12e3}]}};await new Promise(v=>setTimeout(v,1e3)),s(j)}catch(j){n("Failed to load analytics data"),console.error("Error loading analytics:",j)}finally{r(!1)}},b=async()=>{h(!0),await y(),h(!1)},A=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j),f=j=>`${j>0?"+":""}${j.toFixed(1)}%`,w=()=>{const j=`Date,Revenue,Orders,Customers
`+((t==null?void 0:t.revenue_trend.map(k=>`${k.date},${k.revenue},${k.orders},${k.customers}`).join(`
`))||""),v=new Blob([j],{type:"text/csv"}),T=window.URL.createObjectURL(v),D=document.createElement("a");D.href=T,D.download=`analytics-${l}.csv`,D.click(),window.URL.revokeObjectURL(T)};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(gt,{})}):i?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive analytics and reporting dashboard."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(kn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Analytics"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx("button",{onClick:y,className:"btn-primary",children:"Try Again"})]})})]}):t?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive analytics and reporting dashboard with real-time insights."})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[e.jsxs("select",{value:l,onChange:j=>c(j.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"}),e.jsx("option",{value:"1y",children:"Last year"})]}),e.jsx("button",{onClick:b,disabled:o,className:"btn-outline p-2",children:e.jsx(sa,{className:`h-4 w-4 ${o?"animate-spin":""}`})}),e.jsxs("button",{onClick:w,className:"btn-primary flex items-center space-x-2",children:[e.jsx(Ha,{className:"h-4 w-4"}),e.jsx("span",{children:"Export"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A(t.overview.total_revenue)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(ht,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center",children:[t.overview.revenue_growth>0?e.jsx(qt,{className:"h-4 w-4 text-green-500"}):e.jsx(Wt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.overview.revenue_growth>0?"text-green-600":"text-red-600"}`,children:f(t.overview.revenue_growth)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs last period"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.overview.total_orders.toLocaleString()})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:e.jsx(gi,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center",children:[t.overview.orders_growth>0?e.jsx(qt,{className:"h-4 w-4 text-green-500"}):e.jsx(Wt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.overview.orders_growth>0?"text-green-600":"text-red-600"}`,children:f(t.overview.orders_growth)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs last period"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.overview.total_customers.toLocaleString()})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:e.jsx(Ze,{className:"h-6 w-6 text-purple-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center",children:[t.overview.customers_growth>0?e.jsx(qt,{className:"h-4 w-4 text-green-500"}):e.jsx(Wt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.overview.customers_growth>0?"text-green-600":"text-red-600"}`,children:f(t.overview.customers_growth)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs last period"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A(t.overview.avg_order_value)})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:e.jsx(ks,{className:"h-6 w-6 text-orange-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center",children:[t.overview.aov_growth>0?e.jsx(qt,{className:"h-4 w-4 text-green-500"}):e.jsx(Wt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.overview.aov_growth>0?"text-green-600":"text-red-600"}`,children:f(t.overview.aov_growth)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs last period"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Revenue Trend"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("select",{value:u,onChange:j=>x(j.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"orders",children:"Orders"}),e.jsx("option",{value:"customers",children:"Customers"})]})})]}),e.jsx("div",{className:"h-80",children:e.jsx(bt,{width:"100%",height:"100%",children:e.jsxs(qn,{data:t.revenue_trend,children:[e.jsx(ys,{strokeDasharray:"3 3"}),e.jsx(js,{dataKey:"date",tickFormatter:j=>new Date(j).toLocaleDateString()}),e.jsx(vs,{tickFormatter:j=>u==="revenue"?A(j):j.toLocaleString()}),e.jsx(Nt,{labelFormatter:j=>new Date(j).toLocaleDateString(),formatter:j=>[u==="revenue"?A(j):j.toLocaleString(),u.charAt(0).toUpperCase()+u.slice(1)]}),e.jsx(Wn,{type:"monotone",dataKey:u,stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.1})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Sales by Category"}),e.jsx("div",{className:"h-80",children:e.jsx(bt,{width:"100%",height:"100%",children:e.jsxs(wi,{children:[e.jsx(Si,{data:t.sales_by_category,cx:"50%",cy:"50%",labelLine:!1,label:({category:j,percentage:v})=>`${j} (${v}%)`,outerRadius:80,fill:"#8884d8",dataKey:"revenue",children:t.sales_by_category.map((j,v)=>e.jsx(_i,{fill:si[v%si.length]},`cell-${v}`))}),e.jsx(Nt,{formatter:j=>A(j)})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Top Products"}),e.jsx("div",{className:"space-y-4",children:t.top_products.map((j,v)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-primary-600",children:["#",v+1]})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[j.quantity_sold," units sold"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:A(j.revenue)}),e.jsxs("div",{className:"flex items-center",children:[j.growth>0?e.jsx(Be,{className:"h-3 w-3 text-green-500"}):e.jsx(Ga,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{className:`text-xs ${j.growth>0?"text-green-600":"text-red-600"}`,children:f(j.growth)})]})]})]},j.id))})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Field Agent Performance"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Sales"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customers Visited"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversion Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.field_agent_performance.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary-600",children:j.agent_name.split(" ").map(v=>v[0]).join("")})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.agent_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",j.agent_id]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(j.total_sales)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.orders_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.customers_visited}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${j.conversion_rate}%`}})}),e.jsxs("span",{className:"text-sm text-gray-900",children:[j.conversion_rate.toFixed(1),"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A(j.commission_earned)})]},j.agent_id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Geographic Performance"}),e.jsx("div",{className:"h-80",children:e.jsx(bt,{width:"100%",height:"100%",children:e.jsxs(ki,{data:t.geographic_data,children:[e.jsx(ys,{strokeDasharray:"3 3"}),e.jsx(js,{dataKey:"region"}),e.jsx(vs,{tickFormatter:j=>A(j)}),e.jsx(Nt,{formatter:j=>A(j)}),e.jsx(Ci,{dataKey:"revenue",fill:"#3B82F6"})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Peak Hours Analysis"}),e.jsx("div",{className:"h-80",children:e.jsx(bt,{width:"100%",height:"100%",children:e.jsxs(Ai,{data:t.time_analysis.peak_hours,children:[e.jsx(ys,{strokeDasharray:"3 3"}),e.jsx(js,{dataKey:"hour",tickFormatter:j=>`${j}:00`}),e.jsx(vs,{}),e.jsx(Nt,{labelFormatter:j=>`${j}:00`,formatter:(j,v)=>[v==="revenue"?A(j):j,v==="revenue"?"Revenue":"Orders"]}),e.jsx(Sa,{type:"monotone",dataKey:"orders",stroke:"#10B981",strokeWidth:2}),e.jsx(Sa,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:2}),e.jsx(ra,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.overview.conversion_rate,"%"]})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-full",children:e.jsx(za,{className:"h-6 w-6 text-indigo-600"})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[t.overview.conversion_growth>0?e.jsx(qt,{className:"h-4 w-4 text-green-500"}):e.jsx(Wt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.overview.conversion_growth>0?"text-green-600":"text-red-600"}`,children:f(t.overview.conversion_growth)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs last period"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.overview.total_products})]}),e.jsx("div",{className:"p-3 bg-teal-100 rounded-full",children:e.jsx(De,{className:"h-6 w-6 text-teal-600"})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center",children:[t.overview.products_growth>0?e.jsx(qt,{className:"h-4 w-4 text-green-500"}):e.jsx(Wt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${t.overview.products_growth>0?"text-green-600":"text-red-600"}`,children:f(t.overview.products_growth)}),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"vs last period"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer Segments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.customer_segments.length})]}),e.jsx("div",{className:"p-3 bg-pink-100 rounded-full",children:e.jsx(Cn,{className:"h-6 w-6 text-pink-600"})})]}),e.jsx("div",{className:"mt-4 space-y-2",children:t.customer_segments.map(j=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:j.segment}),e.jsx("span",{className:"font-medium text-gray-900",children:j.count})]},j.segment))})]})]})]}):null}const G=le.forwardRef(({className:t,children:s,...a},r)=>e.jsx("div",{ref:r,className:us("rounded-lg border border-gray-200 bg-white shadow-sm",t),...a,children:s}));G.displayName="Card";const Vt=le.forwardRef(({className:t,children:s,...a},r)=>e.jsx("div",{ref:r,className:us("flex flex-col space-y-1.5 p-6",t),...a,children:s}));Vt.displayName="CardHeader";const $t=le.forwardRef(({className:t,children:s,...a},r)=>e.jsx("h3",{ref:r,className:us("font-semibold leading-none tracking-tight",t),...a,children:s}));$t.displayName="CardTitle";const Y=le.forwardRef(({className:t,children:s,...a},r)=>e.jsx("div",{ref:r,className:us("p-6 pt-0",t),...a,children:s}));Y.displayName="CardContent";const he=le.forwardRef(({className:t,variant:s="default",size:a="default",children:r,...i},n)=>{const l="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",c={default:"bg-primary-600 text-white hover:bg-primary-700",outline:"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50",ghost:"text-gray-700 hover:bg-gray-100",destructive:"bg-red-600 text-white hover:bg-red-700"},u={default:"h-10 py-2 px-4",sm:"h-8 px-3 text-sm",lg:"h-12 px-8"};return e.jsx("button",{ref:n,className:us(l,c[s],u[a],t),...i,children:r})});he.displayName="Button";function Wo(){const[t,s]=p.useState({totalVans:0,activeRoutes:0,todaySales:0,totalInventory:0,averageDeliveryTime:0,routeEfficiency:0}),[a,r]=p.useState([]),[i,n]=p.useState(!0);p.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),s({totalVans:25,activeRoutes:18,todaySales:45750,totalInventory:125e3,averageDeliveryTime:32,routeEfficiency:87}),r([{id:"1",vanNumber:"VAN-001",driver:"John Smith",route:"North District",status:"active",todaySales:3250,deliveries:12,efficiency:92,location:"Downtown Area"},{id:"2",vanNumber:"VAN-002",driver:"Sarah Johnson",route:"South District",status:"active",todaySales:2890,deliveries:8,efficiency:85,location:"Industrial Zone"},{id:"3",vanNumber:"VAN-003",driver:"Mike Davis",route:"East District",status:"maintenance",todaySales:0,deliveries:0,efficiency:0,location:"Service Center"}])}catch(u){console.error("Error fetching van sales data:",u)}finally{n(!1)}},c=u=>{switch(u){case"active":return"text-green-600 bg-green-100";case"inactive":return"text-gray-600 bg-gray-100";case"maintenance":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Van Sales Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor and manage your van sales operations"})]}),e.jsxs(he,{children:[e.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Add New Van"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Hs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Vans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalVans})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ue,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Routes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeRoutes})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(ht,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Sales"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe(t.todaySales)})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(De,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Inventory"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe(t.totalInventory)})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(_s,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Delivery Time"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.averageDeliveryTime,"min"]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(Be,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Route Efficiency"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.routeEfficiency,"%"]})]})]})})})]}),e.jsxs(G,{children:[e.jsx(Vt,{children:e.jsx($t,{children:"Van Performance"})}),e.jsx(Y,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Van Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Today's Sales"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deliveries"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Efficiency"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(u=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.vanNumber}),e.jsx("div",{className:"text-sm text-gray-500",children:u.driver}),e.jsx("div",{className:"text-sm text-gray-500",children:u.route})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(u.status)}`,children:u.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe(u.todaySales)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:u.deliveries}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[u.efficiency,"%"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.location}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(he,{variant:"outline",size:"sm",children:"View Details"})})]},u.id))})]})})})]})]})}function Qo(){const[t,s]=p.useState([]),[a,r]=p.useState(!0),[i,n]=p.useState(null);p.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0),s([{id:"1",name:"North District Route A",description:"Covers downtown and business district",vanAssigned:"VAN-001",driver:"John Smith",status:"active",totalStops:12,estimatedTime:480,distance:45.2,priority:"high",lastUpdated:"2024-01-15T10:30:00Z",customers:[{id:"1",name:"ABC Electronics",address:"123 Main St",estimatedValue:2500,visitTime:"09:00",status:"completed"},{id:"2",name:"XYZ Retail",address:"456 Oak Ave",estimatedValue:1800,visitTime:"10:30",status:"pending"}]},{id:"2",name:"South District Route B",description:"Industrial and warehouse areas",vanAssigned:"VAN-002",driver:"Sarah Johnson",status:"active",totalStops:8,estimatedTime:360,distance:32.8,priority:"medium",lastUpdated:"2024-01-15T09:15:00Z",customers:[]},{id:"3",name:"East District Route C",description:"Residential and small business areas",vanAssigned:"Unassigned",driver:"Unassigned",status:"planned",totalStops:15,estimatedTime:540,distance:38.5,priority:"low",lastUpdated:"2024-01-14T16:45:00Z",customers:[]}])}catch(x){console.error("Error fetching routes:",x)}finally{r(!1)}},c=x=>{switch(x){case"active":return"text-green-600 bg-green-100";case"inactive":return"text-gray-600 bg-gray-100";case"planned":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},u=x=>{switch(x){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Route Management"}),e.jsx("p",{className:"text-gray-600",children:"Plan and optimize delivery routes for maximum efficiency"})]}),e.jsxs(he,{children:[e.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Create New Route"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(x=>e.jsxs(G,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx(Vt,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx($t,{className:"text-lg",children:x.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(he,{variant:"outline",size:"sm",children:e.jsx(aa,{className:"h-4 w-4"})}),e.jsx(he,{variant:"outline",size:"sm",children:e.jsx(Ka,{className:"h-4 w-4"})})]})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(x.status)}`,children:x.status}),e.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(x.priority)}`,children:[x.priority," priority"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Hs,{className:"h-4 w-4 mr-2 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:"Van:"}),e.jsx("span",{className:"ml-1 font-medium",children:x.vanAssigned})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-600 ml-6",children:"Driver:"}),e.jsx("span",{className:"ml-1 font-medium",children:x.driver})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(Ue,{className:"h-4 w-4 text-gray-400"})}),e.jsx("p",{className:"text-sm font-medium",children:x.totalStops}),e.jsx("p",{className:"text-xs text-gray-500",children:"Stops"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(_s,{className:"h-4 w-4 text-gray-400"})}),e.jsxs("p",{className:"text-sm font-medium",children:[Math.round(x.estimatedTime/60),"h"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Duration"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-1",children:e.jsx(An,{className:"h-4 w-4 text-gray-400"})}),e.jsxs("p",{className:"text-sm font-medium",children:[x.distance,"km"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Distance"})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsx(he,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(x),children:"View Details"}),e.jsx(he,{size:"sm",className:"flex-1",children:"Optimize Route"})]})]})})]},x.id))}),i&&e.jsxs(G,{className:"mt-6",children:[e.jsx(Vt,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs($t,{children:["Route Details: ",i.name]}),e.jsx(he,{variant:"outline",onClick:()=>n(null),children:"Close"})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Van Assigned"}),e.jsx("p",{className:"text-lg font-semibold",children:i.vanAssigned})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Driver"}),e.jsx("p",{className:"text-lg font-semibold",children:i.driver})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Distance"}),e.jsxs("p",{className:"text-lg font-semibold",children:[i.distance," km"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estimated Time"}),e.jsxs("p",{className:"text-lg font-semibold",children:[Math.round(i.estimatedTime/60)," hours"]})]})]}),i.customers.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Customer Stops"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Visit Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Est. Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.customers.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.address}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.visitTime}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:fe(x.estimatedValue)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(x.status)}`,children:x.status})})]},x.id))})]})})]})]})})]})]})}function zo(){const[t,s]=p.useState([]),[a,r]=p.useState(!0),[i,n]=p.useState(""),[l,c]=p.useState("all");p.useEffect(()=>{u()},[]);const u=async()=>{try{r(!0),s([{id:"1",productName:"Premium Coffee Beans",sku:"PCB-001",vanId:"1",vanNumber:"VAN-001",currentStock:45,maxCapacity:100,reorderLevel:20,unitPrice:25.99,totalValue:1169.55,lastRestocked:"2024-01-14T08:00:00Z",status:"in_stock"},{id:"2",productName:"Organic Tea Selection",sku:"OTS-002",vanId:"1",vanNumber:"VAN-001",currentStock:15,maxCapacity:80,reorderLevel:20,unitPrice:18.5,totalValue:277.5,lastRestocked:"2024-01-12T10:30:00Z",status:"low_stock"},{id:"3",productName:"Artisan Pastries",sku:"AP-003",vanId:"2",vanNumber:"VAN-002",currentStock:0,maxCapacity:50,reorderLevel:10,unitPrice:12.75,totalValue:0,lastRestocked:"2024-01-10T14:15:00Z",status:"out_of_stock"}])}catch(f){console.error("Error fetching inventory data:",f)}finally{r(!1)}},x=f=>{switch(f){case"in_stock":return"text-green-600 bg-green-100";case"low_stock":return"text-yellow-600 bg-yellow-100";case"out_of_stock":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=(f,w)=>Math.round(f/w*100),h=t.filter(f=>{const w=f.productName.toLowerCase().includes(i.toLowerCase())||f.sku.toLowerCase().includes(i.toLowerCase())||f.vanNumber.toLowerCase().includes(i.toLowerCase()),j=l==="all"||f.status===l;return w&&j}),y=t.reduce((f,w)=>f+w.totalValue,0),b=t.filter(f=>f.status==="low_stock").length,A=t.filter(f=>f.status==="out_of_stock").length;return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Monitor stock levels across all vans"})]}),e.jsxs(he,{children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Restock Van"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(De,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Inventory Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe(y)})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Be,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Items In Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(f=>f.status==="in_stock").length})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Ft,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Ga,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A})]})]})})})]}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search by product name, SKU, or van...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:i,onChange:f=>n(f.target.value)})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-4 w-4 text-gray-400"}),e.jsxs("select",{className:"border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",value:l,onChange:f=>c(f.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"in_stock",children:"In Stock"}),e.jsx("option",{value:"low_stock",children:"Low Stock"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]})]})})}),e.jsxs(G,{children:[e.jsx(Vt,{children:e.jsx($t,{children:"Inventory Items"})}),e.jsx(Y,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Van"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.productName}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",f.sku]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.vanNumber}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[f.currentStock," / ",f.maxCapacity]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${o(f.currentStock,f.maxCapacity)>50?"bg-green-600":o(f.currentStock,f.maxCapacity)>25?"bg-yellow-600":"bg-red-600"}`,style:{width:`${o(f.currentStock,f.maxCapacity)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(f.status)}`,children:f.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe(f.unitPrice)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:fe(f.totalValue)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(he,{variant:"outline",size:"sm",children:"Restock"}),e.jsx(he,{variant:"outline",size:"sm",children:"Transfer"})]})})]},f.id))})]})})})]})]})}function Ho(){const[t,s]=p.useState({totalSpend:0,activePromotions:0,retailerParticipation:0,roi:0,marketShare:0,competitorAnalysis:0}),[a,r]=p.useState([]),[i,n]=p.useState(!0);p.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),s({totalSpend:125e3,activePromotions:8,retailerParticipation:85,roi:3.2,marketShare:24.5,competitorAnalysis:12}),r([{id:"1",name:"Summer Volume Incentive",type:"volume_incentive",status:"active",startDate:"2024-01-01",endDate:"2024-03-31",budget:5e4,spent:32e3,participatingRetailers:45,expectedROI:3.5,actualROI:3.8},{id:"2",name:"New Product Launch Rebate",type:"rebate",status:"active",startDate:"2024-01-15",endDate:"2024-02-15",budget:25e3,spent:18500,participatingRetailers:28,expectedROI:2.8,actualROI:3.1},{id:"3",name:"Holiday Display Program",type:"display_allowance",status:"planned",startDate:"2024-02-01",endDate:"2024-02-29",budget:35e3,spent:0,participatingRetailers:0,expectedROI:4.2}])}catch(o){console.error("Error fetching trade marketing data:",o)}finally{n(!1)}},c=o=>{switch(o){case"active":return"text-green-600 bg-green-100";case"planned":return"text-blue-600 bg-blue-100";case"completed":return"text-gray-600 bg-gray-100";case"paused":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},u=o=>{switch(o){case"discount":return"text-purple-600 bg-purple-100";case"rebate":return"text-blue-600 bg-blue-100";case"volume_incentive":return"text-green-600 bg-green-100";case"display_allowance":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},x=(o,h)=>Math.round(o/h*100);return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trade Marketing"}),e.jsx("p",{className:"text-gray-600",children:"Manage trade promotions, retailer incentives, and market analysis"})]}),e.jsxs(he,{children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Create Promotion"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ht,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spend"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe(t.totalSpend)})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ks,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Promotions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activePromotions})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ze,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Retailer Participation"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.retailerParticipation,"%"]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(Be,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average ROI"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.roi,"x"]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(pi,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Market Share"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.marketShare,"%"]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(Za,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Competitor Analysis"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.competitorAnalysis})]})]})})})]}),e.jsxs(G,{children:[e.jsx(Vt,{children:e.jsx($t,{children:"Active Promotions"})}),e.jsx(Y,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Promotion Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget Utilization"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Retailers"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ROI"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(o.startDate).toLocaleDateString()," - ",new Date(o.endDate).toLocaleDateString()]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(o.type)}`,children:o.type.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(o.status)}`,children:o.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[fe(o.spent)," / ",fe(o.budget)]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${x(o.spent,o.budget)>80?"bg-red-600":x(o.spent,o.budget)>60?"bg-yellow-600":"bg-green-600"}`,style:{width:`${x(o.spent,o.budget)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[x(o.spent,o.budget),"% utilized"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.participatingRetailers}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Expected: ",o.expectedROI,"x"]}),o.actualROI&&e.jsxs("div",{className:`text-sm ${o.actualROI>=o.expectedROI?"text-green-600":"text-red-600"}`,children:["Actual: ",o.actualROI,"x"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(he,{variant:"outline",size:"sm",children:"View Details"}),e.jsx(he,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})]})]})}function Go(){const[t,s]=p.useState({totalCampaigns:0,activeCampaigns:0,totalReach:0,averageCTR:0,totalSpend:0,averageROI:0}),[a,r]=p.useState([]),[i,n]=p.useState(!0);p.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),s({totalCampaigns:24,activeCampaigns:8,totalReach:125e3,averageCTR:3.2,totalSpend:85e3,averageROI:4.5}),r([{id:"1",name:"Summer Product Launch",type:"multi_channel",status:"active",startDate:"2024-01-01",endDate:"2024-03-31",budget:25e3,spent:18500,reach:45e3,impressions:125e3,clicks:4200,conversions:320,ctr:3.36,roi:5.2,targetAudience:"Young Professionals"},{id:"2",name:"Brand Awareness Campaign",type:"social",status:"active",startDate:"2024-01-15",endDate:"2024-02-15",budget:15e3,spent:12800,reach:28e3,impressions:85e3,clicks:2550,conversions:180,ctr:3,roi:3.8,targetAudience:"General Consumers"},{id:"3",name:"Holiday Promotion",type:"email",status:"scheduled",startDate:"2024-02-01",endDate:"2024-02-29",budget:8e3,spent:0,reach:0,impressions:0,clicks:0,conversions:0,ctr:0,roi:0,targetAudience:"Existing Customers"}])}catch(o){console.error("Error fetching campaigns data:",o)}finally{n(!1)}},c=o=>{switch(o){case"active":return"text-green-600 bg-green-100";case"draft":return"text-gray-600 bg-gray-100";case"paused":return"text-yellow-600 bg-yellow-100";case"completed":return"text-blue-600 bg-blue-100";case"scheduled":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},u=o=>{switch(o){case"email":return"text-blue-600 bg-blue-100";case"social":return"text-pink-600 bg-pink-100";case"display":return"text-orange-600 bg-orange-100";case"search":return"text-green-600 bg-green-100";case"multi_channel":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},x=(o,h)=>h>0?Math.round(o/h*100):0;return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaign Management"}),e.jsx("p",{className:"text-gray-600",children:"Create, manage, and track marketing campaigns across all channels"})]}),e.jsxs(he,{children:[e.jsx(ja,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ja,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Campaigns"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalCampaigns})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Za,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Campaigns"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeCampaigns})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ze,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Reach"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalReach.toLocaleString()})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(En,{className:"h-6 w-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average CTR"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.averageCTR,"%"]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Ot,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spend"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:fe(t.totalSpend)})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(Be,{className:"h-6 w-6 text-indigo-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average ROI"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.averageROI,"x"]})]})]})})})]}),e.jsxs(G,{children:[e.jsx(Vt,{children:e.jsx($t,{children:"Campaign Performance"})}),e.jsx(Y,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ROI"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(o=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.name}),e.jsx("div",{className:"text-sm text-gray-500",children:o.targetAudience}),e.jsxs("div",{className:"text-sm text-gray-500",children:[new Date(o.startDate).toLocaleDateString()," - ",new Date(o.endDate).toLocaleDateString()]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(o.type)}`,children:o.type.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c(o.status)}`,children:o.status})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[fe(o.spent)," / ",fe(o.budget)]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${x(o.spent,o.budget)>80?"bg-red-600":x(o.spent,o.budget)>60?"bg-yellow-600":"bg-green-600"}`,style:{width:`${x(o.spent,o.budget)}%`}})})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Reach: ",o.reach.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["CTR: ",o.ctr,"% | Conv: ",o.conversions]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm font-medium ${o.roi>=3?"text-green-600":o.roi>=2?"text-yellow-600":"text-red-600"}`,children:o.roi>0?`${o.roi}x`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(he,{variant:"outline",size:"sm",children:"View Details"}),e.jsx(he,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})]})]})}function Yo({data:t,xKey:s,yKeys:a,title:r,height:i=300}){return e.jsxs("div",{className:"w-full",children:[r&&e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:r}),e.jsx(bt,{width:"100%",height:i,children:e.jsxs(Ai,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(ys,{strokeDasharray:"3 3"}),e.jsx(js,{dataKey:s}),e.jsx(vs,{}),e.jsx(Nt,{}),e.jsx(ra,{}),a.map(n=>e.jsx(Sa,{type:"monotone",dataKey:n.key,stroke:n.color,name:n.name,strokeWidth:2},n.key))]})})]})}function Ko({data:t,xKey:s,yKeys:a,title:r,height:i=300}){return e.jsxs("div",{className:"w-full",children:[r&&e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:r}),e.jsx(bt,{width:"100%",height:i,children:e.jsxs(ki,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(ys,{strokeDasharray:"3 3"}),e.jsx(js,{dataKey:s}),e.jsx(vs,{}),e.jsx(Nt,{}),e.jsx(ra,{}),a.map(n=>e.jsx(Ci,{dataKey:n.key,fill:n.color,name:n.name},n.key))]})})]})}function Jo({data:t,title:s,height:a=300}){return e.jsxs("div",{className:"w-full",children:[s&&e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:s}),e.jsx(bt,{width:"100%",height:a,children:e.jsxs(wi,{children:[e.jsx(Si,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:({name:r,percent:i})=>`${r} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:t.map((r,i)=>e.jsx(_i,{fill:r.color},`cell-${i}`))}),e.jsx(Nt,{}),e.jsx(ra,{})]})})]})}function Zo({data:t,columns:s,title:a,searchable:r=!0,exportable:i=!0,pagination:n=!0,pageSize:l=10}){const[c,u]=p.useState(""),[x,o]=p.useState(null),[h,y]=p.useState(1),[b,A]=p.useState({}),f=p.useMemo(()=>{let k=t;return c&&(k=k.filter(_=>Object.values(_).some(O=>String(O).toLowerCase().includes(c.toLowerCase())))),Object.entries(b).forEach(([_,O])=>{O&&(k=k.filter(C=>String(C[_]).toLowerCase().includes(O.toLowerCase())))}),k},[t,c,b]),w=p.useMemo(()=>x?[...f].sort((k,_)=>{const O=k[x.key],C=_[x.key];return O<C?x.direction==="asc"?-1:1:O>C?x.direction==="asc"?1:-1:0}):f,[f,x]),j=p.useMemo(()=>{if(!n)return w;const k=(h-1)*l;return w.slice(k,k+l)},[w,h,l,n]),v=Math.ceil(w.length/l),T=k=>{o(_=>(_==null?void 0:_.key)===k?_.direction==="asc"?{key:k,direction:"desc"}:null:{key:k,direction:"asc"})},D=()=>{const k=[s.map(B=>B.title).join(","),...w.map(B=>s.map(S=>String(B[S.key]||"")).join(","))].join(`
`),_=new Blob([k],{type:"text/csv"}),O=URL.createObjectURL(_),C=document.createElement("a");C.href=O,C.download=`${a||"data"}.csv`,C.click(),URL.revokeObjectURL(O)};return e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[a&&e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",j.length," of ",w.length," entries"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r&&e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"form-input pl-10 w-64",value:c,onChange:k=>u(k.target.value)})]}),i&&e.jsxs("button",{onClick:D,className:"btn-outline",children:[e.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:s.map(k=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:k.title}),k.sortable&&e.jsx("button",{onClick:()=>T(k.key),className:"text-gray-400 hover:text-gray-600",children:(x==null?void 0:x.key)===k.key?x.direction==="asc"?e.jsx(Pn,{className:"h-4 w-4"}):e.jsx(br,{className:"h-4 w-4"}):e.jsx(br,{className:"h-4 w-4 opacity-50"})}),k.filterable&&e.jsxs("div",{className:"relative",children:[e.jsx(Ja,{className:"h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Filter...",className:"absolute top-6 left-0 w-32 text-xs border rounded px-2 py-1",value:b[k.key]||"",onChange:_=>A(O=>({...O,[k.key]:_.target.value}))})]})]})},k.key))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((k,_)=>e.jsx("tr",{className:"hover:bg-gray-50",children:s.map(O=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O.render?O.render(k[O.key],k):k[O.key]},O.key))},_))})]})}),n&&v>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>y(k=>Math.max(k-1,1)),disabled:h===1,className:"btn-outline",children:"Previous"}),e.jsx("button",{onClick:()=>y(k=>Math.min(k+1,v)),disabled:h===v,className:"btn-outline",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page ",e.jsx("span",{className:"font-medium",children:h})," of"," ",e.jsx("span",{className:"font-medium",children:v})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>y(k=>Math.max(k-1,1)),disabled:h===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,v)},(k,_)=>{const O=_+1;return e.jsx("button",{onClick:()=>y(O),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${h===O?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:O},O)}),e.jsx("button",{onClick:()=>y(k=>Math.min(k+1,v)),disabled:h===v,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})}const Ht={totalAgents:45,activeToday:38,totalPlacements:156,totalDistributions:284,totalCommissions:12450,avgPerformance:87.5},ai=[{date:"2024-01-01",placements:12,distributions:28,commissions:850},{date:"2024-01-02",placements:15,distributions:32,commissions:920},{date:"2024-01-03",placements:18,distributions:35,commissions:1100},{date:"2024-01-04",placements:14,distributions:29,commissions:890},{date:"2024-01-05",placements:20,distributions:38,commissions:1200},{date:"2024-01-06",placements:16,distributions:31,commissions:980},{date:"2024-01-07",placements:22,distributions:42,commissions:1350}],Xo=[{id:1,name:"John Doe",email:"john@example.com",phone:"+44 7700 900123",status:"Active",location:"London, UK",todayPlacements:3,todayDistributions:8,monthlyCommission:1250,performance:92,lastActivity:"2 minutes ago",totalTransactions:156},{id:2,name:"Jane Smith",email:"jane@example.com",phone:"+44 7700 900124",status:"Active",location:"Manchester, UK",todayPlacements:2,todayDistributions:6,monthlyCommission:1100,performance:88,lastActivity:"15 minutes ago",totalTransactions:142},{id:3,name:"Mike Johnson",email:"mike@example.com",phone:"+44 7700 900125",status:"Offline",location:"Birmingham, UK",todayPlacements:0,todayDistributions:0,monthlyCommission:950,performance:75,lastActivity:"2 hours ago",totalTransactions:98}],ed=[{name:"Board Placement",value:45,color:"#8B5CF6"},{name:"Product Distribution",value:78,color:"#10B981"},{name:"Customer Visit",value:32,color:"#F59E0B"},{name:"Commission Earned",value:28,color:"#EF4444"}];function td(){const[t,s]=p.useState("7d"),[a,r]=p.useState(null),i=({title:l,value:c,icon:u,change:x,color:o="primary"})=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`p-3 rounded-lg bg-${o}-100`,children:e.jsx(u,{className:`h-6 w-6 text-${o}-600`})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:l}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:c}),x&&e.jsxs("p",{className:`text-sm ${x>0?"text-green-600":"text-red-600"}`,children:[x>0?"+":"",x,"% vs last period"]})]})]})}),n=[{key:"name",title:"Agent",sortable:!0,filterable:!0,render:(l,c)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-sm font-medium text-primary-600",children:l.split(" ").map(u=>u[0]).join("")})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:l}),e.jsx("div",{className:"text-sm text-gray-500",children:c.email})]})]})},{key:"status",title:"Status",sortable:!0,filterable:!0,render:l=>e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l})},{key:"location",title:"Location",sortable:!0,filterable:!0},{key:"todayPlacements",title:"Today Placements",sortable:!0,render:l=>e.jsx("span",{className:"font-medium text-purple-600",children:l})},{key:"todayDistributions",title:"Today Distributions",sortable:!0,render:l=>e.jsx("span",{className:"font-medium text-green-600",children:l})},{key:"monthlyCommission",title:"Monthly Commission",sortable:!0,render:l=>e.jsxs("span",{className:"font-medium text-gray-900",children:["",l.toLocaleString()]})},{key:"performance",title:"Performance",sortable:!0,render:l=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:`h-2 rounded-full ${l>=90?"bg-green-500":l>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${l}%`}})}),e.jsxs("span",{className:"text-sm font-medium",children:[l,"%"]})]})},{key:"totalTransactions",title:"Total Transactions",sortable:!0,render:l=>e.jsx("span",{className:"font-medium text-blue-600",children:l})},{key:"actions",title:"Actions",render:(l,c)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ot,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-green-600 hover:text-green-800",children:e.jsx(aa,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-800",children:e.jsx(ji,{className:"h-4 w-4"})})]})}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Field Agents Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive field agent management with real-time tracking and analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:t,onChange:l=>s(l.target.value),className:"form-select",children:[e.jsx("option",{value:"1d",children:"Last 24 Hours"}),e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]}),e.jsxs("button",{className:"btn-primary",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Add Agent"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[e.jsx(i,{title:"Total Agents",value:Ht.totalAgents,icon:Ze,change:8,color:"blue"}),e.jsx(i,{title:"Active Today",value:Ht.activeToday,icon:za,change:12,color:"green"}),e.jsx(i,{title:"Board Placements",value:Ht.totalPlacements,icon:Ue,change:-5,color:"purple"}),e.jsx(i,{title:"Distributions",value:Ht.totalDistributions,icon:De,change:15,color:"orange"}),e.jsx(i,{title:"Total Commissions",value:`${Ht.totalCommissions.toLocaleString()}`,icon:ht,change:22,color:"green"}),e.jsx(i,{title:"Avg Performance",value:`${Ht.avgPerformance}%`,icon:Be,change:3,color:"blue"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Performance Trends"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Daily performance metrics over time"})]}),e.jsx(Yo,{data:ai,xKey:"date",yKeys:[{key:"placements",color:"#8B5CF6",name:"Board Placements"},{key:"distributions",color:"#10B981",name:"Product Distributions"}],height:300})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Commission Analysis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Daily commission earnings"})]}),e.jsx(Ko,{data:ai,xKey:"date",yKeys:[{key:"commissions",color:"#F59E0B",name:"Daily Commissions ()"}],height:300})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Activity Distribution"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown of agent activities"})]}),e.jsx(Jo,{data:ed,height:250})]}),e.jsxs("div",{className:"card lg:col-span-2",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Real-time Activity Feed"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Live updates from field agents"})]}),e.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:[{agent:"John Doe",action:"Placed Premium Billboard",location:"High Street, London",time:"2 min ago",name:"placement"},{agent:"Jane Smith",action:"Completed product delivery",location:"ABC Store, Manchester",time:"5 min ago",name:"distribution"},{agent:"Mike Johnson",action:"Started customer visit",location:"XYZ Corp, Birmingham",time:"12 min ago",name:"visit"},{agent:"Sarah Wilson",action:"Earned commission",location:"Multiple locations",time:"18 min ago",name:"commission"}].map((l,c)=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`p-2 rounded-full ${l.name==="placement"?"bg-purple-100":l.name==="distribution"?"bg-green-100":l.name==="visit"?"bg-blue-100":"bg-yellow-100"}`,children:l.name==="placement"?e.jsx(Ue,{className:"h-4 w-4 text-purple-600"}):l.name==="distribution"?e.jsx(De,{className:"h-4 w-4 text-green-600"}):l.name==="visit"?e.jsx(Ze,{className:"h-4 w-4 text-blue-600"}):e.jsx(ht,{className:"h-4 w-4 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.agent}),e.jsx("p",{className:"text-sm text-gray-600",children:l.action}),e.jsxs("p",{className:"text-xs text-gray-500",children:[l.location,"  ",l.time]})]})]},c))})]})]}),e.jsx(Zo,{data:Xo,columns:n,title:"Field Agent Details",searchable:!0,exportable:!0,pagination:!0,pageSize:10}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction-Level Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Detailed breakdown of all field operations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Board Placements"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"156"})]}),e.jsx(Ue,{className:"h-8 w-8 text-purple-600"})]}),e.jsxs("div",{className:"mt-2 text-xs text-purple-600",children:[e.jsx("span",{className:"font-medium",children:"GPS Verified:"})," 154 (98.7%)"]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Product Distributions"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:"284"})]}),e.jsx(De,{className:"h-8 w-8 text-green-600"})]}),e.jsxs("div",{className:"mt-2 text-xs text-green-600",children:[e.jsx("span",{className:"font-medium",children:"Signature Captured:"})," 282 (99.3%)"]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Customer Visits"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"128"})]}),e.jsx(Ze,{className:"h-8 w-8 text-blue-600"})]}),e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:[e.jsx("span",{className:"font-medium",children:"Avg Duration:"})," 45 minutes"]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Commission Events"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:"89"})]}),e.jsx(ht,{className:"h-8 w-8 text-yellow-600"})]}),e.jsxs("div",{className:"mt-2 text-xs text-yellow-600",children:[e.jsx("span",{className:"font-medium",children:"Total Value:"})," 12,450"]})]})]})]})]})}function sd(){const[t,s]=p.useState([]),[a,r]=p.useState(null),[i,n]=p.useState([]),[l,c]=p.useState(!0),[u,x]=p.useState(null),[o,h]=p.useState(""),[y,b]=p.useState("all"),[A,f]=p.useState(!1);p.useEffect(()=>{w();const C=setInterval(()=>{A||j()},3e4);return()=>clearInterval(C)},[]);const w=async()=>{try{c(!0),x(null);const C=[{id:"1",name:"John Smith",phone:"+1-555-0101",email:"john.smith@company.com",status:"active",location:{lat:40.7128,lng:-74.006,address:"123 Main St, New York, NY",timestamp:new Date().toISOString()},route:{id:"route-1",name:"Manhattan North",customers_planned:12,customers_visited:8,progress:67},device:{battery_level:85,signal_strength:4,last_sync:new Date(Date.now()-5*60*1e3).toISOString()},performance:{visits_today:8,sales_today:2500,distance_traveled:45.2,efficiency_score:92}},{id:"2",name:"Sarah Johnson",phone:"+1-555-0102",email:"sarah.johnson@company.com",status:"active",location:{lat:40.7589,lng:-73.9851,address:"456 Broadway, New York, NY",timestamp:new Date().toISOString()},route:{id:"route-2",name:"Manhattan South",customers_planned:10,customers_visited:6,progress:60},device:{battery_level:92,signal_strength:5,last_sync:new Date(Date.now()-2*60*1e3).toISOString()},performance:{visits_today:6,sales_today:1800,distance_traveled:32.1,efficiency_score:88}},{id:"3",name:"Mike Davis",phone:"+1-555-0103",email:"mike.davis@company.com",status:"inactive",location:{lat:40.6892,lng:-74.0445,address:"789 Liberty St, Jersey City, NJ",timestamp:new Date(Date.now()-30*60*1e3).toISOString()},route:{id:"route-3",name:"Jersey City",customers_planned:8,customers_visited:3,progress:38},device:{battery_level:23,signal_strength:2,last_sync:new Date(Date.now()-45*60*1e3).toISOString()},performance:{visits_today:3,sales_today:950,distance_traveled:18.7,efficiency_score:65}}],B=[{id:"1",customer_name:"ABC Electronics",address:"100 Tech Ave, New York, NY",visit_time:"09:00 AM",status:"completed",duration:45,sales_amount:850,notes:"Successful sale, customer interested in new products"},{id:"2",customer_name:"XYZ Retail",address:"200 Commerce St, New York, NY",visit_time:"10:30 AM",status:"completed",duration:30,sales_amount:650,notes:"Regular order placed"},{id:"3",customer_name:"Tech Solutions Inc",address:"300 Innovation Blvd, New York, NY",visit_time:"12:00 PM",status:"in_progress",duration:0,sales_amount:0,notes:"Currently presenting new product line"},{id:"4",customer_name:"Global Distributors",address:"400 Trade Center, New York, NY",visit_time:"02:00 PM",status:"planned",duration:0,sales_amount:0,notes:"Scheduled for product demonstration"}];await new Promise(S=>setTimeout(S,1e3)),s(C),n(B),C.length>0&&r(C[0])}catch(C){x("Failed to load field agents data"),console.error("Error loading agents:",C)}finally{c(!1)}},j=async()=>{s(C=>C.map(B=>({...B,location:{...B.location,timestamp:new Date().toISOString()},device:{...B.device,last_sync:new Date().toISOString()}})))},v=async()=>{f(!0),await w(),f(!1)},T=C=>{switch(C){case"active":return"text-green-600 bg-green-100";case"inactive":return"text-yellow-600 bg-yellow-100";case"offline":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},D=C=>{switch(C){case"completed":return"text-green-600 bg-green-100";case"in_progress":return"text-blue-600 bg-blue-100";case"planned":return"text-gray-600 bg-gray-100";case"skipped":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},k=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),_=C=>new Date(C).toLocaleTimeString(),O=t.filter(C=>{const B=C.name.toLowerCase().includes(o.toLowerCase())||C.phone.includes(o)||C.route.name.toLowerCase().includes(o.toLowerCase()),S=y==="all"||C.status===y;return B&&S});return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(gt,{})}):u?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Mapping"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Real-time field agent tracking and route management."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ft,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Live Mapping"}),e.jsx("p",{className:"text-gray-600 mb-4",children:u}),e.jsx("button",{onClick:w,className:"btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Mapping"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Real-time field agent tracking and route management with live location updates."})]}),e.jsx("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:e.jsx("button",{onClick:v,disabled:A,className:"btn-outline p-2",children:e.jsx(sa,{className:`h-4 w-4 ${A?"animate-spin":""}`})})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search agents by name, phone, or route...",value:o,onChange:C=>h(C.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("select",{value:y,onChange:C=>b(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"offline",children:"Offline"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Field Agents (",O.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:O.map(C=>e.jsxs("div",{onClick:()=>r(C),className:`p-4 cursor-pointer hover:bg-gray-50 ${(a==null?void 0:a.id)===C.id?"bg-primary-50 border-r-2 border-primary-500":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(va,{className:"h-5 w-5 text-primary-600"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:C.name}),e.jsx("p",{className:"text-xs text-gray-500",children:C.route.name})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T(C.status)}`,children:C.status}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(Nr,{className:"h-3 w-3"}),e.jsxs("span",{children:[C.device.battery_level,"%"]})]})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ue,{className:"h-3 w-3"}),e.jsxs("span",{children:["Last seen: ",_(C.location.timestamp)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ks,{className:"h-3 w-3"}),e.jsxs("span",{children:[C.route.customers_visited,"/",C.route.customers_planned]})]})]})]},C.id))})]})}),e.jsx("div",{className:"lg:col-span-2",children:a?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(va,{className:"h-8 w-8 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.name}),e.jsx("p",{className:"text-gray-600",children:a.route.name}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[e.jsx(wr,{className:"h-4 w-4"}),e.jsx("span",{children:a.phone})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T(a.status)}`,children:a.status})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"btn-outline p-2",children:e.jsx(wr,{className:"h-4 w-4"})}),e.jsx("button",{className:"btn-outline p-2",children:e.jsx(Dn,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.performance.visits_today}),e.jsx("div",{className:"text-sm text-gray-500",children:"Visits Today"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:k(a.performance.sales_today)}),e.jsx("div",{className:"text-sm text-gray-500",children:"Sales Today"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a.performance.distance_traveled," km"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Distance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[a.performance.efficiency_score,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Efficiency"})]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Route Progress"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tn,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.route.progress,"% Complete"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.route.progress}%`}})}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["Visited: ",a.route.customers_visited]}),e.jsxs("span",{children:["Remaining: ",a.route.customers_planned-a.route.customers_visited]}),e.jsxs("span",{children:["Total: ",a.route.customers_planned]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Device Status"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Nr,{className:`h-5 w-5 ${a.device.battery_level>20?"text-green-500":"text-red-500"}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.device.battery_level,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Battery"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Rn,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[a.device.signal_strength,"/5"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Signal"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_s,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_(a.device.last_sync)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Last Sync"})]})]})]})]})})]}):e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Agent"}),e.jsx("p",{className:"text-gray-600",children:"Choose a field agent from the list to view their live location and details."})]})})})]}),a&&e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-6",children:"Today's Customer Visits"}),e.jsx("div",{className:"space-y-4",children:i.map(C=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-shrink-0",children:[C.status==="completed"&&e.jsx(Ys,{className:"h-5 w-5 text-green-500"}),C.status==="in_progress"&&e.jsx(_s,{className:"h-5 w-5 text-blue-500"}),C.status==="planned"&&e.jsx(Za,{className:"h-5 w-5 text-gray-500"}),C.status==="skipped"&&e.jsx(Xa,{className:"h-5 w-5 text-red-500"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.customer_name}),e.jsx("div",{className:"text-xs text-gray-500",children:C.address}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:C.notes})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.visit_time}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D(C.status)}`,children:C.status.replace("_"," ")}),C.sales_amount>0&&e.jsx("div",{className:"text-xs text-green-600 mt-1",children:k(C.sales_amount)})]})]},C.id))})]})})]})}function ad(){const[t,s]=p.useState([]),[a,r]=p.useState([]),[i,n]=p.useState(null),[l,c]=p.useState(!0),[u,x]=p.useState(null),[o,h]=p.useState(""),[y,b]=p.useState("all"),[A,f]=p.useState("all"),[,w]=p.useState(!1),[j,v]=p.useState(!1);p.useEffect(()=>{T()},[]);const T=async()=>{try{c(!0),x(null);const S=[{id:"1",name:"Summer Sale 2024",client:"Fashion Retailer Inc",start_date:"2024-06-01",end_date:"2024-08-31",budget:5e4,boards_required:25,boards_placed:18,status:"active"},{id:"2",name:"Tech Product Launch",client:"TechCorp Solutions",start_date:"2024-07-15",end_date:"2024-09-15",budget:75e3,boards_required:30,boards_placed:22,status:"active"},{id:"3",name:"Holiday Promotion",client:"Retail Chain Ltd",start_date:"2024-11-01",end_date:"2024-12-31",budget:1e5,boards_required:50,boards_placed:0,status:"paused"}],z=[{id:"1",board_id:"BB-001",board_type:"billboard",location:{address:"123 Main St, New York, NY",lat:40.7128,lng:-74.006,landmark:"Near Central Station"},agent_id:"1",agent_name:"John Smith",placement_date:"2024-06-15T09:00:00Z",status:"active",photos:{before:"/api/photos/bb001-before.jpg",after:"/api/photos/bb001-after.jpg",current:"/api/photos/bb001-current.jpg"},campaign:{id:"1",name:"Summer Sale 2024",client:"Fashion Retailer Inc",budget:5e4},metrics:{visibility_score:92,foot_traffic:15e3,estimated_impressions:45e3,cost_per_impression:.12},notes:"High visibility location, excellent condition",verification_required:!1,last_verified:"2024-10-15T14:30:00Z"},{id:"2",board_id:"PO-002",board_type:"poster",location:{address:"456 Broadway, New York, NY",lat:40.7589,lng:-73.9851,landmark:"Times Square Area"},agent_id:"2",agent_name:"Sarah Johnson",placement_date:"2024-07-20T11:30:00Z",status:"active",photos:{after:"/api/photos/po002-after.jpg",current:"/api/photos/po002-current.jpg"},campaign:{id:"2",name:"Tech Product Launch",client:"TechCorp Solutions",budget:75e3},metrics:{visibility_score:88,foot_traffic:25e3,estimated_impressions:75e3,cost_per_impression:.08},notes:"Premium location with high foot traffic",verification_required:!0,last_verified:"2024-10-10T16:45:00Z"},{id:"3",board_id:"BN-003",board_type:"banner",location:{address:"789 5th Ave, New York, NY",lat:40.7614,lng:-73.9776,landmark:"Shopping District"},agent_id:"3",agent_name:"Mike Davis",placement_date:"2024-06-25T08:15:00Z",removal_date:"2024-08-25T17:00:00Z",status:"removed",photos:{before:"/api/photos/bn003-before.jpg",after:"/api/photos/bn003-after.jpg"},campaign:{id:"1",name:"Summer Sale 2024",client:"Fashion Retailer Inc",budget:5e4},metrics:{visibility_score:85,foot_traffic:12e3,estimated_impressions:36e3,cost_per_impression:.15},notes:"Campaign completed successfully, removed as scheduled",verification_required:!1,last_verified:"2024-08-25T17:00:00Z"},{id:"4",board_id:"DG-004",board_type:"digital",location:{address:"321 Park Ave, New York, NY",lat:40.7505,lng:-73.9934,landmark:"Business District"},agent_id:"1",agent_name:"John Smith",placement_date:"2024-08-01T10:00:00Z",status:"damaged",photos:{after:"/api/photos/dg004-after.jpg",current:"/api/photos/dg004-damaged.jpg"},campaign:{id:"2",name:"Tech Product Launch",client:"TechCorp Solutions",budget:75e3},metrics:{visibility_score:95,foot_traffic:2e4,estimated_impressions:6e4,cost_per_impression:.1},notes:"Digital display damaged by weather, requires repair",verification_required:!0,last_verified:"2024-10-12T09:20:00Z"}];await new Promise($=>setTimeout($,1e3)),s(z),r(S)}catch(S){x("Failed to load board placements data"),console.error("Error loading placements:",S)}finally{c(!1)}},D=async()=>{v(!0),await T(),v(!1)},k=S=>{switch(S){case"active":return"text-green-600 bg-green-100";case"removed":return"text-gray-600 bg-gray-100";case"damaged":return"text-red-600 bg-red-100";case"expired":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},_=S=>{switch(S){case"billboard":return"text-blue-600 bg-blue-100";case"poster":return"text-green-600 bg-green-100";case"banner":return"text-purple-600 bg-purple-100";case"digital":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},O=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),C=S=>new Date(S).toLocaleDateString(),B=t.filter(S=>{const z=S.board_id.toLowerCase().includes(o.toLowerCase())||S.location.address.toLowerCase().includes(o.toLowerCase())||S.agent_name.toLowerCase().includes(o.toLowerCase())||S.campaign.name.toLowerCase().includes(o.toLowerCase()),$=y==="all"||S.status===y,W=A==="all"||S.campaign.id===A;return z&&$&&W});return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(gt,{})}):u?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Board Placement"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage advertising board placements and campaign tracking."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ft,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Board Placements"}),e.jsx("p",{className:"text-gray-600 mb-4",children:u}),e.jsx("button",{onClick:T,className:"btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Board Placement"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage advertising board placements, campaigns, and performance tracking."})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-3",children:[e.jsx("button",{onClick:D,disabled:j,className:"btn-outline p-2",children:e.jsx(sa,{className:`h-4 w-4 ${j?"animate-spin":""}`})}),e.jsxs("button",{onClick:()=>w(!0),className:"btn-primary flex items-center space-x-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Placement"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.filter(S=>S.status==="active").map(S=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:S.name}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-green-600 bg-green-100",children:S.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Client:"}),e.jsx("span",{className:"font-medium text-gray-900",children:S.client})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Budget:"}),e.jsx("span",{className:"font-medium text-gray-900",children:O(S.budget)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Progress:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[S.boards_placed,"/",S.boards_required]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${S.boards_placed/S.boards_required*100}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:C(S.start_date)}),e.jsx("span",{children:C(S.end_date)})]})]})]})},S.id))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by board ID, location, agent, or campaign...",value:o,onChange:S=>h(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("select",{value:y,onChange:S=>b(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"removed",children:"Removed"}),e.jsx("option",{value:"damaged",children:"Damaged"}),e.jsx("option",{value:"expired",children:"Expired"})]}),e.jsxs("select",{value:A,onChange:S=>f(S.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Campaigns"}),a.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Board Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(S=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(ks,{className:"h-5 w-5 text-gray-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.board_id}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(S.board_type)}`,children:S.board_type})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:S.location.address}),e.jsx("div",{className:"text-sm text-gray-500",children:S.location.landmark})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.campaign.name}),e.jsx("div",{className:"text-sm text-gray-500",children:S.campaign.client})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:S.agent_name}),e.jsx("div",{className:"text-sm text-gray-500",children:C(S.placement_date)})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k(S.status)}`,children:S.status}),S.verification_required&&e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-yellow-600 bg-yellow-100",children:"Verification Required"})})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Score: ",S.metrics.visibility_score,"%"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[S.metrics.estimated_impressions.toLocaleString()," impressions"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>n(S),className:"text-primary-600 hover:text-primary-900",children:e.jsx(Ot,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:e.jsx(aa,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(Ka,{className:"h-4 w-4"})})]})})]},S.id))})]})})}),i&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Board Placement Details - ",i.board_id]}),e.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Xa,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Board Type"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${_(i.board_type)}`,children:i.board_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k(i.status)}`,children:i.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-900",children:i.location.address}),e.jsx("div",{className:"text-sm text-gray-500",children:i.location.landmark})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Performance Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[i.metrics.visibility_score,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Visibility Score"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.metrics.estimated_impressions.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500",children:"Est. Impressions"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.photos.before&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:e.jsx(ha,{className:"h-8 w-8 text-gray-400"})}),e.jsx("div",{className:"text-xs text-gray-500",children:"Before"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:e.jsx(ha,{className:"h-8 w-8 text-gray-400"})}),e.jsx("div",{className:"text-xs text-gray-500",children:"After"})]}),i.photos.current&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:e.jsx(ha,{className:"h-8 w-8 text-gray-400"})}),e.jsx("div",{className:"text-xs text-gray-500",children:"Current"})]})]})]}),i.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsx("div",{className:"text-sm text-gray-900",children:i.notes})})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>n(null),className:"btn-outline",children:"Close"}),e.jsx("button",{className:"btn-primary",children:"Edit Placement"})]})]})})})]})}function rd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Distribution"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Product Distribution functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Product Distribution"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}function id(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Commission Tracking"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Commission Tracking functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Commission Tracking"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}class nd{constructor(){hs(this,"baseUrl","/api/customers")}async getCustomers(s){var a,r;try{const i=await U.get(this.baseUrl,{params:s});return{customers:((a=i.data.data)==null?void 0:a.customers)||i.data.data||[],pagination:((r=i.data.data)==null?void 0:r.pagination)||{}}}catch(i){throw console.error("Failed to fetch customers:",i),i}}async getCustomer(s){try{return(await U.get(`${this.baseUrl}/${s}`)).data.data}catch(a){return console.error("Failed to fetch customer:",a),null}}async createCustomer(s){try{return(await U.post(this.baseUrl,s)).data.data}catch(a){throw console.error("Failed to create customer:",a),a}}async updateCustomer(s,a){try{return(await U.put(`${this.baseUrl}/${s}`,a)).data.data}catch(r){throw console.error("Failed to update customer:",r),r}}async deleteCustomer(s){try{await U.delete(`${this.baseUrl}/${s}`)}catch(a){throw console.error("Failed to delete customer:",a),a}}async getCustomerStats(){try{return(await U.get(`${this.baseUrl}/stats`)).data.data}catch(s){return console.error("Failed to fetch customer stats:",s),this.getMockStats()}}async getCustomerOrders(s,a){try{return(await U.get(`${this.baseUrl}/${s}/orders`,{params:a})).data.data||[]}catch(r){return console.error("Failed to fetch customer orders:",r),[]}}async getCustomerTransactions(s,a){try{return(await U.get(`${this.baseUrl}/${s}/transactions`,{params:a})).data.data||[]}catch(r){return console.error("Failed to fetch customer transactions:",r),[]}}async getCustomerVisits(s,a){try{return(await U.get(`${this.baseUrl}/${s}/visits`,{params:a})).data.data||[]}catch(r){return console.error("Failed to fetch customer visits:",r),[]}}async exportCustomers(s,a="csv"){try{return(await U.get(`${this.baseUrl}/export`,{params:{...s,format:a},responseType:"blob"})).data}catch(r){throw console.error("Failed to export customers:",r),r}}async bulkUpdateCustomers(s){try{return(await U.put(`${this.baseUrl}/bulk`,{updates:s})).data.data}catch(a){throw console.error("Failed to bulk update customers:",a),a}}async importCustomers(s){try{const a=new FormData;return a.append("file",s),(await U.post(`${this.baseUrl}/import`,a,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(a){throw console.error("Failed to import customers:",a),a}}getMockStats(){return{total_customers:3,active_customers:3,inactive_customers:0,total_sales:150,average_order_value:150,top_customers:[],customers_by_type:{retail:2,wholesale:1,distributor:0},customers_by_region:[{region:"North Region",count:3,sales:150}]}}}const ya=new nd,Ss=fe,ld=(t,s)=>{const{format:a="medium",includeTime:r=!1,locale:i="en-GB"}={},n=typeof t=="string"?new Date(t):t;if(isNaN(n.getTime()))return"Invalid Date";const l={};switch(a){case"short":l.dateStyle="short";break;case"medium":l.dateStyle="medium";break;case"long":l.dateStyle="long";break;case"full":l.dateStyle="full";break}return r&&(l.timeStyle="short"),new Intl.DateTimeFormat(i,l).format(n)},cd=t=>{const s=t.replace(/\D/g,"");return s.length===10?s.replace(/(\d{5})(\d{3})(\d{3})/,"$1 $2 $3"):s.length===11&&s.startsWith("44")?`+${s.replace(/(\d{2})(\d{4})(\d{3})(\d{3})/,"$1 $2 $3 $4")}`:t};function od(){const[t,s]=p.useState({page:1,limit:10,sort_by:"created_at",sort_order:"desc"}),[a,r]=p.useState([]),[i,n]=p.useState(!1),[l,c]=p.useState(!1),u=rr(),{data:x,isLoading:o,error:h,refetch:y}=$a({queryKey:["customers",t],queryFn:()=>ya.getCustomers(t),staleTime:1e3*60*5}),{data:b}=$a({queryKey:["customer-stats"],queryFn:()=>ya.getCustomerStats(),staleTime:1e3*60*10}),A=(x==null?void 0:x.customers)||[],f=(x==null?void 0:x.pagination)||{},w=kl({mutationFn:_=>ya.deleteCustomer(_),onSuccess:()=>{u.invalidateQueries({queryKey:["customers"]}),u.invalidateQueries({queryKey:["customer-stats"]})}}),j=_=>{const O={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",suspended:"bg-red-100 text-red-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O[_]||"bg-gray-100 text-gray-800"}`,children:_.charAt(0).toUpperCase()+_.slice(1)})},v=_=>{const O={retail:"bg-blue-100 text-blue-800",wholesale:"bg-purple-100 text-purple-800",distributor:"bg-orange-100 text-orange-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O[_]||"bg-gray-100 text-gray-800"}`,children:_.charAt(0).toUpperCase()+_.slice(1)})},T=_=>{r(_?A.map(O=>O.id):[])},D=(_,O)=>{r(O?[...a,_]:a.filter(C=>C!==_))},k=async _=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await w.mutateAsync(_)}catch(O){console.error("Failed to delete customer:",O)}};return o?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your customer database and relationships"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((_,O)=>e.jsxs("div",{className:"card animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},O))}),e.jsxs("div",{className:"card animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})]}):h?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your customer database and relationships"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Customers"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading the customer data."}),e.jsx("button",{onClick:()=>y(),className:"btn btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Manage your customer database and relationships (",f.total||0," total)"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>c(!0),className:"btn btn-secondary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Import"]}),e.jsx("div",{className:"relative",children:e.jsxs("button",{className:"btn btn-secondary dropdown-toggle",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export"]})}),e.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Customer"]})]})]}),b&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:b.total_customers}),e.jsxs("p",{className:"text-sm text-green-600",children:[b.active_customers," active"]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ss(b.total_sales)}),e.jsx("p",{className:"text-sm text-gray-500",children:"All time"})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ss(b.average_order_value)}),e.jsx("p",{className:"text-sm text-gray-500",children:"Per order"})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m4 0V9a2 2 0 011-1h4a2 2 0 011 1v12m-6 0h6"})})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer Types"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:b.customers_by_type.retail+b.customers_by_type.wholesale}),e.jsxs("p",{className:"text-sm text-gray-500",children:[b.customers_by_type.retail," retail, ",b.customers_by_type.wholesale," wholesale"]})]})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:t.search||"",onChange:_=>s({...t,search:_.target.value||void 0,page:1}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),e.jsxs("select",{value:t.type||"",onChange:_=>s({...t,type:_.target.value||void 0,page:1}),className:"input",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"retail",children:"Retail"}),e.jsx("option",{value:"wholesale",children:"Wholesale"}),e.jsx("option",{value:"distributor",children:"Distributor"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:t.status||"",onChange:_=>s({...t,status:_.target.value||void 0,page:1}),className:"input",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsxs("select",{value:t.sort_by||"created_at",onChange:_=>s({...t,sort_by:_.target.value,page:1}),className:"input",children:[e.jsx("option",{value:"created_at",children:"Date Created"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"total_sales",children:"Total Sales"}),e.jsx("option",{value:"total_orders",children:"Total Orders"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),e.jsxs("select",{value:t.sort_order||"desc",onChange:_=>s({...t,sort_order:_.target.value,page:1}),className:"input",children:[e.jsx("option",{value:"desc",children:"Descending"}),e.jsx("option",{value:"asc",children:"Ascending"})]})]})]})}),e.jsx("div",{className:"card overflow-hidden",children:A.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No customers found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No customers match your current filters."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:a.length===A.length,onChange:_=>T(_.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:a.includes(_.id),onChange:O=>D(_.id,O.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),e.jsx("div",{className:"text-sm text-gray-500",children:_.code})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v(_.type)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[_.phone&&e.jsx("div",{className:"text-sm text-gray-900",children:cd(_.phone)}),_.email&&e.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:_.route_name||"No Route"}),e.jsx("div",{className:"text-sm text-gray-500",children:_.area_name})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ss(_.total_sales)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[_.total_orders," orders"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j(_.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"View"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900 mr-3",children:"Edit"}),e.jsx("button",{onClick:()=>k(_.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},_.id))})]})})}),f.totalPages>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",((f.page||1)-1)*(f.limit||10)+1," to"," ",Math.min((f.page||1)*(f.limit||10),f.total||0)," of ",f.total||0," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>s({...t,page:(t.page||1)-1}),disabled:(t.page||1)<=1,className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>s({...t,page:(t.page||1)+1}),disabled:(t.page||1)>=(f.totalPages||1),className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function dd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Details"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Customer Details functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Customer Details"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}class md{constructor(){hs(this,"baseUrl","/api/orders")}async getOrders(s){var a,r,i,n;try{const l=await U.get(this.baseUrl,{params:s});return{orders:((a=l.data.data)==null?void 0:a.orders)||l.data.data||[],total:((i=(r=l.data.data)==null?void 0:r.pagination)==null?void 0:i.total)||((n=l.data.data)==null?void 0:n.length)||0}}catch(l){return console.error("Failed to fetch orders:",l),this.getMockOrders(s)}}async getOrder(s){try{return(await U.get(`${this.baseUrl}/${s}`)).data}catch(a){return console.error("Failed to fetch order:",a),null}}async createOrder(s){try{return(await U.post(this.baseUrl,s)).data}catch(a){throw console.error("Failed to create order:",a),a}}async updateOrder(s,a){try{return(await U.put(`${this.baseUrl}/${s}`,a)).data}catch(r){throw console.error("Failed to update order:",r),r}}async deleteOrder(s){try{await U.delete(`${this.baseUrl}/${s}`)}catch(a){throw console.error("Failed to delete order:",a),a}}async getOrderItems(s){try{return(await U.get(`${this.baseUrl}/${s}/items`)).data}catch(a){return console.error("Failed to fetch order items:",a),[]}}getMockOrders(s){const a=[{id:"132222ef28591ab877b2ca90263ed8bb",tenant_id:"demo",order_number:"ORD-001",customer_id:"c874a76dc577e314126efbc7ef6e36a9",order_date:"2025-10-06",subtotal:150,tax_amount:0,discount_amount:0,total_amount:150,payment_status:"pending",order_status:"pending",created_at:"2025-10-06T06:30:34Z",customer:{id:"c874a76dc577e314126efbc7ef6e36a9",name:"Demo Customer",email:"customer@demo.com",phone:"+44 123 456 7890"},items:[{id:"7e03b0a0041b4c94342f326bd3056096",order_id:"132222ef28591ab877b2ca90263ed8bb",product_id:"76f4d483-bdaa-40e9-94e1-65b8dcdca410",quantity:2,unit_price:75,discount_amount:0,tax_amount:0,total_amount:150,product:{id:"76f4d483-bdaa-40e9-94e1-65b8dcdca410",name:"Premium Product",sku:"PROD-001"}}]}];let r=a;s&&(r=a.filter(u=>!(s.status&&u.order_status!==s.status||s.payment_status&&u.payment_status!==s.payment_status||s.customer_id&&u.customer_id!==s.customer_id)));const i=(s==null?void 0:s.limit)||10,l=(((s==null?void 0:s.page)||1)-1)*i,c=l+i;return{orders:r.slice(l,c),total:r.length}}}const ud=new md;function xd(){const[t,s]=p.useState({page:1,limit:10}),{data:a,isLoading:r,error:i,refetch:n}=$a({queryKey:["orders",t],queryFn:()=>ud.getOrders(t),staleTime:1e3*60*5}),l=(a==null?void 0:a.orders)||[],c=(a==null?void 0:a.total)||0,u=o=>{const h={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",delivered:"bg-purple-100 text-purple-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h[o]||"bg-gray-100 text-gray-800"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})},x=o=>{const h={pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h[o]||"bg-gray-100 text-gray-800"}`,children:o.charAt(0).toUpperCase()+o.slice(1)})};return r?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage customer orders and transactions"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})]}):i?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage customer orders and transactions"})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Orders"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading the orders data."}),e.jsx("button",{onClick:()=>n(),className:"btn btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Manage customer orders and transactions (",c," total)"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"btn btn-secondary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export"]}),e.jsxs("button",{className:"btn btn-primary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Order"]})]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Status"}),e.jsxs("select",{value:t.status||"",onChange:o=>s({...t,status:o.target.value||void 0,page:1}),className:"input",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"delivered",children:"Delivered"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{value:t.payment_status||"",onChange:o=>s({...t,payment_status:o.target.value||void 0,page:1}),className:"input",children:[e.jsx("option",{value:"",children:"All Payment Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"refunded",children:"Refunded"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:t.date_from||"",onChange:o=>s({...t,date_from:o.target.value||void 0,page:1}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:t.date_to||"",onChange:o=>s({...t,date_to:o.target.value||void 0,page:1}),className:"input"})]})]})}),e.jsx("div",{className:"card overflow-hidden",children:l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No orders found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No orders match your current filters."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),e.jsx("th",{className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(o=>{var h,y,b;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.order_number}),e.jsxs("div",{className:"text-sm text-gray-500",children:[o.id.substring(0,8),"..."]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((h=o.customer)==null?void 0:h.name)||"Unknown Customer"}),e.jsx("div",{className:"text-sm text-gray-500",children:(y=o.customer)==null?void 0:y.email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ld(o.order_date)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ss(o.total_amount)}),o.discount_amount>0&&e.jsxs("div",{className:"text-sm text-gray-500",children:["-",Ss(o.discount_amount)," discount"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u(o.order_status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(o.payment_status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[((b=o.items)==null?void 0:b.length)||0," items"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"View"}),e.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:"Edit"})]})]},o.id)})})]})})}),c>(t.limit||10)&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",((t.page||1)-1)*(t.limit||10)+1," to"," ",Math.min((t.page||1)*(t.limit||10),c)," of ",c," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>s({...t,page:(t.page||1)-1}),disabled:(t.page||1)<=1,className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>s({...t,page:(t.page||1)+1}),disabled:(t.page||1)*(t.limit||10)>=c,className:"btn btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function hd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order Details"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Order Details functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Order Details"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}class fd{constructor(){hs(this,"baseUrl","/api/products")}async getProducts(s){var a,r,i,n;try{const l=await U.get(this.baseUrl,{params:s});return{products:((a=l.data.data)==null?void 0:a.products)||l.data.data||[],categories:((r=l.data.data)==null?void 0:r.categories)||[],brands:((i=l.data.data)==null?void 0:i.brands)||[],pagination:((n=l.data.data)==null?void 0:n.pagination)||{}}}catch(l){throw console.error("Failed to fetch products:",l),l}}async getProduct(s){try{return(await U.get(`${this.baseUrl}/${s}`)).data.data}catch(a){return console.error("Failed to fetch product:",a),null}}async createProduct(s){try{return(await U.post(this.baseUrl,s)).data.data}catch(a){throw console.error("Failed to create product:",a),a}}async updateProduct(s,a){try{return(await U.put(`${this.baseUrl}/${s}`,a)).data.data}catch(r){throw console.error("Failed to update product:",r),r}}async deleteProduct(s){try{await U.delete(`${this.baseUrl}/${s}`)}catch(a){throw console.error("Failed to delete product:",a),a}}async getProductStats(){try{return(await U.get(`${this.baseUrl}/stats`)).data.data}catch(s){return console.error("Failed to fetch product stats:",s),this.getMockStats()}}async getCategories(){try{return(await U.get("/api/categories")).data.data||[]}catch(s){return console.error("Failed to fetch categories:",s),[]}}async getBrands(){try{return(await U.get("/api/brands")).data.data||[]}catch(s){return console.error("Failed to fetch brands:",s),[]}}async updateStock(s,a){try{return(await U.post(`${this.baseUrl}/${s}/stock`,a)).data.data}catch(r){throw console.error("Failed to update stock:",r),r}}async getStockMovements(s,a){try{return(await U.get(`${this.baseUrl}/${s}/movements`,{params:a})).data.data||[]}catch(r){return console.error("Failed to fetch stock movements:",r),[]}}async exportProducts(s,a="csv"){try{return(await U.get(`${this.baseUrl}/export`,{params:{...s,format:a},responseType:"blob"})).data}catch(r){throw console.error("Failed to export products:",r),r}}async bulkUpdateProducts(s){try{return(await U.put(`${this.baseUrl}/bulk`,{updates:s})).data.data}catch(a){throw console.error("Failed to bulk update products:",a),a}}async importProducts(s){try{const a=new FormData;return a.append("file",s),(await U.post(`${this.baseUrl}/import`,a,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(a){throw console.error("Failed to import products:",a),a}}async uploadProductImage(s,a){try{const r=new FormData;return r.append("image",a),(await U.post(`${this.baseUrl}/${s}/image`,r,{headers:{"Content-Type":"multipart/form-data"}})).data.data.image_url}catch(r){throw console.error("Failed to upload product image:",r),r}}getMockStats(){return{total_products:3,active_products:3,inactive_products:0,total_value:21e3,low_stock_products:0,out_of_stock_products:0,top_selling_products:[],products_by_category:[{category:"Beverages",count:3,value:21e3}],products_by_brand:[{brand:"Premium Brand",count:3,value:21e3}]}}}const ri=new fd;function pd(){const[t,s]=p.useState([]),[a,r]=p.useState(null),[i,n]=p.useState(!0),[l,c]=p.useState(null),[u,x]=p.useState(""),[o,h]=p.useState(""),[y,b]=p.useState(""),[A,f]=p.useState(""),[w,j]=p.useState(""),[v,T]=p.useState("name"),[D,k]=p.useState("asc"),[_,O]=p.useState(1),[C]=p.useState(20),[B,S]=p.useState([]),[z,$]=p.useState(!1),[W,se]=p.useState([]),[pe,ge]=p.useState([]);p.useEffect(()=>{_e(),yt()},[]);const _e=async()=>{try{n(!0),c(null);const P=await ri.getProducts();s(P.products);const ae=[...new Set(P.products.map(oe=>oe.category_name||oe.category).filter(Boolean))],ee=[...new Set(P.products.map(oe=>oe.brand_name||oe.brand).filter(Boolean))];se(ae),ge(ee)}catch(P){c("Failed to load products"),console.error("Error loading products:",P)}finally{n(!1)}},yt=async()=>{try{const P=await ri.getProductStats();r(P)}catch(P){console.error("Error loading product stats:",P)}},Ce=t.filter(P=>{const ae=P.name.toLowerCase().includes(u.toLowerCase())||P.code.toLowerCase().includes(u.toLowerCase())||P.description&&P.description.toLowerCase().includes(u.toLowerCase()),ee=!o||P.category_name===o,oe=!y||P.brand_name===y,Vs=!A||P.status===A;let Bt=!0;return w==="low"?Bt=P.min_stock_level?P.total_stock<=P.min_stock_level:!1:w==="out"?Bt=P.total_stock===0:w==="in"&&(Bt=P.total_stock>0),ae&&ee&&oe&&Vs&&Bt}).sort((P,ae)=>{let ee=P[v],oe=ae[v];return ee===void 0&&(ee=""),oe===void 0&&(oe=""),typeof ee=="string"&&(ee=ee.toLowerCase()),typeof oe=="string"&&(oe=oe.toLowerCase()),D==="asc"?ee<oe?-1:ee>oe?1:0:ee>oe?-1:ee<oe?1:0}),We=Math.ceil(Ce.length/C),jt=(_-1)*C,vt=Ce.slice(jt,jt+C),Is=P=>{S(ae=>ae.includes(P)?ae.filter(ee=>ee!==P):[...ae,P])},oa=()=>{B.length===vt.length?S([]):S(vt.map(P=>P.id))},Ls=P=>P.total_stock===0?"out":P.min_stock_level&&P.total_stock<=P.min_stock_level?"low":"in",da=P=>{switch(P){case"out":return"text-red-600 bg-red-100";case"low":return"text-yellow-600 bg-yellow-100";case"in":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},Ut=P=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(P);return i?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your product inventory and catalog"})]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(gt,{size:"lg"})})]}):l?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your product inventory and catalog"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ft,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Products"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading the product data."}),e.jsx("button",{onClick:_e,className:"btn-primary",children:"Try Again"})]})})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your product inventory and catalog"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"btn-outline flex items-center space-x-2",children:[e.jsx(Fn,{className:"h-4 w-4"}),e.jsx("span",{children:"Import"})]}),e.jsxs("button",{className:"btn-outline flex items-center space-x-2",children:[e.jsx(Ha,{className:"h-4 w-4"}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Product"})]})]})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-lg bg-blue-100",children:e.jsx(De,{className:"h-6 w-6 text-blue-600"})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.total_products.toLocaleString()}),e.jsxs("p",{className:"text-sm text-blue-600",children:[a.active_products," active"]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-lg bg-green-100",children:e.jsx(Ys,{className:"h-6 w-6 text-green-600"})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:(a.total_products-a.out_of_stock_products).toLocaleString()}),e.jsx("p",{className:"text-sm text-green-600",children:"Available for sale"})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-lg bg-yellow-100",children:e.jsx(Ft,{className:"h-6 w-6 text-yellow-600"})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.low_stock_products}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Needs attention"})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 rounded-lg bg-purple-100",children:e.jsx(ht,{className:"h-6 w-6 text-purple-600"})})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:Ut(a.total_value)}),e.jsx("p",{className:"text-sm text-purple-600",children:"Inventory worth"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-lg",children:e.jsxs("div",{className:"relative",children:[e.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products by name, code, or description...",value:u,onChange:P=>x(P.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>$(!z),className:"btn-outline flex items-center space-x-2",children:[e.jsx(Ja,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("select",{value:v,onChange:P=>T(P.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"code",children:"Sort by Code"}),e.jsx("option",{value:"selling_price",children:"Sort by Price"}),e.jsx("option",{value:"total_stock",children:"Sort by Stock"}),e.jsx("option",{value:"created_at",children:"Sort by Date"})]}),e.jsx("button",{onClick:()=>k(D==="asc"?"desc":"asc"),className:"btn-outline p-2",children:D==="asc"?e.jsx(Be,{className:"h-4 w-4"}):e.jsx(Ga,{className:"h-4 w-4"})})]})]}),z&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:o,onChange:P=>h(P.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Categories"}),W.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),e.jsxs("select",{value:y,onChange:P=>b(P.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Brands"}),pe.map(P=>e.jsx("option",{value:P,children:P},P))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:A,onChange:P=>f(P.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Level"}),e.jsxs("select",{value:w,onChange:P=>j(P.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Stock Levels"}),e.jsx("option",{value:"in",children:"In Stock"}),e.jsx("option",{value:"low",children:"Low Stock"}),e.jsx("option",{value:"out",children:"Out of Stock"})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Products (",Ce.length,")"]}),B.length>0&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[B.length," selected"]}),e.jsx("button",{className:"btn-outline btn-sm",children:"Bulk Edit"}),e.jsx("button",{className:"btn-outline btn-sm text-red-600 hover:text-red-700",children:"Delete Selected"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:B.length===vt.length&&vt.length>0,onChange:oa,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:vt.map(P=>{const ae=Ls(P);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:B.includes(P.id),onChange:()=>Is(P.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:P.image_url?e.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:P.image_url,alt:P.name}):e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),P.description&&e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.category_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ut(P.selling_price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-900",children:[P.total_stock," ",P.unit_of_measure||"units"]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${da(ae)}`,children:[ae==="out"&&e.jsx(Xa,{className:"h-3 w-3 mr-1"}),ae==="low"&&e.jsx(Ft,{className:"h-3 w-3 mr-1"}),ae==="in"&&e.jsx(Ys,{className:"h-3 w-3 mr-1"}),ae==="out"?"Out of Stock":ae==="low"?"Low Stock":"In Stock"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.status==="active"?"bg-green-100 text-green-800":P.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:P.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ot,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(aa,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-red-600",children:e.jsx(Ka,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(ji,{className:"h-4 w-4"})})]})})]},P.id)})})]})}),We>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",jt+1," to ",Math.min(jt+C,Ce.length)," of ",Ce.length," products"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>O(Math.max(1,_-1)),disabled:_===1,className:"btn-outline btn-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,We)},(P,ae)=>{const ee=ae+1;return e.jsx("button",{onClick:()=>O(ee),className:`btn-sm ${_===ee?"btn-primary":"btn-outline"}`,children:ee},ee)}),e.jsx("button",{onClick:()=>O(Math.min(We,_+1)),disabled:_===We,className:"btn-outline btn-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})]})}function gd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Details"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Product Details functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Product Details"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}function yd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Admin functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Admin"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}function jd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"User Management functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}const vd=({onCurrencyChange:t})=>{const[s,a]=p.useState(Es()),[r,i]=p.useState(!1);p.useEffect(()=>{a(Es())},[]);const n=async c=>{i(!0);try{Io(c),a(c),t==null||t(c),console.log(`Currency changed to ${Vo(c)}`)}catch(u){console.error("Failed to update currency:",u)}finally{i(!1)}},l=1234.56;return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Currency Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose your preferred currency for displaying amounts throughout the application."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Currency"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Object.entries(xs).map(([c,u])=>e.jsx("div",{className:`
                  relative rounded-lg border-2 cursor-pointer transition-all duration-200
                  ${s===c?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}
                  ${r?"opacity-50 cursor-not-allowed":""}
                `,onClick:()=>!r&&n(c),children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
                        w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                        ${s===c?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}
                      `,children:u.symbol}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:u.code}),e.jsx("div",{className:"text-sm text-gray-500",children:u.name})]})]}),s===c&&e.jsx("div",{className:"text-blue-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})})},c))})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Preview"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Standard format:"}),e.jsx("span",{className:"font-medium text-gray-900",children:fe(l,s)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Compact format:"}),e.jsx("span",{className:"font-medium text-gray-900",children:fe(l,s,{compact:!0})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Symbol only:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[Lo(s),l.toFixed(2)]})]})]})]})}),r&&e.jsxs("div",{className:"flex items-center justify-center py-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Updating currency..."})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-blue-500 mt-0.5",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-blue-900",children:"Currency Information"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Your currency preference is saved locally and will be remembered across sessions. All amounts throughout the application will be displayed in your selected currency."})]})]})})]})};function bd(){const[t,s]=p.useState("currency"),a=[{id:"currency",name:"Currency",icon:""},{id:"general",name:"General",icon:""},{id:"notifications",name:"Notifications",icon:""},{id:"security",name:"Security",icon:""}],r=i=>{console.log("Currency changed to:",i)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure system-wide settings and preferences."})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:a.map(i=>e.jsxs("button",{onClick:()=>s(i.id),className:`
                  whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2
                  ${t===i.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[e.jsx("span",{children:i.icon}),e.jsx("span",{children:i.name})]},i.id))})}),e.jsxs("div",{className:"p-6",children:[t==="currency"&&e.jsx(vd,{onCurrencyChange:r}),t==="general"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"General Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),e.jsx("input",{type:"text",defaultValue:"SalesSync",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"Africa/Johannesburg",selected:!0,children:"Africa/Johannesburg (SAST)"}),e.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"}),e.jsx("option",{value:"Europe/London",children:"Europe/London (GMT)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"DD/MM/YYYY",selected:!0,children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})}),t==="notifications"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive push notifications in browser"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via SMS"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})}),t==="security"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",defaultValue:"30",min:"5",max:"480",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for all users"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Password Complexity"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enforce strong password requirements"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save Changes"})})]})]})}function Nd(){return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Logs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Audit Logs functionality coming soon."})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Audit Logs"}),e.jsx("p",{className:"text-gray-600",children:"This feature is under development."})]})})]})}function ps({children:t,requiredRole:s,requiredPermission:a,fallback:r}){const{isAuthenticated:i,user:n}=qe(),l=Ni();return!i||!n?e.jsx(Gt,{to:"/auth/login",state:{from:l},replace:!0}):s&&!en(s)?r?e.jsx(e.Fragment,{children:r}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Go Back"})]})}):a&&!cr(a)?r?e.jsx(e.Fragment,{children:r}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Insufficient Permissions"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have the required permissions to access this feature."}),e.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Go Back"})]})}):e.jsx(e.Fragment,{children:t})}function wd(){const{isAuthenticated:t,isLoading:s,initialize:a}=qe();return p.useEffect(()=>{a()},[a]),s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx(gt,{size:"lg"})}):e.jsx(lo,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs(Ln,{children:[e.jsxs(H,{path:"/auth/*",element:t?e.jsx(Gt,{to:"/dashboard",replace:!0}):e.jsx(so,{}),children:[e.jsx(H,{path:"login",element:e.jsx(Fo,{})}),e.jsx(H,{path:"forgot-password",element:e.jsx(Mo,{})}),e.jsx(H,{path:"reset-password",element:e.jsx(Oo,{})}),e.jsx(H,{index:!0,element:e.jsx(Gt,{to:"login",replace:!0})})]}),e.jsxs(H,{path:"/*",element:e.jsx(ps,{children:e.jsx(no,{})}),children:[e.jsx(H,{path:"dashboard",element:e.jsx(Bo,{})}),e.jsx(H,{path:"analytics",element:e.jsx(qo,{})}),e.jsx(H,{path:"van-sales",element:e.jsx(Wo,{})}),e.jsx(H,{path:"van-sales/routes",element:e.jsx(Qo,{})}),e.jsx(H,{path:"van-sales/inventory",element:e.jsx(zo,{})}),e.jsx(H,{path:"trade-marketing",element:e.jsx(Ho,{})}),e.jsx(H,{path:"campaigns",element:e.jsx(Go,{})}),e.jsx(H,{path:"field-agents",element:e.jsx(td,{})}),e.jsx(H,{path:"field-agents/mapping",element:e.jsx(sd,{})}),e.jsx(H,{path:"field-agents/boards",element:e.jsx(ad,{})}),e.jsx(H,{path:"field-agents/products",element:e.jsx(rd,{})}),e.jsx(H,{path:"field-agents/commission",element:e.jsx(id,{})}),e.jsx(H,{path:"customers",element:e.jsx(od,{})}),e.jsx(H,{path:"customers/:id",element:e.jsx(dd,{})}),e.jsx(H,{path:"orders",element:e.jsx(xd,{})}),e.jsx(H,{path:"orders/:id",element:e.jsx(hd,{})}),e.jsx(H,{path:"products",element:e.jsx(pd,{})}),e.jsx(H,{path:"products/:id",element:e.jsx(gd,{})}),e.jsx(H,{path:"admin",element:e.jsx(ps,{requiredRole:"admin",children:e.jsx(yd,{})})}),e.jsx(H,{path:"admin/users",element:e.jsx(ps,{requiredRole:"admin",children:e.jsx(jd,{})})}),e.jsx(H,{path:"admin/settings",element:e.jsx(ps,{requiredRole:"admin",children:e.jsx(bd,{})})}),e.jsx(H,{path:"admin/audit",element:e.jsx(ps,{requiredRole:"admin",children:e.jsx(Nd,{})})}),e.jsx(H,{index:!0,element:e.jsx(Gt,{to:"dashboard",replace:!0})})]}),e.jsx(H,{path:"*",element:t?e.jsx(Gt,{to:"/dashboard",replace:!0}):e.jsx(Gt,{to:"/auth/login",replace:!0})})]})})})}const Sd=new xl({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:(t,s)=>{var a,r;return((a=s==null?void 0:s.response)==null?void 0:a.status)>=400&&((r=s==null?void 0:s.response)==null?void 0:r.status)<500?!1:t<3}},mutations:{retry:1}}});_a.createRoot(document.getElementById("root")).render(e.jsx(le.StrictMode,{children:e.jsxs(hl,{client:Sd,children:[e.jsxs(Vn,{children:[e.jsx(wd,{}),e.jsx(gc,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]}),e.jsx(El,{initialIsOpen:!1})]})}));
//# sourceMappingURL=index-D-LkIFaE.js.map
