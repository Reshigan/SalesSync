{"version":3,"mappings":"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","names":["m","require$$0","client","Subscribable","listener","defaultTimeoutProvider","callback","delay","timeoutId","intervalId","TimeoutManager","_a","__privateAdd","_provider","_providerCalled","provider","__privateSet","__privateGet","timeoutManager","systemSetTimeoutZero","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","resolveStaleTime","query","resolveEnabled","enabled","matchQuery","filters","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","status","mutationKey","hashKey","options","_","val","isPlainObject","result","key","a","b","hasOwn","replaceEqualDeep","array","isPlainArray","aSize","bItems","bSize","copy","equalItems","i","aItem","bItem","v","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","replaceData","prevData","data","addToEnd","items","item","max","newItems","addToStart","skipToken","ensureQueryFn","fetchOptions","FocusManager","_focused","_cleanup","_setup","onFocus","setup","focused","isFocused","focusManager","pendingThenable","reject","thenable","_resolve","_reject","finalize","reason","defaultScheduler","createNotifyManager","queue","transactions","notifyFn","batchNotifyFn","scheduleFn","schedule","flush","originalQueue","args","fn","notifyManager","OnlineManager","_online","onOnline","onlineListener","offlineListener","online","onlineManager","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","createRetryer","config","isRetryCancelled","continueFn","isResolved","cancel","cancelOptions","error","cancelRetry","continueRetry","canContinue","canStart","pause","continueResolve","run","promiseOrValue","initialPromise","retry","retryDelay","shouldRetry","Removable","_gcTimeout","newGcTime","Query","_Query_instances","_initialState","_revertState","_cache","_client","_retryer","_defaultOptions","_abortSignalConsumed","getDefaultState","defaultState","newData","__privateMethod","dispatch_fn","state","setStateOptions","promise","_b","observer","x","abortController","addSignalProperty","object","fetchFn","queryFn","queryFnContext","queryFnContext2","context","context2","_c","_d","_f","_e","_h","_g","_j","_i","_l","_k","action","reducer","fetchState","newState","hasData","initialDataUpdatedAt","infiniteQueryBehavior","pages","direction","oldPages","oldPageParams","currentPage","cancelled","fetchPage","param","previous","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","pageParams","lastIndex","Mutation","_Mutation_instances","_observers","_mutationCache","variables","onContinue","mutationFnContext","restored","isPaused","_n","_m","_p","_o","_r","_q","_t","_s","MutationCache","_mutations","_scopes","_mutationId","__privateWrapper","scope","scopeFor","scopedMutations","index","mutationsWithSameScope","firstPendingMutation","foundMutation","defaultedFilters","event","pausedMutations","QueryCache","_queries","queryHash","queryInMap","queries","QueryClient","_queryCache","_queryDefaults","_mutationDefaults","_mountCount","_unsubscribeFocus","_unsubscribeOnline","defaultedOptions","cachedData","queryCache","defaultedCancelOptions","promises","defaults","queryDefault","QueryClientContext","React.createContext","QueryClientProvider","children","React.useEffect","jsx","ReactQueryDevtools2","e","t","l","n","c","s","p","u","d","r","f","g","h","w","Z","W","E","re","k","H","j","Y","Q","S","se","V","te","oe","ee","T","ie","P","ce","ne","A","X","R","z","O","K","B","I","de","M","me","le","C","pe","Te","fe","F","ue","ge","q","he","L","ye","be","U","Se","Ae","xe","Pe","$","b.createElement","Re","Ee","ve","De","Oe","J","Ie","ke","G","N","y.memo","y.createElement","y.Fragment","Ve","x.createElement","we","x.useCallback","Me","Ce","D","Fe","zt","createStoreImpl","createState","listeners","setState","partial","replace","nextState","previousState","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","y","objectIs","useState","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","createJSONStorage","getStorage","storage","name","parse","str2","str","newValue","toThenable","onFulfilled","_onRejected","_onFulfilled","onRejected","oldImpl","baseOptions","set","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","thenableSerialize","setItem","errorInSync","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","storageValue","deserializedStorageValue","migratedState","_a2","newOptions","newImpl","migrationResult","migrated","persistImpl","persist","API_BASE_URL","API_TIMEOUT","apiClient","axios","token","getAuthToken","response","originalRequest","useAuthStore","__vitePreload","auth_store","errorMessage","errorCode","AuthService","credentials","refreshToken","authService","scheduleTokenRefresh","clearTokenRefreshTimer","tokens","user","now","tokenExp","parseJWT","expiresIn","userData","refreshTimer","refreshTime","base64","jsonPayload","getCurrentUser","hasRole","role","hasPermission","permission","AuthLayout","jsxs","Outlet","PERMISSIONS","navigation","LayoutDashboard","BarChart3","UserCheck","Building2","ShoppingCart","Package","Settings","Sidebar","isNavItemVisible","NavLink","child","Header","onMenuClick","logout","showUserMenu","setShowUserMenu","showNotifications","setShowNotifications","handleLogout","Menu","Search","Bell","User","LogOut","DashboardLayout","sidebarOpen","setSidebarOpen","isCheckBoxInput","element","isDateObject","isNullOrUndefined","isObjectType","isObject","getEventValue","getNodeParentName","isNameInFieldArray","names","tempObject","prototypeCopy","isWeb","cloneObject","isArray","isFileListInstance","isKey","isUndefined","compact","stringToPath","path","defaultValue","isBoolean","tempPath","length","objValue","EVENTS","VALIDATION_MODE","INPUT_VALIDATION_RULES","HookFormContext","getProxyFormState","formState","control","localProxyFormState","isRoot","_key","useIsomorphicLayoutEffect","isString","generateWatchOutput","_names","formValues","isGlobal","fieldName","isPrimitive","deepEqual","object1","object2","_internal_visited","keys1","keys2","val1","val2","appendErrors","validateAllFieldCriteria","errors","message","convertToArrayPayload","createSubject","extractFormValues","fieldsState","values","fieldState","fieldValue","nestedFieldsState","isEmptyObject","isFileInput","isFunction","isHTMLElement","owner","isMultipleSelect","isRadioInput","isRadioOrCheckbox","ref","live","baseGet","updatePath","isEmptyArray","obj","unset","paths","childObject","objectHasFunction","isTraversable","markFieldsDirty","fields","getDirtyFields","dirtyFieldsFromValues","defaultResult","validResult","getCheckboxValue","option","getFieldValueAs","valueAsNumber","valueAsDate","setValueAs","defaultReturn","getRadioValue","getFieldValue","getResolverOptions","fieldsNames","_fields","criteriaMode","shouldUseNativeValidation","field","isRegex","getRuleValue","rule","getValidationModes","mode","ASYNC_FUNCTION","hasPromiseValidation","fieldReference","validateFunction","hasValidation","isWatched","isBlurEvent","watchName","iterateFieldsByAction","abortEarly","currentField","schemaErrorLookup","foundError","shouldRenderFormState","formStateData","_proxyFormState","updateFormState","shouldSubscribeByName","signalName","currentName","skipValidation","isTouched","isSubmitted","reValidateMode","unsetEmptyArray","updateFieldArrayRootError","fieldArrayErrors","getValidateError","getValueAndMessage","validationData","validateField","disabledFieldNames","isFieldArray","refs","required","maxLength","minLength","min","pattern","validate","mount","inputValue","inputRef","setCustomValidity","isRadio","isCheckBox","isEmpty","appendErrorsCurry","getMinMaxMessage","exceedMax","maxLengthMessage","minLengthMessage","maxType","minType","exceedMin","maxOutput","minOutput","valueNumber","valueDate","convertTimeToDate","time","isTime","isWeek","maxLengthOutput","minLengthOutput","patternValue","validateError","validationResult","defaultOptions","createFormControl","props","_options","_formState","_defaultValues","_formValues","_state","delayErrorCallback","timer","_proxySubscribeFormState","_subjects","shouldDisplayAllAssociatedErrors","debounce","wait","_setValid","shouldUpdateValid","isValid","_runSchema","executeBuiltInValidation","_updateIsValidating","isValidating","_setFieldArray","method","shouldSetValues","shouldUpdateFieldsAndState","fieldValues","touchedFields","_getDirty","updateErrors","_setErrors","updateValidAndValue","shouldSkipSetValueAs","setFieldValue","updateTouchAndDirty","shouldDirty","shouldRender","shouldUpdateField","isPreviousDirty","output","isCurrentFieldPristine","isPreviousFieldTouched","shouldRenderByError","previousFieldError","updatedFormState","executeSchemaAndUpdateState","shouldOnlyCheckValid","isFieldArrayRoot","isPromiseFunction","fieldError","_removeUnmounted","unregister","getValues","_getWatch","_getFieldArray","optionRef","checkboxRef","radioRef","trigger","setValues","fieldKey","setValue","cloneValue","onChange","target","isFieldValueUpdated","_updateIsFieldValueUpdated","validationModeBeforeSubmit","validationModeAfterSubmit","shouldSkipValidation","watched","previousErrorLookupResult","errorLookupResult","_focusInput","fieldNames","getFieldState","clearErrors","inputName","setError","currentError","currentRef","restOfErrorTree","watch","payload","_subscribe","_setFormState","_setDisabledField","disabled","register","disabledIsDefined","fieldRef","radioOrCheckbox","_focusError","_disableForm","handleSubmit","onValid","onInvalid","onValidError","resetField","_reset","keepStateOptions","updatedValues","cloneUpdatedValues","isEmptyResetValues","fieldsToCheck","form","reset","setFocus","methods","useForm","_formControl","_values","formControl","rest","sub","isDirty","cn","inputs","twMerge","clsx","sizeClasses","colorClasses","LoadingSpinner","size","className","color","LoginPage","showPassword","setShowPassword","login","isLoading","clearError","navigate","useNavigate","from","useLocation","onSubmit","toast","Mail","Lock","EyeOff","Eye","Link","Fragment","ForgotPasswordPage","setIsLoading","setIsSubmitted","ArrowLeft","ResetPasswordPage","showConfirmPassword","setShowConfirmPassword","searchParams","useSearchParams","password","mockStats","mockRecentActivities","mockTopPerformers","DashboardPage","StatCard","title","Icon","change","Users","Activity","MapPin","DollarSign","TrendingUp","activity","Clock","CheckCircle","performer","AnalyticsPage","LineChart","xKey","yKeys","height","ResponsiveContainer","RechartsLineChart","CartesianGrid","XAxis","YAxis","Tooltip","Legend","yKey","Line","BarChart","RechartsBarChart","Bar","PieChart","RechartsPieChart","Pie","percent","entry","Cell","DataTable","columns","searchable","exportable","pagination","pageSize","searchTerm","setSearchTerm","sortConfig","setSortConfig","setCurrentPage","setFilters","filteredData","filtered","row","sortedData","aValue","bValue","paginatedData","startIndex","totalPages","handleSort","current","handleExport","csv","col","blob","url","Download","column","ChevronUp","ChevronDown","Filter","prev","mockAgentStats","mockPerformanceData","mockAgentData","mockActivityData","FieldAgentsPage","selectedTimeRange","setSelectedTimeRange","selectedAgent","setSelectedAgent","agentColumns","Edit","MoreHorizontal","LiveMappingPage","agents","setAgents","visits","setVisits","loading","setLoading","statusFilter","setStatusFilter","refreshing","setRefreshing","loadAgentsData","interval","updateAgentLocations","mockAgents","mockVisits","err","prevAgents","agent","refreshData","getStatusColor","getVisitStatusColor","formatCurrency","amount","formatTime","timestamp","filteredAgents","matchesSearch","matchesStatus","AlertTriangle","RefreshCw","Battery","Target","Phone","MessageSquare","Route","Signal","visit","Calendar","XCircle","BoardPlacementPage","placements","setPlacements","campaigns","setCampaigns","selectedPlacement","setSelectedPlacement","campaignFilter","setCampaignFilter","setShowAddModal","loadPlacementsData","mockCampaigns","mockPlacements","getBoardTypeColor","formatDate","dateString","filteredPlacements","placement","matchesCampaign","Plus","campaign","Trash2","ImageIcon","ProductDistributionPage","CommissionTrackingPage","CustomersPage","CustomerDetailsPage","OrdersPage","OrderDetailsPage","ProductsPage","ProductDetailsPage","AdminPage","UserManagementPage","SystemSettingsPage","AuditLogsPage","ErrorBoundary","Component","__publicField","errorInfo","ProtectedRoute","requiredRole","requiredPermission","fallback","isAuthenticated","location","Navigate","App","initialize","Routes","queryClient","ReactDOM","BrowserRouter","Toaster","ReactQueryDevtools"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,35],"sources":["../../node_modules/react-dom/client.js","../../node_modules/@tanstack/query-core/build/modern/subscribable.js","../../node_modules/@tanstack/query-core/build/modern/timeoutManager.js","../../node_modules/@tanstack/query-core/build/modern/utils.js","../../node_modules/@tanstack/query-core/build/modern/focusManager.js","../../node_modules/@tanstack/query-core/build/modern/thenable.js","../../node_modules/@tanstack/query-core/build/modern/notifyManager.js","../../node_modules/@tanstack/query-core/build/modern/onlineManager.js","../../node_modules/@tanstack/query-core/build/modern/retryer.js","../../node_modules/@tanstack/query-core/build/modern/removable.js","../../node_modules/@tanstack/query-core/build/modern/query.js","../../node_modules/@tanstack/query-core/build/modern/infiniteQueryBehavior.js","../../node_modules/@tanstack/query-core/build/modern/mutation.js","../../node_modules/@tanstack/query-core/build/modern/mutationCache.js","../../node_modules/@tanstack/query-core/build/modern/queryCache.js","../../node_modules/@tanstack/query-core/build/modern/queryClient.js","../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js","../../node_modules/@tanstack/react-query-devtools/build/modern/index.js","../../node_modules/goober/dist/goober.modern.js","../../node_modules/react-hot-toast/dist/index.mjs","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/services/api.service.ts","../../src/services/auth.service.ts","../../src/store/auth.store.ts","../../src/components/layout/AuthLayout.tsx","../../src/types/auth.types.ts","../../src/components/layout/Sidebar.tsx","../../src/components/layout/Header.tsx","../../src/components/layout/DashboardLayout.tsx","../../node_modules/react-hook-form/dist/index.esm.mjs","../../src/utils/cn.ts","../../src/components/ui/LoadingSpinner.tsx","../../src/pages/auth/LoginPage.tsx","../../src/pages/auth/ForgotPasswordPage.tsx","../../src/pages/auth/ResetPasswordPage.tsx","../../src/pages/dashboard/DashboardPage.tsx","../../src/pages/dashboard/AnalyticsPage.tsx","../../src/components/charts/LineChart.tsx","../../src/components/charts/BarChart.tsx","../../src/components/charts/PieChart.tsx","../../src/components/ui/tables/DataTable.tsx","../../src/pages/field-agents/FieldAgentsPage.tsx","../../src/pages/field-agents/LiveMappingPage.tsx","../../src/pages/field-agents/BoardPlacementPage.tsx","../../src/pages/field-agents/ProductDistributionPage.tsx","../../src/pages/field-agents/CommissionTrackingPage.tsx","../../src/pages/customers/CustomersPage.tsx","../../src/pages/customers/CustomerDetailsPage.tsx","../../src/pages/orders/OrdersPage.tsx","../../src/pages/orders/OrderDetailsPage.tsx","../../src/pages/products/ProductsPage.tsx","../../src/pages/products/ProductDetailsPage.tsx","../../src/pages/admin/AdminPage.tsx","../../src/pages/admin/UserManagementPage.tsx","../../src/pages/admin/SystemSettingsPage.tsx","../../src/pages/admin/AuditLogsPage.tsx","../../src/components/ui/ErrorBoundary.tsx","../../src/components/auth/ProtectedRoute.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// src/subscribable.ts\nvar Subscribable = class {\n  constructor() {\n    this.listeners = /* @__PURE__ */ new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n  subscribe(listener) {\n    this.listeners.add(listener);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(listener);\n      this.onUnsubscribe();\n    };\n  }\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n  onSubscribe() {\n  }\n  onUnsubscribe() {\n  }\n};\nexport {\n  Subscribable\n};\n//# sourceMappingURL=subscribable.js.map","// src/timeoutManager.ts\nvar defaultTimeoutProvider = {\n  // We need the wrapper function syntax below instead of direct references to\n  // global setTimeout etc.\n  //\n  // BAD: `setTimeout: setTimeout`\n  // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n  //\n  // If we use direct references here, then anything that wants to spy on or\n  // replace the global setTimeout (like tests) won't work since we'll already\n  // have a hard reference to the original implementation at the time when this\n  // file was imported.\n  setTimeout: (callback, delay) => setTimeout(callback, delay),\n  clearTimeout: (timeoutId) => clearTimeout(timeoutId),\n  setInterval: (callback, delay) => setInterval(callback, delay),\n  clearInterval: (intervalId) => clearInterval(intervalId)\n};\nvar TimeoutManager = class {\n  // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n  // type at app boot; and if we leave that type, then any new timer provider\n  // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n  //\n  // We settle for type safety for the TimeoutProvider type, and accept that\n  // this class is unsafe internally to allow for extension.\n  #provider = defaultTimeoutProvider;\n  #providerCalled = false;\n  setTimeoutProvider(provider) {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (this.#providerCalled && provider !== this.#provider) {\n        console.error(\n          `[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`,\n          { previous: this.#provider, provider }\n        );\n      }\n    }\n    this.#provider = provider;\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = false;\n    }\n  }\n  setTimeout(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setTimeout(callback, delay);\n  }\n  clearTimeout(timeoutId) {\n    this.#provider.clearTimeout(timeoutId);\n  }\n  setInterval(callback, delay) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.#providerCalled = true;\n    }\n    return this.#provider.setInterval(callback, delay);\n  }\n  clearInterval(intervalId) {\n    this.#provider.clearInterval(intervalId);\n  }\n};\nvar timeoutManager = new TimeoutManager();\nfunction systemSetTimeoutZero(callback) {\n  setTimeout(callback, 0);\n}\nexport {\n  TimeoutManager,\n  defaultTimeoutProvider,\n  systemSetTimeoutZero,\n  timeoutManager\n};\n//# sourceMappingURL=timeoutManager.js.map","// src/utils.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nvar isServer = typeof window === \"undefined\" || \"Deno\" in globalThis;\nfunction noop() {\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === \"function\" ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === \"number\" && value >= 0 && value !== Infinity;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction resolveStaleTime(staleTime, query) {\n  return typeof staleTime === \"function\" ? staleTime(query) : staleTime;\n}\nfunction resolveEnabled(enabled, query) {\n  return typeof enabled === \"function\" ? enabled(query) : enabled;\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = \"all\",\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n  if (queryKey) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n  if (type !== \"all\") {\n    const isActive = query.isActive();\n    if (type === \"active\" && !isActive) {\n      return false;\n    }\n    if (type === \"inactive\" && isActive) {\n      return false;\n    }\n  }\n  if (typeof stale === \"boolean\" && query.isStale() !== stale) {\n    return false;\n  }\n  if (fetchStatus && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const { exact, status, predicate, mutationKey } = filters;\n  if (mutationKey) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n    if (exact) {\n      if (hashKey(mutation.options.mutationKey) !== hashKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n  if (status && mutation.state.status !== status) {\n    return false;\n  }\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = options?.queryKeyHashFn || hashKey;\n  return hashFn(queryKey);\n}\nfunction hashKey(queryKey) {\n  return JSON.stringify(\n    queryKey,\n    (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n      result[key] = val[key];\n      return result;\n    }, {}) : val\n  );\n}\nfunction partialMatchKey(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (a && b && typeof a === \"object\" && typeof b === \"object\") {\n    return Object.keys(b).every((key) => partialMatchKey(a[key], b[key]));\n  }\n  return false;\n}\nvar hasOwn = Object.prototype.hasOwnProperty;\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n  const array = isPlainArray(a) && isPlainArray(b);\n  if (!array && !(isPlainObject(a) && isPlainObject(b))) return b;\n  const aItems = array ? a : Object.keys(a);\n  const aSize = aItems.length;\n  const bItems = array ? b : Object.keys(b);\n  const bSize = bItems.length;\n  const copy = array ? new Array(bSize) : {};\n  let equalItems = 0;\n  for (let i = 0; i < bSize; i++) {\n    const key = array ? i : bItems[i];\n    const aItem = a[key];\n    const bItem = b[key];\n    if (aItem === bItem) {\n      copy[key] = aItem;\n      if (array ? i < aSize : hasOwn.call(a, key)) equalItems++;\n      continue;\n    }\n    if (aItem === null || bItem === null || typeof aItem !== \"object\" || typeof bItem !== \"object\") {\n      copy[key] = bItem;\n      continue;\n    }\n    const v = replaceEqualDeep(aItem, bItem);\n    copy[key] = v;\n    if (v === aItem) equalItems++;\n  }\n  return aSize === bSize && equalItems === aSize ? a : copy;\n}\nfunction shallowEqualObjects(a, b) {\n  if (!b || Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n}\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  }\n  const ctor = o.constructor;\n  if (ctor === void 0) {\n    return true;\n  }\n  const prot = ctor.prototype;\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  }\n  if (!prot.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n  if (Object.getPrototypeOf(o) !== Object.prototype) {\n    return false;\n  }\n  return true;\n}\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === \"[object Object]\";\n}\nfunction sleep(timeout) {\n  return new Promise((resolve) => {\n    timeoutManager.setTimeout(resolve, timeout);\n  });\n}\nfunction replaceData(prevData, data, options) {\n  if (typeof options.structuralSharing === \"function\") {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    if (process.env.NODE_ENV !== \"production\") {\n      try {\n        return replaceEqualDeep(prevData, data);\n      } catch (error) {\n        console.error(\n          `Structural sharing requires data to be JSON serializable. To fix this, turn off structuralSharing or return JSON-serializable data from your queryFn. [${options.queryHash}]: ${error}`\n        );\n        throw error;\n      }\n    }\n    return replaceEqualDeep(prevData, data);\n  }\n  return data;\n}\nfunction keepPreviousData(previousData) {\n  return previousData;\n}\nfunction addToEnd(items, item, max = 0) {\n  const newItems = [...items, item];\n  return max && newItems.length > max ? newItems.slice(1) : newItems;\n}\nfunction addToStart(items, item, max = 0) {\n  const newItems = [item, ...items];\n  return max && newItems.length > max ? newItems.slice(0, -1) : newItems;\n}\nvar skipToken = Symbol();\nfunction ensureQueryFn(options, fetchOptions) {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (options.queryFn === skipToken) {\n      console.error(\n        `Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${options.queryHash}'`\n      );\n    }\n  }\n  if (!options.queryFn && fetchOptions?.initialPromise) {\n    return () => fetchOptions.initialPromise;\n  }\n  if (!options.queryFn || options.queryFn === skipToken) {\n    return () => Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`));\n  }\n  return options.queryFn;\n}\nfunction shouldThrowError(throwOnError, params) {\n  if (typeof throwOnError === \"function\") {\n    return throwOnError(...params);\n  }\n  return !!throwOnError;\n}\nexport {\n  addToEnd,\n  addToStart,\n  ensureQueryFn,\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  isPlainArray,\n  isPlainObject,\n  isServer,\n  isValidTimeout,\n  keepPreviousData,\n  matchMutation,\n  matchQuery,\n  noop,\n  partialMatchKey,\n  replaceData,\n  replaceEqualDeep,\n  resolveEnabled,\n  resolveStaleTime,\n  shallowEqualObjects,\n  shouldThrowError,\n  skipToken,\n  sleep,\n  timeUntilStale\n};\n//# sourceMappingURL=utils.js.map","// src/focusManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar FocusManager = class extends Subscribable {\n  #focused;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onFocus) => {\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus();\n        window.addEventListener(\"visibilitychange\", listener, false);\n        return () => {\n          window.removeEventListener(\"visibilitychange\", listener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup((focused) => {\n      if (typeof focused === \"boolean\") {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n  setFocused(focused) {\n    const changed = this.#focused !== focused;\n    if (changed) {\n      this.#focused = focused;\n      this.onFocus();\n    }\n  }\n  onFocus() {\n    const isFocused = this.isFocused();\n    this.listeners.forEach((listener) => {\n      listener(isFocused);\n    });\n  }\n  isFocused() {\n    if (typeof this.#focused === \"boolean\") {\n      return this.#focused;\n    }\n    return globalThis.document?.visibilityState !== \"hidden\";\n  }\n};\nvar focusManager = new FocusManager();\nexport {\n  FocusManager,\n  focusManager\n};\n//# sourceMappingURL=focusManager.js.map","// src/thenable.ts\nimport { noop } from \"./utils.js\";\nfunction pendingThenable() {\n  let resolve;\n  let reject;\n  const thenable = new Promise((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  thenable.status = \"pending\";\n  thenable.catch(() => {\n  });\n  function finalize(data) {\n    Object.assign(thenable, data);\n    delete thenable.resolve;\n    delete thenable.reject;\n  }\n  thenable.resolve = (value) => {\n    finalize({\n      status: \"fulfilled\",\n      value\n    });\n    resolve(value);\n  };\n  thenable.reject = (reason) => {\n    finalize({\n      status: \"rejected\",\n      reason\n    });\n    reject(reason);\n  };\n  return thenable;\n}\nfunction tryResolveSync(promise) {\n  let data;\n  promise.then((result) => {\n    data = result;\n    return result;\n  }, noop)?.catch(noop);\n  if (data !== void 0) {\n    return { data };\n  }\n  return void 0;\n}\nexport {\n  pendingThenable,\n  tryResolveSync\n};\n//# sourceMappingURL=thenable.js.map","// src/notifyManager.ts\nimport { systemSetTimeoutZero } from \"./timeoutManager.js\";\nvar defaultScheduler = systemSetTimeoutZero;\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n  let notifyFn = (callback) => {\n    callback();\n  };\n  let batchNotifyFn = (callback) => {\n    callback();\n  };\n  let scheduleFn = defaultScheduler;\n  const schedule = (callback) => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleFn(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n    if (originalQueue.length) {\n      scheduleFn(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  return {\n    batch: (callback) => {\n      let result;\n      transactions++;\n      try {\n        result = callback();\n      } finally {\n        transactions--;\n        if (!transactions) {\n          flush();\n        }\n      }\n      return result;\n    },\n    /**\n     * All calls to the wrapped function will be batched.\n     */\n    batchCalls: (callback) => {\n      return (...args) => {\n        schedule(() => {\n          callback(...args);\n        });\n      };\n    },\n    schedule,\n    /**\n     * Use this method to set a custom notify function.\n     * This can be used to for example wrap notifications with `React.act` while running tests.\n     */\n    setNotifyFunction: (fn) => {\n      notifyFn = fn;\n    },\n    /**\n     * Use this method to set a custom function to batch notifications together into a single tick.\n     * By default React Query will use the batch function provided by ReactDOM or React Native.\n     */\n    setBatchNotifyFunction: (fn) => {\n      batchNotifyFn = fn;\n    },\n    setScheduler: (fn) => {\n      scheduleFn = fn;\n    }\n  };\n}\nvar notifyManager = createNotifyManager();\nexport {\n  createNotifyManager,\n  defaultScheduler,\n  notifyManager\n};\n//# sourceMappingURL=notifyManager.js.map","// src/onlineManager.ts\nimport { Subscribable } from \"./subscribable.js\";\nimport { isServer } from \"./utils.js\";\nvar OnlineManager = class extends Subscribable {\n  #online = true;\n  #cleanup;\n  #setup;\n  constructor() {\n    super();\n    this.#setup = (onOnline) => {\n      if (!isServer && window.addEventListener) {\n        const onlineListener = () => onOnline(true);\n        const offlineListener = () => onOnline(false);\n        window.addEventListener(\"online\", onlineListener, false);\n        window.addEventListener(\"offline\", offlineListener, false);\n        return () => {\n          window.removeEventListener(\"online\", onlineListener);\n          window.removeEventListener(\"offline\", offlineListener);\n        };\n      }\n      return;\n    };\n  }\n  onSubscribe() {\n    if (!this.#cleanup) {\n      this.setEventListener(this.#setup);\n    }\n  }\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.#cleanup?.();\n      this.#cleanup = void 0;\n    }\n  }\n  setEventListener(setup) {\n    this.#setup = setup;\n    this.#cleanup?.();\n    this.#cleanup = setup(this.setOnline.bind(this));\n  }\n  setOnline(online) {\n    const changed = this.#online !== online;\n    if (changed) {\n      this.#online = online;\n      this.listeners.forEach((listener) => {\n        listener(online);\n      });\n    }\n  }\n  isOnline() {\n    return this.#online;\n  }\n};\nvar onlineManager = new OnlineManager();\nexport {\n  OnlineManager,\n  onlineManager\n};\n//# sourceMappingURL=onlineManager.js.map","// src/retryer.ts\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { pendingThenable } from \"./thenable.js\";\nimport { isServer, sleep } from \"./utils.js\";\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1e3 * 2 ** failureCount, 3e4);\n}\nfunction canFetch(networkMode) {\n  return (networkMode ?? \"online\") === \"online\" ? onlineManager.isOnline() : true;\n}\nvar CancelledError = class extends Error {\n  constructor(options) {\n    super(\"CancelledError\");\n    this.revert = options?.revert;\n    this.silent = options?.silent;\n  }\n};\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let continueFn;\n  const thenable = pendingThenable();\n  const isResolved = () => thenable.status !== \"pending\";\n  const cancel = (cancelOptions) => {\n    if (!isResolved()) {\n      const error = new CancelledError(cancelOptions);\n      reject(error);\n      config.onCancel?.(error);\n    }\n  };\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n  const canContinue = () => focusManager.isFocused() && (config.networkMode === \"always\" || onlineManager.isOnline()) && config.canRun();\n  const canStart = () => canFetch(config.networkMode) && config.canRun();\n  const resolve = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.resolve(value);\n    }\n  };\n  const reject = (value) => {\n    if (!isResolved()) {\n      continueFn?.();\n      thenable.reject(value);\n    }\n  };\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        if (isResolved() || canContinue()) {\n          continueResolve(value);\n        }\n      };\n      config.onPause?.();\n    }).then(() => {\n      continueFn = void 0;\n      if (!isResolved()) {\n        config.onContinue?.();\n      }\n    });\n  };\n  const run = () => {\n    if (isResolved()) {\n      return;\n    }\n    let promiseOrValue;\n    const initialPromise = failureCount === 0 ? config.initialPromise : void 0;\n    try {\n      promiseOrValue = initialPromise ?? config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n    Promise.resolve(promiseOrValue).then(resolve).catch((error) => {\n      if (isResolved()) {\n        return;\n      }\n      const retry = config.retry ?? (isServer ? 0 : 3);\n      const retryDelay = config.retryDelay ?? defaultRetryDelay;\n      const delay = typeof retryDelay === \"function\" ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === \"number\" && failureCount < retry || typeof retry === \"function\" && retry(failureCount, error);\n      if (isRetryCancelled || !shouldRetry) {\n        reject(error);\n        return;\n      }\n      failureCount++;\n      config.onFail?.(failureCount, error);\n      sleep(delay).then(() => {\n        return canContinue() ? void 0 : pause();\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  };\n  return {\n    promise: thenable,\n    status: () => thenable.status,\n    cancel,\n    continue: () => {\n      continueFn?.();\n      return thenable;\n    },\n    cancelRetry,\n    continueRetry,\n    canStart,\n    start: () => {\n      if (canStart()) {\n        run();\n      } else {\n        pause().then(run);\n      }\n      return thenable;\n    }\n  };\n}\nexport {\n  CancelledError,\n  canFetch,\n  createRetryer,\n  isCancelledError\n};\n//# sourceMappingURL=retryer.js.map","// src/removable.ts\nimport { timeoutManager } from \"./timeoutManager.js\";\nimport { isServer, isValidTimeout } from \"./utils.js\";\nvar Removable = class {\n  #gcTimeout;\n  destroy() {\n    this.clearGcTimeout();\n  }\n  scheduleGc() {\n    this.clearGcTimeout();\n    if (isValidTimeout(this.gcTime)) {\n      this.#gcTimeout = timeoutManager.setTimeout(() => {\n        this.optionalRemove();\n      }, this.gcTime);\n    }\n  }\n  updateGcTime(newGcTime) {\n    this.gcTime = Math.max(\n      this.gcTime || 0,\n      newGcTime ?? (isServer ? Infinity : 5 * 60 * 1e3)\n    );\n  }\n  clearGcTimeout() {\n    if (this.#gcTimeout) {\n      timeoutManager.clearTimeout(this.#gcTimeout);\n      this.#gcTimeout = void 0;\n    }\n  }\n};\nexport {\n  Removable\n};\n//# sourceMappingURL=removable.js.map","// src/query.ts\nimport {\n  ensureQueryFn,\n  noop,\n  replaceData,\n  resolveEnabled,\n  resolveStaleTime,\n  skipToken,\n  timeUntilStale\n} from \"./utils.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { CancelledError, canFetch, createRetryer } from \"./retryer.js\";\nimport { Removable } from \"./removable.js\";\nvar Query = class extends Removable {\n  #initialState;\n  #revertState;\n  #cache;\n  #client;\n  #retryer;\n  #defaultOptions;\n  #abortSignalConsumed;\n  constructor(config) {\n    super();\n    this.#abortSignalConsumed = false;\n    this.#defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.#client = config.client;\n    this.#cache = this.#client.getQueryCache();\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.#initialState = getDefaultState(this.options);\n    this.state = config.state ?? this.#initialState;\n    this.scheduleGc();\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  get promise() {\n    return this.#retryer?.promise;\n  }\n  setOptions(options) {\n    this.options = { ...this.#defaultOptions, ...options };\n    this.updateGcTime(this.options.gcTime);\n    if (this.state && this.state.data === void 0) {\n      const defaultState = getDefaultState(this.options);\n      if (defaultState.data !== void 0) {\n        this.setData(defaultState.data, {\n          updatedAt: defaultState.dataUpdatedAt,\n          manual: true\n        });\n        this.#initialState = defaultState;\n      }\n    }\n  }\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === \"idle\") {\n      this.#cache.remove(this);\n    }\n  }\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options);\n    this.#dispatch({\n      data,\n      type: \"success\",\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual\n    });\n    return data;\n  }\n  setState(state, setStateOptions) {\n    this.#dispatch({ type: \"setState\", state, setStateOptions });\n  }\n  cancel(options) {\n    const promise = this.#retryer?.promise;\n    this.#retryer?.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n  destroy() {\n    super.destroy();\n    this.cancel({ silent: true });\n  }\n  reset() {\n    this.destroy();\n    this.setState(this.#initialState);\n  }\n  isActive() {\n    return this.observers.some(\n      (observer) => resolveEnabled(observer.options.enabled, this) !== false\n    );\n  }\n  isDisabled() {\n    if (this.getObserversCount() > 0) {\n      return !this.isActive();\n    }\n    return this.options.queryFn === skipToken || this.state.dataUpdateCount + this.state.errorUpdateCount === 0;\n  }\n  isStatic() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => resolveStaleTime(observer.options.staleTime, this) === \"static\"\n      );\n    }\n    return false;\n  }\n  isStale() {\n    if (this.getObserversCount() > 0) {\n      return this.observers.some(\n        (observer) => observer.getCurrentResult().isStale\n      );\n    }\n    return this.state.data === void 0 || this.state.isInvalidated;\n  }\n  isStaleByTime(staleTime = 0) {\n    if (this.state.data === void 0) {\n      return true;\n    }\n    if (staleTime === \"static\") {\n      return false;\n    }\n    if (this.state.isInvalidated) {\n      return true;\n    }\n    return !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n  onFocus() {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  onOnline() {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect());\n    observer?.refetch({ cancelRefetch: false });\n    this.#retryer?.continue();\n  }\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer);\n      this.clearGcTimeout();\n      this.#cache.notify({ type: \"observerAdded\", query: this, observer });\n    }\n  }\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer);\n      if (!this.observers.length) {\n        if (this.#retryer) {\n          if (this.#abortSignalConsumed) {\n            this.#retryer.cancel({ revert: true });\n          } else {\n            this.#retryer.cancelRetry();\n          }\n        }\n        this.scheduleGc();\n      }\n      this.#cache.notify({ type: \"observerRemoved\", query: this, observer });\n    }\n  }\n  getObserversCount() {\n    return this.observers.length;\n  }\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.#dispatch({ type: \"invalidate\" });\n    }\n  }\n  async fetch(options, fetchOptions) {\n    if (this.state.fetchStatus !== \"idle\" && // If the promise in the retyer is already rejected, we have to definitely\n    // re-start the fetch; there is a chance that the query is still in a\n    // pending state when that happens\n    this.#retryer?.status() !== \"rejected\") {\n      if (this.state.data !== void 0 && fetchOptions?.cancelRefetch) {\n        this.cancel({ silent: true });\n      } else if (this.#retryer) {\n        this.#retryer.continueRetry();\n        return this.#retryer.promise;\n      }\n    }\n    if (options) {\n      this.setOptions(options);\n    }\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn);\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!Array.isArray(this.options.queryKey)) {\n        console.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`\n        );\n      }\n    }\n    const abortController = new AbortController();\n    const addSignalProperty = (object) => {\n      Object.defineProperty(object, \"signal\", {\n        enumerable: true,\n        get: () => {\n          this.#abortSignalConsumed = true;\n          return abortController.signal;\n        }\n      });\n    };\n    const fetchFn = () => {\n      const queryFn = ensureQueryFn(this.options, fetchOptions);\n      const createQueryFnContext = () => {\n        const queryFnContext2 = {\n          client: this.#client,\n          queryKey: this.queryKey,\n          meta: this.meta\n        };\n        addSignalProperty(queryFnContext2);\n        return queryFnContext2;\n      };\n      const queryFnContext = createQueryFnContext();\n      this.#abortSignalConsumed = false;\n      if (this.options.persister) {\n        return this.options.persister(\n          queryFn,\n          queryFnContext,\n          this\n        );\n      }\n      return queryFn(queryFnContext);\n    };\n    const createFetchContext = () => {\n      const context2 = {\n        fetchOptions,\n        options: this.options,\n        queryKey: this.queryKey,\n        client: this.#client,\n        state: this.state,\n        fetchFn\n      };\n      addSignalProperty(context2);\n      return context2;\n    };\n    const context = createFetchContext();\n    this.options.behavior?.onFetch(context, this);\n    this.#revertState = this.state;\n    if (this.state.fetchStatus === \"idle\" || this.state.fetchMeta !== context.fetchOptions?.meta) {\n      this.#dispatch({ type: \"fetch\", meta: context.fetchOptions?.meta });\n    }\n    this.#retryer = createRetryer({\n      initialPromise: fetchOptions?.initialPromise,\n      fn: context.fetchFn,\n      onCancel: (error) => {\n        if (error instanceof CancelledError && error.revert) {\n          this.setState({\n            ...this.#revertState,\n            fetchStatus: \"idle\"\n          });\n        }\n        abortController.abort();\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue: () => {\n        this.#dispatch({ type: \"continue\" });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n      canRun: () => true\n    });\n    try {\n      const data = await this.#retryer.start();\n      if (data === void 0) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.error(\n            `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`\n          );\n        }\n        throw new Error(`${this.queryHash} data is undefined`);\n      }\n      this.setData(data);\n      this.#cache.config.onSuccess?.(data, this);\n      this.#cache.config.onSettled?.(\n        data,\n        this.state.error,\n        this\n      );\n      return data;\n    } catch (error) {\n      if (error instanceof CancelledError) {\n        if (error.silent) {\n          return this.#retryer.promise;\n        } else if (error.revert) {\n          if (this.state.data === void 0) {\n            throw error;\n          }\n          return this.state.data;\n        }\n      }\n      this.#dispatch({\n        type: \"error\",\n        error\n      });\n      this.#cache.config.onError?.(\n        error,\n        this\n      );\n      this.#cache.config.onSettled?.(\n        this.state.data,\n        error,\n        this\n      );\n      throw error;\n    } finally {\n      this.scheduleGc();\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            fetchStatus: \"paused\"\n          };\n        case \"continue\":\n          return {\n            ...state,\n            fetchStatus: \"fetching\"\n          };\n        case \"fetch\":\n          return {\n            ...state,\n            ...fetchState(state.data, this.options),\n            fetchMeta: action.meta ?? null\n          };\n        case \"success\":\n          const newState = {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: \"success\",\n            ...!action.manual && {\n              fetchStatus: \"idle\",\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            }\n          };\n          this.#revertState = action.manual ? newState : void 0;\n          return newState;\n        case \"error\":\n          const error = action.error;\n          return {\n            ...state,\n            error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: \"idle\",\n            status: \"error\"\n          };\n        case \"invalidate\":\n          return {\n            ...state,\n            isInvalidated: true\n          };\n        case \"setState\":\n          return {\n            ...state,\n            ...action.state\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate();\n      });\n      this.#cache.notify({ query: this, type: \"updated\", action });\n    });\n  }\n};\nfunction fetchState(data, options) {\n  return {\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchStatus: canFetch(options.networkMode) ? \"fetching\" : \"paused\",\n    ...data === void 0 && {\n      error: null,\n      status: \"pending\"\n    }\n  };\n}\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === \"function\" ? options.initialData() : options.initialData;\n  const hasData = data !== void 0;\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === \"function\" ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? \"success\" : \"pending\",\n    fetchStatus: \"idle\"\n  };\n}\nexport {\n  Query,\n  fetchState\n};\n//# sourceMappingURL=query.js.map","// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      const options = context.options;\n      const direction = context.fetchOptions?.meta?.fetchMore?.direction;\n      const oldPages = context.state.data?.pages || [];\n      const oldPageParams = context.state.data?.pageParams || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const createQueryFnContext = () => {\n            const queryFnContext2 = {\n              client: context.client,\n              queryKey: context.queryKey,\n              pageParam: param,\n              direction: previous ? \"backward\" : \"forward\",\n              meta: context.options.meta\n            };\n            addSignalProperty(queryFnContext2);\n            return queryFnContext2;\n          };\n          const queryFnContext = createQueryFnContext();\n          const page = await queryFn(queryFnContext);\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          return context.options.persister?.(\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  return pages.length > 0 ? options.getPreviousPageParam?.(pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map","// src/mutation.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Removable } from \"./removable.js\";\nimport { createRetryer } from \"./retryer.js\";\nvar Mutation = class extends Removable {\n  #client;\n  #observers;\n  #mutationCache;\n  #retryer;\n  constructor(config) {\n    super();\n    this.#client = config.client;\n    this.mutationId = config.mutationId;\n    this.#mutationCache = config.mutationCache;\n    this.#observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n  setOptions(options) {\n    this.options = options;\n    this.updateGcTime(this.options.gcTime);\n  }\n  get meta() {\n    return this.options.meta;\n  }\n  addObserver(observer) {\n    if (!this.#observers.includes(observer)) {\n      this.#observers.push(observer);\n      this.clearGcTimeout();\n      this.#mutationCache.notify({\n        type: \"observerAdded\",\n        mutation: this,\n        observer\n      });\n    }\n  }\n  removeObserver(observer) {\n    this.#observers = this.#observers.filter((x) => x !== observer);\n    this.scheduleGc();\n    this.#mutationCache.notify({\n      type: \"observerRemoved\",\n      mutation: this,\n      observer\n    });\n  }\n  optionalRemove() {\n    if (!this.#observers.length) {\n      if (this.state.status === \"pending\") {\n        this.scheduleGc();\n      } else {\n        this.#mutationCache.remove(this);\n      }\n    }\n  }\n  continue() {\n    return this.#retryer?.continue() ?? // continuing a mutation assumes that variables are set, mutation must have been dehydrated before\n    this.execute(this.state.variables);\n  }\n  async execute(variables) {\n    const onContinue = () => {\n      this.#dispatch({ type: \"continue\" });\n    };\n    const mutationFnContext = {\n      client: this.#client,\n      meta: this.options.meta,\n      mutationKey: this.options.mutationKey\n    };\n    this.#retryer = createRetryer({\n      fn: () => {\n        if (!this.options.mutationFn) {\n          return Promise.reject(new Error(\"No mutationFn found\"));\n        }\n        return this.options.mutationFn(variables, mutationFnContext);\n      },\n      onFail: (failureCount, error) => {\n        this.#dispatch({ type: \"failed\", failureCount, error });\n      },\n      onPause: () => {\n        this.#dispatch({ type: \"pause\" });\n      },\n      onContinue,\n      retry: this.options.retry ?? 0,\n      retryDelay: this.options.retryDelay,\n      networkMode: this.options.networkMode,\n      canRun: () => this.#mutationCache.canRun(this)\n    });\n    const restored = this.state.status === \"pending\";\n    const isPaused = !this.#retryer.canStart();\n    try {\n      if (restored) {\n        onContinue();\n      } else {\n        this.#dispatch({ type: \"pending\", variables, isPaused });\n        await this.#mutationCache.config.onMutate?.(\n          variables,\n          this,\n          mutationFnContext\n        );\n        const context = await this.options.onMutate?.(\n          variables,\n          mutationFnContext\n        );\n        if (context !== this.state.context) {\n          this.#dispatch({\n            type: \"pending\",\n            context,\n            variables,\n            isPaused\n          });\n        }\n      }\n      const data = await this.#retryer.start();\n      await this.#mutationCache.config.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        this,\n        mutationFnContext\n      );\n      await this.options.onSuccess?.(\n        data,\n        variables,\n        this.state.context,\n        mutationFnContext\n      );\n      await this.#mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this,\n        mutationFnContext\n      );\n      await this.options.onSettled?.(\n        data,\n        null,\n        variables,\n        this.state.context,\n        mutationFnContext\n      );\n      this.#dispatch({ type: \"success\", data });\n      return data;\n    } catch (error) {\n      try {\n        await this.#mutationCache.config.onError?.(\n          error,\n          variables,\n          this.state.context,\n          this,\n          mutationFnContext\n        );\n        await this.options.onError?.(\n          error,\n          variables,\n          this.state.context,\n          mutationFnContext\n        );\n        await this.#mutationCache.config.onSettled?.(\n          void 0,\n          error,\n          this.state.variables,\n          this.state.context,\n          this,\n          mutationFnContext\n        );\n        await this.options.onSettled?.(\n          void 0,\n          error,\n          variables,\n          this.state.context,\n          mutationFnContext\n        );\n        throw error;\n      } finally {\n        this.#dispatch({ type: \"error\", error });\n      }\n    } finally {\n      this.#mutationCache.runNext(this);\n    }\n  }\n  #dispatch(action) {\n    const reducer = (state) => {\n      switch (action.type) {\n        case \"failed\":\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n        case \"pause\":\n          return {\n            ...state,\n            isPaused: true\n          };\n        case \"continue\":\n          return {\n            ...state,\n            isPaused: false\n          };\n        case \"pending\":\n          return {\n            ...state,\n            context: action.context,\n            data: void 0,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: action.isPaused,\n            status: \"pending\",\n            variables: action.variables,\n            submittedAt: Date.now()\n          };\n        case \"success\":\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: \"success\",\n            isPaused: false\n          };\n        case \"error\":\n          return {\n            ...state,\n            data: void 0,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: \"error\"\n          };\n      }\n    };\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.#observers.forEach((observer) => {\n        observer.onMutationUpdate(action);\n      });\n      this.#mutationCache.notify({\n        mutation: this,\n        type: \"updated\",\n        action\n      });\n    });\n  }\n};\nfunction getDefaultState() {\n  return {\n    context: void 0,\n    data: void 0,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: \"idle\",\n    variables: void 0,\n    submittedAt: 0\n  };\n}\nexport {\n  Mutation,\n  getDefaultState\n};\n//# sourceMappingURL=mutation.js.map","// src/mutationCache.ts\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Mutation } from \"./mutation.js\";\nimport { matchMutation, noop } from \"./utils.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar MutationCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#mutations = /* @__PURE__ */ new Set();\n    this.#scopes = /* @__PURE__ */ new Map();\n    this.#mutationId = 0;\n  }\n  #mutations;\n  #scopes;\n  #mutationId;\n  build(client, options, state) {\n    const mutation = new Mutation({\n      client,\n      mutationCache: this,\n      mutationId: ++this.#mutationId,\n      options: client.defaultMutationOptions(options),\n      state\n    });\n    this.add(mutation);\n    return mutation;\n  }\n  add(mutation) {\n    this.#mutations.add(mutation);\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const scopedMutations = this.#scopes.get(scope);\n      if (scopedMutations) {\n        scopedMutations.push(mutation);\n      } else {\n        this.#scopes.set(scope, [mutation]);\n      }\n    }\n    this.notify({ type: \"added\", mutation });\n  }\n  remove(mutation) {\n    if (this.#mutations.delete(mutation)) {\n      const scope = scopeFor(mutation);\n      if (typeof scope === \"string\") {\n        const scopedMutations = this.#scopes.get(scope);\n        if (scopedMutations) {\n          if (scopedMutations.length > 1) {\n            const index = scopedMutations.indexOf(mutation);\n            if (index !== -1) {\n              scopedMutations.splice(index, 1);\n            }\n          } else if (scopedMutations[0] === mutation) {\n            this.#scopes.delete(scope);\n          }\n        }\n      }\n    }\n    this.notify({ type: \"removed\", mutation });\n  }\n  canRun(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const mutationsWithSameScope = this.#scopes.get(scope);\n      const firstPendingMutation = mutationsWithSameScope?.find(\n        (m) => m.state.status === \"pending\"\n      );\n      return !firstPendingMutation || firstPendingMutation === mutation;\n    } else {\n      return true;\n    }\n  }\n  runNext(mutation) {\n    const scope = scopeFor(mutation);\n    if (typeof scope === \"string\") {\n      const foundMutation = this.#scopes.get(scope)?.find((m) => m !== mutation && m.state.isPaused);\n      return foundMutation?.continue() ?? Promise.resolve();\n    } else {\n      return Promise.resolve();\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.#mutations.forEach((mutation) => {\n        this.notify({ type: \"removed\", mutation });\n      });\n      this.#mutations.clear();\n      this.#scopes.clear();\n    });\n  }\n  getAll() {\n    return Array.from(this.#mutations);\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (mutation) => matchMutation(defaultedFilters, mutation)\n    );\n  }\n  findAll(filters = {}) {\n    return this.getAll().filter((mutation) => matchMutation(filters, mutation));\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  resumePausedMutations() {\n    const pausedMutations = this.getAll().filter((x) => x.state.isPaused);\n    return notifyManager.batch(\n      () => Promise.all(\n        pausedMutations.map((mutation) => mutation.continue().catch(noop))\n      )\n    );\n  }\n};\nfunction scopeFor(mutation) {\n  return mutation.options.scope?.id;\n}\nexport {\n  MutationCache\n};\n//# sourceMappingURL=mutationCache.js.map","// src/queryCache.ts\nimport { hashQueryKeyByOptions, matchQuery } from \"./utils.js\";\nimport { Query } from \"./query.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { Subscribable } from \"./subscribable.js\";\nvar QueryCache = class extends Subscribable {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.#queries = /* @__PURE__ */ new Map();\n  }\n  #queries;\n  build(client, options, state) {\n    const queryKey = options.queryKey;\n    const queryHash = options.queryHash ?? hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n    if (!query) {\n      query = new Query({\n        client,\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n    return query;\n  }\n  add(query) {\n    if (!this.#queries.has(query.queryHash)) {\n      this.#queries.set(query.queryHash, query);\n      this.notify({\n        type: \"added\",\n        query\n      });\n    }\n  }\n  remove(query) {\n    const queryInMap = this.#queries.get(query.queryHash);\n    if (queryInMap) {\n      query.destroy();\n      if (queryInMap === query) {\n        this.#queries.delete(query.queryHash);\n      }\n      this.notify({ type: \"removed\", query });\n    }\n  }\n  clear() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        this.remove(query);\n      });\n    });\n  }\n  get(queryHash) {\n    return this.#queries.get(queryHash);\n  }\n  getAll() {\n    return [...this.#queries.values()];\n  }\n  find(filters) {\n    const defaultedFilters = { exact: true, ...filters };\n    return this.getAll().find(\n      (query) => matchQuery(defaultedFilters, query)\n    );\n  }\n  findAll(filters = {}) {\n    const queries = this.getAll();\n    return Object.keys(filters).length > 0 ? queries.filter((query) => matchQuery(filters, query)) : queries;\n  }\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach((listener) => {\n        listener(event);\n      });\n    });\n  }\n  onFocus() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onFocus();\n      });\n    });\n  }\n  onOnline() {\n    notifyManager.batch(() => {\n      this.getAll().forEach((query) => {\n        query.onOnline();\n      });\n    });\n  }\n};\nexport {\n  QueryCache\n};\n//# sourceMappingURL=queryCache.js.map","// src/queryClient.ts\nimport {\n  functionalUpdate,\n  hashKey,\n  hashQueryKeyByOptions,\n  noop,\n  partialMatchKey,\n  resolveStaleTime,\n  skipToken\n} from \"./utils.js\";\nimport { QueryCache } from \"./queryCache.js\";\nimport { MutationCache } from \"./mutationCache.js\";\nimport { focusManager } from \"./focusManager.js\";\nimport { onlineManager } from \"./onlineManager.js\";\nimport { notifyManager } from \"./notifyManager.js\";\nimport { infiniteQueryBehavior } from \"./infiniteQueryBehavior.js\";\nvar QueryClient = class {\n  #queryCache;\n  #mutationCache;\n  #defaultOptions;\n  #queryDefaults;\n  #mutationDefaults;\n  #mountCount;\n  #unsubscribeFocus;\n  #unsubscribeOnline;\n  constructor(config = {}) {\n    this.#queryCache = config.queryCache || new QueryCache();\n    this.#mutationCache = config.mutationCache || new MutationCache();\n    this.#defaultOptions = config.defaultOptions || {};\n    this.#queryDefaults = /* @__PURE__ */ new Map();\n    this.#mutationDefaults = /* @__PURE__ */ new Map();\n    this.#mountCount = 0;\n  }\n  mount() {\n    this.#mountCount++;\n    if (this.#mountCount !== 1) return;\n    this.#unsubscribeFocus = focusManager.subscribe(async (focused) => {\n      if (focused) {\n        await this.resumePausedMutations();\n        this.#queryCache.onFocus();\n      }\n    });\n    this.#unsubscribeOnline = onlineManager.subscribe(async (online) => {\n      if (online) {\n        await this.resumePausedMutations();\n        this.#queryCache.onOnline();\n      }\n    });\n  }\n  unmount() {\n    this.#mountCount--;\n    if (this.#mountCount !== 0) return;\n    this.#unsubscribeFocus?.();\n    this.#unsubscribeFocus = void 0;\n    this.#unsubscribeOnline?.();\n    this.#unsubscribeOnline = void 0;\n  }\n  isFetching(filters) {\n    return this.#queryCache.findAll({ ...filters, fetchStatus: \"fetching\" }).length;\n  }\n  isMutating(filters) {\n    return this.#mutationCache.findAll({ ...filters, status: \"pending\" }).length;\n  }\n  /**\n   * Imperative (non-reactive) way to retrieve data for a QueryKey.\n   * Should only be used in callbacks or functions where reading the latest data is necessary, e.g. for optimistic updates.\n   *\n   * Hint: Do not use this function inside a component, because it won't receive updates.\n   * Use `useQuery` to create a `QueryObserver` that subscribes to changes.\n   */\n  getQueryData(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(options.queryHash)?.state.data;\n  }\n  ensureQueryData(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    const query = this.#queryCache.build(this, defaultedOptions);\n    const cachedData = query.state.data;\n    if (cachedData === void 0) {\n      return this.fetchQuery(options);\n    }\n    if (options.revalidateIfStale && query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime, query))) {\n      void this.prefetchQuery(defaultedOptions);\n    }\n    return Promise.resolve(cachedData);\n  }\n  getQueriesData(filters) {\n    return this.#queryCache.findAll(filters).map(({ queryKey, state }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n  setQueryData(queryKey, updater, options) {\n    const defaultedOptions = this.defaultQueryOptions({ queryKey });\n    const query = this.#queryCache.get(\n      defaultedOptions.queryHash\n    );\n    const prevData = query?.state.data;\n    const data = functionalUpdate(updater, prevData);\n    if (data === void 0) {\n      return void 0;\n    }\n    return this.#queryCache.build(this, defaultedOptions).setData(data, { ...options, manual: true });\n  }\n  setQueriesData(filters, updater, options) {\n    return notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map(({ queryKey }) => [\n        queryKey,\n        this.setQueryData(queryKey, updater, options)\n      ])\n    );\n  }\n  getQueryState(queryKey) {\n    const options = this.defaultQueryOptions({ queryKey });\n    return this.#queryCache.get(\n      options.queryHash\n    )?.state;\n  }\n  removeQueries(filters) {\n    const queryCache = this.#queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query);\n      });\n    });\n  }\n  resetQueries(filters, options) {\n    const queryCache = this.#queryCache;\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset();\n      });\n      return this.refetchQueries(\n        {\n          type: \"active\",\n          ...filters\n        },\n        options\n      );\n    });\n  }\n  cancelQueries(filters, cancelOptions = {}) {\n    const defaultedCancelOptions = { revert: true, ...cancelOptions };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).map((query) => query.cancel(defaultedCancelOptions))\n    );\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n  invalidateQueries(filters, options = {}) {\n    return notifyManager.batch(() => {\n      this.#queryCache.findAll(filters).forEach((query) => {\n        query.invalidate();\n      });\n      if (filters?.refetchType === \"none\") {\n        return Promise.resolve();\n      }\n      return this.refetchQueries(\n        {\n          ...filters,\n          type: filters?.refetchType ?? filters?.type ?? \"active\"\n        },\n        options\n      );\n    });\n  }\n  refetchQueries(filters, options = {}) {\n    const fetchOptions = {\n      ...options,\n      cancelRefetch: options.cancelRefetch ?? true\n    };\n    const promises = notifyManager.batch(\n      () => this.#queryCache.findAll(filters).filter((query) => !query.isDisabled() && !query.isStatic()).map((query) => {\n        let promise = query.fetch(void 0, fetchOptions);\n        if (!fetchOptions.throwOnError) {\n          promise = promise.catch(noop);\n        }\n        return query.state.fetchStatus === \"paused\" ? Promise.resolve() : promise;\n      })\n    );\n    return Promise.all(promises).then(noop);\n  }\n  fetchQuery(options) {\n    const defaultedOptions = this.defaultQueryOptions(options);\n    if (defaultedOptions.retry === void 0) {\n      defaultedOptions.retry = false;\n    }\n    const query = this.#queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(\n      resolveStaleTime(defaultedOptions.staleTime, query)\n    ) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n  prefetchQuery(options) {\n    return this.fetchQuery(options).then(noop).catch(noop);\n  }\n  fetchInfiniteQuery(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.fetchQuery(options);\n  }\n  prefetchInfiniteQuery(options) {\n    return this.fetchInfiniteQuery(options).then(noop).catch(noop);\n  }\n  ensureInfiniteQueryData(options) {\n    options.behavior = infiniteQueryBehavior(options.pages);\n    return this.ensureQueryData(options);\n  }\n  resumePausedMutations() {\n    if (onlineManager.isOnline()) {\n      return this.#mutationCache.resumePausedMutations();\n    }\n    return Promise.resolve();\n  }\n  getQueryCache() {\n    return this.#queryCache;\n  }\n  getMutationCache() {\n    return this.#mutationCache;\n  }\n  getDefaultOptions() {\n    return this.#defaultOptions;\n  }\n  setDefaultOptions(options) {\n    this.#defaultOptions = options;\n  }\n  setQueryDefaults(queryKey, options) {\n    this.#queryDefaults.set(hashKey(queryKey), {\n      queryKey,\n      defaultOptions: options\n    });\n  }\n  getQueryDefaults(queryKey) {\n    const defaults = [...this.#queryDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(queryKey, queryDefault.queryKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  setMutationDefaults(mutationKey, options) {\n    this.#mutationDefaults.set(hashKey(mutationKey), {\n      mutationKey,\n      defaultOptions: options\n    });\n  }\n  getMutationDefaults(mutationKey) {\n    const defaults = [...this.#mutationDefaults.values()];\n    const result = {};\n    defaults.forEach((queryDefault) => {\n      if (partialMatchKey(mutationKey, queryDefault.mutationKey)) {\n        Object.assign(result, queryDefault.defaultOptions);\n      }\n    });\n    return result;\n  }\n  defaultQueryOptions(options) {\n    if (options._defaulted) {\n      return options;\n    }\n    const defaultedOptions = {\n      ...this.#defaultOptions.queries,\n      ...this.getQueryDefaults(options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n    if (!defaultedOptions.queryHash) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions\n      );\n    }\n    if (defaultedOptions.refetchOnReconnect === void 0) {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== \"always\";\n    }\n    if (defaultedOptions.throwOnError === void 0) {\n      defaultedOptions.throwOnError = !!defaultedOptions.suspense;\n    }\n    if (!defaultedOptions.networkMode && defaultedOptions.persister) {\n      defaultedOptions.networkMode = \"offlineFirst\";\n    }\n    if (defaultedOptions.queryFn === skipToken) {\n      defaultedOptions.enabled = false;\n    }\n    return defaultedOptions;\n  }\n  defaultMutationOptions(options) {\n    if (options?._defaulted) {\n      return options;\n    }\n    return {\n      ...this.#defaultOptions.mutations,\n      ...options?.mutationKey && this.getMutationDefaults(options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n  clear() {\n    this.#queryCache.clear();\n    this.#mutationCache.clear();\n  }\n};\nexport {\n  QueryClient\n};\n//# sourceMappingURL=queryClient.js.map","\"use client\";\n\n// src/QueryClientProvider.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar QueryClientContext = React.createContext(\n  void 0\n);\nvar useQueryClient = (queryClient) => {\n  const client = React.useContext(QueryClientContext);\n  if (queryClient) {\n    return queryClient;\n  }\n  if (!client) {\n    throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n  }\n  return client;\n};\nvar QueryClientProvider = ({\n  client,\n  children\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n  return /* @__PURE__ */ jsx(QueryClientContext.Provider, { value: client, children });\n};\nexport {\n  QueryClientContext,\n  QueryClientProvider,\n  useQueryClient\n};\n//# sourceMappingURL=QueryClientProvider.js.map","\"use client\";\n\n// src/index.ts\nimport * as Devtools from \"./ReactQueryDevtools.js\";\nimport * as DevtoolsPanel from \"./ReactQueryDevtoolsPanel.js\";\nvar ReactQueryDevtools2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : Devtools.ReactQueryDevtools;\nvar ReactQueryDevtoolsPanel2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : DevtoolsPanel.ReactQueryDevtoolsPanel;\nexport {\n  ReactQueryDevtools2 as ReactQueryDevtools,\n  ReactQueryDevtoolsPanel2 as ReactQueryDevtoolsPanel\n};\n//# sourceMappingURL=index.js.map","let e={data:\"\"},t=t=>{if(\"object\"==typeof window){let e=(t?t.querySelector(\"#_goober\"):window._goober)||Object.assign(document.createElement(\"style\"),{innerHTML:\" \",id:\"_goober\"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||e},r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function w(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,w as styled};\n","\"use client\";\nvar Z=e=>typeof e==\"function\",h=(e,t)=>Z(e)?e(t):e;var W=(()=>{let e=0;return()=>(++e).toString()})(),E=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as ee,useState as te,useRef as oe}from\"react\";var re=20,k=\"default\";var H=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:s}=t;return H(e,{type:e.toasts.find(r=>r.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(r=>r.id===a||a===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},v=[],j={toasts:[],pausedAt:void 0,settings:{toastLimit:re}},f={},Y=(e,t=k)=>{f[t]=H(f[t]||j,e),v.forEach(([o,s])=>{o===t&&s(f[t])})},_=e=>Object.keys(f).forEach(t=>Y(e,t)),Q=e=>Object.keys(f).find(t=>f[t].toasts.some(o=>o.id===e)),S=(e=k)=>t=>{Y(t,e)},se={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=(e={},t=k)=>{let[o,s]=te(f[t]||j),a=oe(f[t]);ee(()=>(a.current!==f[t]&&s(f[t]),v.push([t,s]),()=>{let r=v.findIndex(([l])=>l===t);r>-1&&v.splice(r,1)}),[t]);let i=o.toasts.map(r=>{var l,g,T;return{...e,...e[r.type],...r,removeDelay:r.removeDelay||((l=e[r.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:r.duration||((g=e[r.type])==null?void 0:g.duration)||(e==null?void 0:e.duration)||se[r.type],style:{...e.style,...(T=e[r.type])==null?void 0:T.style,...r.style}}});return{...o,toasts:i}};var ie=(e,t=\"blank\",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||W()}),P=e=>(t,o)=>{let s=ie(t,e,o);return S(s.toasterId||Q(s.id))({type:2,toast:s}),s.id},n=(e,t)=>P(\"blank\")(e,t);n.error=P(\"error\");n.success=P(\"success\");n.loading=P(\"loading\");n.custom=P(\"custom\");n.dismiss=(e,t)=>{let o={type:3,toastId:e};t?S(t)(o):_(o)};n.dismissAll=e=>n.dismiss(void 0,e);n.remove=(e,t)=>{let o={type:4,toastId:e};t?S(t)(o):_(o)};n.removeAll=e=>n.remove(void 0,e);n.promise=(e,t,o)=>{let s=n.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let i=t.success?h(t.success,a):void 0;return i?n.success(i,{id:s,...o,...o==null?void 0:o.success}):n.dismiss(s),a}).catch(a=>{let i=t.error?h(t.error,a):void 0;i?n.error(i,{id:s,...o,...o==null?void 0:o.error}):n.dismiss(s)}),e};import{useEffect as X,useCallback as A,useRef as ne}from\"react\";var ce=1e3,w=(e,t=\"default\")=>{let{toasts:o,pausedAt:s}=V(e,t),a=ne(new Map).current,i=A((c,m=ce)=>{if(a.has(c))return;let p=setTimeout(()=>{a.delete(c),r({type:4,toastId:c})},m);a.set(c,p)},[]);X(()=>{if(s)return;let c=Date.now(),m=o.map(p=>{if(p.duration===1/0)return;let R=(p.duration||0)+p.pauseDuration-(c-p.createdAt);if(R<0){p.visible&&n.dismiss(p.id);return}return setTimeout(()=>n.dismiss(p.id,t),R)});return()=>{m.forEach(p=>p&&clearTimeout(p))}},[o,s,t]);let r=A(S(t),[t]),l=A(()=>{r({type:5,time:Date.now()})},[r]),g=A((c,m)=>{r({type:1,toast:{id:c,height:m}})},[r]),T=A(()=>{s&&r({type:6,time:Date.now()})},[s,r]),d=A((c,m)=>{let{reverseOrder:p=!1,gutter:R=8,defaultPosition:z}=m||{},O=o.filter(u=>(u.position||z)===(c.position||z)&&u.height),K=O.findIndex(u=>u.id===c.id),B=O.filter((u,I)=>I<K&&u.visible).length;return O.filter(u=>u.visible).slice(...p?[B+1]:[0,B]).reduce((u,I)=>u+(I.height||0)+R,0)},[o]);return X(()=>{o.forEach(c=>{if(c.dismissed)i(c.id,c.removeDelay);else{let m=a.get(c.id);m&&(clearTimeout(m),a.delete(c.id))}})},[o,i]),{toasts:o,handlers:{updateHeight:g,startPause:l,endPause:T,calculateOffset:d}}};import*as y from\"react\";import{styled as J,keyframes as G}from\"goober\";import*as b from\"react\";import{styled as U,keyframes as xe}from\"goober\";import{styled as pe,keyframes as M}from\"goober\";var de=M`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,me=M`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,le=M`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,C=pe(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${me} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${le} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ue,keyframes as fe}from\"goober\";var Te=fe`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,F=ue(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${Te} 1s linear infinite;\n`;import{styled as ye,keyframes as q}from\"goober\";var ge=q`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,he=q`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,L=ye(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${ge} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${he} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var be=U(\"div\")`\n  position: absolute;\n`,Se=U(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,Ae=xe`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Pe=U(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${Ae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,$=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?b.createElement(Pe,null,t):t:o===\"blank\"?null:b.createElement(Se,null,b.createElement(F,{...s}),o!==\"loading\"&&b.createElement(be,null,o===\"error\"?b.createElement(C,{...s}):b.createElement(L,{...s})))};var Re=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ee=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,ve=\"0%{opacity:0;} 100%{opacity:1;}\",De=\"0%{opacity:1;} 100%{opacity:0;}\",Oe=J(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Ie=J(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,ke=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,i]=E()?[ve,De]:[Re(s),Ee(s)];return{animation:t?`${G(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${G(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N=y.memo(({toast:e,position:t,style:o,children:s})=>{let a=e.height?ke(e.position||t||\"top-center\",e.visible):{opacity:0},i=y.createElement($,{toast:e}),r=y.createElement(Ie,{...e.ariaProps},h(e.message,e));return y.createElement(Oe,{className:e.className,style:{...a,...o,...e.style}},typeof s==\"function\"?s({icon:i,message:r}):y.createElement(y.Fragment,null,i,r))});import{css as _e,setup as Ve}from\"goober\";import*as x from\"react\";Ve(x.createElement);var we=({id:e,className:t,style:o,onHeightUpdate:s,children:a})=>{let i=x.useCallback(r=>{if(r){let l=()=>{let g=r.getBoundingClientRect().height;s(e,g)};l(),new MutationObserver(l).observe(r,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return x.createElement(\"div\",{ref:i,className:t,style:o},a)},Me=(e,t)=>{let o=e.includes(\"top\"),s=o?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:E()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(o?1:-1)}px)`,...s,...a}},Ce=_e`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,D=16,Fe=({reverseOrder:e,position:t=\"top-center\",toastOptions:o,gutter:s,children:a,toasterId:i,containerStyle:r,containerClassName:l})=>{let{toasts:g,handlers:T}=w(o,i);return x.createElement(\"div\",{\"data-rht-toaster\":i||\"\",style:{position:\"fixed\",zIndex:9999,top:D,left:D,right:D,bottom:D,pointerEvents:\"none\",...r},className:l,onMouseEnter:T.startPause,onMouseLeave:T.endPause},g.map(d=>{let c=d.position||t,m=T.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),p=Me(c,m);return x.createElement(we,{id:d.id,key:d.id,onHeightUpdate:T.updateHeight,className:d.visible?Ce:\"\",style:p},d.type===\"custom\"?h(d.message,d):a?a(d):x.createElement(N,{toast:d,position:c}))}))};var zt=n;export{L as CheckmarkIcon,C as ErrorIcon,F as LoaderIcon,N as ToastBar,$ as ToastIcon,Fe as Toaster,zt as default,h as resolveValue,n as toast,w as useToaster,V as useToasterStore};\n//# sourceMappingURL=index.mjs.map","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (_e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (_e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (_e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return [\n              true,\n              options.migrate(\n                deserializedStorageValue.state,\n                deserializedStorageValue.version\n              )\n            ];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'\nimport { getAuthToken } from '../store/auth.store'\n\n// API Configuration\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3001/api/v1'\nconst API_TIMEOUT = 30000 // 30 seconds\n\n// Create axios instance\nexport const apiClient: AxiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: API_TIMEOUT,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n  },\n})\n\n// Request interceptor to add auth token\napiClient.interceptors.request.use(\n  (config) => {\n    const token = getAuthToken()\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Response interceptor for error handling\napiClient.interceptors.response.use(\n  (response: AxiosResponse) => {\n    return response\n  },\n  async (error) => {\n    const originalRequest = error.config\n\n    // Handle 401 Unauthorized\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true\n\n      try {\n        // Try to refresh token\n        const { useAuthStore } = await import('../store/auth.store')\n        await useAuthStore.getState().refreshToken()\n        \n        // Retry original request with new token\n        const token = getAuthToken()\n        if (token) {\n          originalRequest.headers.Authorization = `Bearer ${token}`\n          return apiClient(originalRequest)\n        }\n      } catch (refreshError) {\n        // Refresh failed, logout user\n        const { useAuthStore } = await import('../store/auth.store')\n        useAuthStore.getState().logout()\n        \n        // Redirect to login\n        if (typeof window !== 'undefined') {\n          window.location.href = '/auth/login'\n        }\n      }\n    }\n\n    // Handle other errors\n    const errorMessage = error.response?.data?.message || error.message || 'An error occurred'\n    const errorCode = error.response?.data?.code || 'UNKNOWN_ERROR'\n    \n    return Promise.reject({\n      message: errorMessage,\n      code: errorCode,\n      status: error.response?.status,\n      data: error.response?.data,\n    })\n  }\n)\n\n// Generic API service class\nexport class ApiService {\n  protected client: AxiosInstance\n\n  constructor() {\n    this.client = apiClient\n  }\n\n  // GET request\n  async get<T = any>(url: string, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {\n    return this.client.get<T>(url, config)\n  }\n\n  // POST request\n  async post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {\n    return this.client.post<T>(url, data, config)\n  }\n\n  // PUT request\n  async put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {\n    return this.client.put<T>(url, data, config)\n  }\n\n  // PATCH request\n  async patch<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {\n    return this.client.patch<T>(url, data, config)\n  }\n\n  // DELETE request\n  async delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<AxiosResponse<T>> {\n    return this.client.delete<T>(url, config)\n  }\n\n  // Upload file\n  async upload<T = any>(url: string, file: File, onProgress?: (progress: number) => void): Promise<AxiosResponse<T>> {\n    const formData = new FormData()\n    formData.append('file', file)\n\n    return this.client.post<T>(url, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      onUploadProgress: (progressEvent) => {\n        if (onProgress && progressEvent.total) {\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total)\n          onProgress(progress)\n        }\n      },\n    })\n  }\n\n  // Download file\n  async download(url: string, filename?: string): Promise<void> {\n    const response = await this.client.get(url, {\n      responseType: 'blob',\n    })\n\n    // Create download link\n    const blob = new Blob([response.data])\n    const downloadUrl = window.URL.createObjectURL(blob)\n    const link = document.createElement('a')\n    link.href = downloadUrl\n    link.download = filename || 'download'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    window.URL.revokeObjectURL(downloadUrl)\n  }\n}\n\n// Export default instance\nexport const apiService = new ApiService()\n\n// Utility functions\nexport const buildQueryString = (params: Record<string, any>): string => {\n  const searchParams = new URLSearchParams()\n  \n  Object.entries(params).forEach(([key, value]) => {\n    if (value !== null && value !== undefined && value !== '') {\n      if (Array.isArray(value)) {\n        value.forEach((item) => searchParams.append(key, String(item)))\n      } else {\n        searchParams.append(key, String(value))\n      }\n    }\n  })\n  \n  return searchParams.toString()\n}\n\nexport const buildUrl = (baseUrl: string, params?: Record<string, any>): string => {\n  if (!params) return baseUrl\n  \n  const queryString = buildQueryString(params)\n  return queryString ? `${baseUrl}?${queryString}` : baseUrl\n}\n\n// Error handling utilities\nexport const isApiError = (error: any): boolean => {\n  return error && typeof error === 'object' && 'message' in error\n}\n\nexport const getErrorMessage = (error: any): string => {\n  if (isApiError(error)) {\n    return error.message\n  }\n  \n  if (error instanceof Error) {\n    return error.message\n  }\n  \n  return 'An unexpected error occurred'\n}\n\nexport const getErrorCode = (error: any): string => {\n  if (isApiError(error) && error.code) {\n    return error.code\n  }\n  \n  return 'UNKNOWN_ERROR'\n}\n\n// Request/Response logging (development only)\nif (import.meta.env.DEV) {\n  apiClient.interceptors.request.use((config) => {\n    console.log(` API Request: ${config.method?.toUpperCase()} ${config.url}`, {\n      headers: config.headers,\n      data: config.data,\n    })\n    return config\n  })\n\n  apiClient.interceptors.response.use(\n    (response) => {\n      console.log(` API Response: ${response.status} ${response.config.url}`, {\n        data: response.data,\n      })\n      return response\n    },\n    (error) => {\n      console.error(` API Error: ${error.response?.status} ${error.config?.url}`, {\n        error: error.response?.data || error.message,\n      })\n      return Promise.reject(error)\n    }\n  )\n}","import { apiClient } from './api.service'\nimport type {\n  LoginCredentials,\n  LoginResponse,\n  RefreshTokenResponse,\n  ForgotPasswordRequest,\n  ResetPasswordRequest,\n  ChangePasswordRequest,\n} from '../types/auth.types'\n\nclass AuthService {\n  async login(credentials: LoginCredentials): Promise<LoginResponse> {\n    const response = await apiClient.post<LoginResponse>('/auth/login', credentials)\n    return response.data\n  }\n\n  async logout(): Promise<void> {\n    await apiClient.post('/auth/logout')\n  }\n\n  async refreshToken(refreshToken: string): Promise<RefreshTokenResponse> {\n    const response = await apiClient.post<RefreshTokenResponse>('/auth/refresh', {\n      refresh_token: refreshToken,\n    })\n    return response.data\n  }\n\n  async forgotPassword(data: ForgotPasswordRequest): Promise<void> {\n    await apiClient.post('/auth/forgot-password', data)\n  }\n\n  async resetPassword(data: ResetPasswordRequest): Promise<void> {\n    await apiClient.post('/auth/reset-password', data)\n  }\n\n  async changePassword(data: ChangePasswordRequest): Promise<void> {\n    await apiClient.post('/auth/change-password', data)\n  }\n\n  async verifyToken(token: string): Promise<boolean> {\n    try {\n      await apiClient.post('/auth/verify-token', { token })\n      return true\n    } catch {\n      return false\n    }\n  }\n\n  async getCurrentUser() {\n    const response = await apiClient.get('/auth/me')\n    return response.data\n  }\n}\n\nexport const authService = new AuthService()","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\nimport { authService } from '../services/auth.service'\nimport type { User, LoginCredentials, AuthTokens } from '../types/auth.types'\n\ninterface AuthState {\n  user: User | null\n  tokens: AuthTokens | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  error: string | null\n}\n\ninterface AuthActions {\n  login: (credentials: LoginCredentials) => Promise<void>\n  logout: () => void\n  refreshToken: () => Promise<void>\n  clearError: () => void\n  initialize: () => void\n  updateUser: (user: Partial<User>) => void\n}\n\ntype AuthStore = AuthState & AuthActions\n\nexport const useAuthStore = create<AuthStore>()(\n  persist(\n    (set, get) => ({\n      // Initial state\n      user: null,\n      tokens: null,\n      isAuthenticated: false,\n      isLoading: false,\n      error: null,\n\n      // Actions\n      login: async (credentials: LoginCredentials) => {\n        set({ isLoading: true, error: null })\n        \n        try {\n          const response = await authService.login(credentials)\n          \n          set({\n            user: response.user,\n            tokens: response.tokens,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null,\n          })\n\n          // Set up token refresh timer\n          scheduleTokenRefresh(response.tokens.expires_in)\n        } catch (error: any) {\n          set({\n            user: null,\n            tokens: null,\n            isAuthenticated: false,\n            isLoading: false,\n            error: error.message || 'Login failed',\n          })\n          throw error\n        }\n      },\n\n      logout: () => {\n        // Clear refresh timer\n        clearTokenRefreshTimer()\n        \n        // Call logout API (fire and forget)\n        authService.logout().catch(console.error)\n        \n        // Clear state\n        set({\n          user: null,\n          tokens: null,\n          isAuthenticated: false,\n          isLoading: false,\n          error: null,\n        })\n      },\n\n      refreshToken: async () => {\n        const { tokens } = get()\n        \n        if (!tokens?.refresh_token) {\n          get().logout()\n          return\n        }\n\n        try {\n          const response = await authService.refreshToken(tokens.refresh_token)\n          \n          set({\n            tokens: {\n              ...tokens,\n              access_token: response.access_token,\n              expires_in: response.expires_in,\n            },\n          })\n\n          // Schedule next refresh\n          scheduleTokenRefresh(response.expires_in)\n        } catch (error) {\n          console.error('Token refresh failed:', error)\n          get().logout()\n        }\n      },\n\n      clearError: () => {\n        set({ error: null })\n      },\n\n      initialize: () => {\n        const { tokens, user } = get()\n        \n        if (tokens && user) {\n          set({ isAuthenticated: true })\n          \n          // Check if token is expired\n          const now = Date.now() / 1000\n          const tokenExp = parseJWT(tokens.access_token)?.exp\n          \n          if (tokenExp && tokenExp < now) {\n            // Token expired, try to refresh\n            get().refreshToken()\n          } else {\n            // Schedule refresh for valid token\n            const expiresIn = tokenExp ? (tokenExp - now) * 1000 : tokens.expires_in * 1000\n            scheduleTokenRefresh(expiresIn / 1000)\n          }\n        }\n      },\n\n      updateUser: (userData: Partial<User>) => {\n        const { user } = get()\n        if (user) {\n          set({\n            user: { ...user, ...userData }\n          })\n        }\n      },\n    }),\n    {\n      name: 'salessync-auth',\n      partialize: (state) => ({\n        user: state.user,\n        tokens: state.tokens,\n        isAuthenticated: state.isAuthenticated,\n      }),\n    }\n  )\n)\n\n// Token refresh timer\nlet refreshTimer: NodeJS.Timeout | null = null\n\nfunction scheduleTokenRefresh(expiresIn: number) {\n  clearTokenRefreshTimer()\n  \n  // Refresh token 5 minutes before expiry\n  const refreshTime = Math.max((expiresIn - 300) * 1000, 60000) // At least 1 minute\n  \n  refreshTimer = setTimeout(() => {\n    useAuthStore.getState().refreshToken()\n  }, refreshTime)\n}\n\nfunction clearTokenRefreshTimer() {\n  if (refreshTimer) {\n    clearTimeout(refreshTimer)\n    refreshTimer = null\n  }\n}\n\nfunction parseJWT(token: string) {\n  try {\n    const base64Url = token.split('.')[1]\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/')\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split('')\n        .map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2))\n        .join('')\n    )\n    return JSON.parse(jsonPayload)\n  } catch (error) {\n    return null\n  }\n}\n\n// Export auth utilities\nexport const getAuthToken = () => {\n  return useAuthStore.getState().tokens?.access_token\n}\n\nexport const isAuthenticated = () => {\n  return useAuthStore.getState().isAuthenticated\n}\n\nexport const getCurrentUser = () => {\n  return useAuthStore.getState().user\n}\n\nexport const hasRole = (role: string) => {\n  const user = getCurrentUser()\n  return user?.role === role || user?.role === 'admin'\n}\n\nexport const hasPermission = (permission: string) => {\n  const user = getCurrentUser()\n  return user?.permissions?.includes(permission) || user?.role === 'admin'\n}","import { Outlet } from 'react-router-dom'\n\nexport default function AuthLayout() {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        {/* Logo and branding */}\n        <div className=\"text-center\">\n          <div className=\"mx-auto h-16 w-16 bg-primary-600 rounded-xl flex items-center justify-center\">\n            <span className=\"text-2xl font-bold text-white\">SS</span>\n          </div>\n          <h1 className=\"mt-4 text-3xl font-bold text-gray-900\">\n            SalesSync\n          </h1>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            Field Force Management Platform\n          </p>\n        </div>\n\n        {/* Auth form container */}\n        <div className=\"bg-white rounded-xl shadow-lg p-8\">\n          <Outlet />\n        </div>\n\n        {/* Footer */}\n        <div className=\"text-center text-sm text-gray-500\">\n          <p>&copy; 2024 SalesSync. All rights reserved.</p>\n        </div>\n      </div>\n    </div>\n  )\n}","export interface User {\n  id: string\n  email: string\n  first_name: string\n  last_name: string\n  role: 'admin' | 'manager' | 'field_agent' | 'sales_rep'\n  department?: string\n  phone?: string\n  avatar?: string\n  status: 'active' | 'inactive' | 'suspended'\n  permissions: string[]\n  last_login?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface LoginCredentials {\n  email: string\n  password: string\n  remember_me?: boolean\n}\n\nexport interface AuthTokens {\n  access_token: string\n  refresh_token: string\n  expires_in: number\n  token_type: 'Bearer'\n}\n\nexport interface LoginResponse {\n  user: User\n  tokens: AuthTokens\n}\n\nexport interface RefreshTokenResponse {\n  access_token: string\n  expires_in: number\n}\n\nexport interface ForgotPasswordRequest {\n  email: string\n}\n\nexport interface ResetPasswordRequest {\n  token: string\n  password: string\n  password_confirmation: string\n}\n\nexport interface ChangePasswordRequest {\n  current_password: string\n  new_password: string\n  new_password_confirmation: string\n}\n\nexport interface AuthError {\n  code: string\n  message: string\n  details?: Record<string, string[]>\n}\n\n// Role-based permissions\nexport const ROLES = {\n  ADMIN: 'admin',\n  MANAGER: 'manager',\n  FIELD_AGENT: 'field_agent',\n  SALES_REP: 'sales_rep',\n} as const\n\nexport const PERMISSIONS = {\n  // User management\n  VIEW_USERS: 'view_users',\n  CREATE_USERS: 'create_users',\n  EDIT_USERS: 'edit_users',\n  DELETE_USERS: 'delete_users',\n  \n  // Customer management\n  VIEW_CUSTOMERS: 'view_customers',\n  CREATE_CUSTOMERS: 'create_customers',\n  EDIT_CUSTOMERS: 'edit_customers',\n  DELETE_CUSTOMERS: 'delete_customers',\n  \n  // Order management\n  VIEW_ORDERS: 'view_orders',\n  CREATE_ORDERS: 'create_orders',\n  EDIT_ORDERS: 'edit_orders',\n  DELETE_ORDERS: 'delete_orders',\n  PROCESS_ORDERS: 'process_orders',\n  \n  // Product management\n  VIEW_PRODUCTS: 'view_products',\n  CREATE_PRODUCTS: 'create_products',\n  EDIT_PRODUCTS: 'edit_products',\n  DELETE_PRODUCTS: 'delete_products',\n  MANAGE_INVENTORY: 'manage_inventory',\n  \n  // Field operations\n  VIEW_FIELD_OPERATIONS: 'view_field_operations',\n  MANAGE_BOARD_PLACEMENTS: 'manage_board_placements',\n  MANAGE_PRODUCT_DISTRIBUTION: 'manage_product_distribution',\n  VIEW_AGENT_LOCATIONS: 'view_agent_locations',\n  \n  // Analytics and reporting\n  VIEW_ANALYTICS: 'view_analytics',\n  VIEW_REPORTS: 'view_reports',\n  EXPORT_DATA: 'export_data',\n  \n  // System administration\n  MANAGE_SYSTEM_SETTINGS: 'manage_system_settings',\n  VIEW_AUDIT_LOGS: 'view_audit_logs',\n  MANAGE_INTEGRATIONS: 'manage_integrations',\n  \n  // Commission management\n  VIEW_COMMISSIONS: 'view_commissions',\n  MANAGE_COMMISSIONS: 'manage_commissions',\n  PROCESS_PAYMENTS: 'process_payments',\n} as const\n\n// Default permissions by role\nexport const DEFAULT_PERMISSIONS = {\n  [ROLES.ADMIN]: Object.values(PERMISSIONS),\n  [ROLES.MANAGER]: [\n    PERMISSIONS.VIEW_USERS,\n    PERMISSIONS.VIEW_CUSTOMERS,\n    PERMISSIONS.CREATE_CUSTOMERS,\n    PERMISSIONS.EDIT_CUSTOMERS,\n    PERMISSIONS.VIEW_ORDERS,\n    PERMISSIONS.CREATE_ORDERS,\n    PERMISSIONS.EDIT_ORDERS,\n    PERMISSIONS.PROCESS_ORDERS,\n    PERMISSIONS.VIEW_PRODUCTS,\n    PERMISSIONS.VIEW_FIELD_OPERATIONS,\n    PERMISSIONS.VIEW_AGENT_LOCATIONS,\n    PERMISSIONS.VIEW_ANALYTICS,\n    PERMISSIONS.VIEW_REPORTS,\n    PERMISSIONS.EXPORT_DATA,\n    PERMISSIONS.VIEW_COMMISSIONS,\n    PERMISSIONS.MANAGE_COMMISSIONS,\n  ],\n  [ROLES.FIELD_AGENT]: [\n    PERMISSIONS.VIEW_CUSTOMERS,\n    PERMISSIONS.VIEW_ORDERS,\n    PERMISSIONS.VIEW_PRODUCTS,\n    PERMISSIONS.MANAGE_BOARD_PLACEMENTS,\n    PERMISSIONS.MANAGE_PRODUCT_DISTRIBUTION,\n    PERMISSIONS.VIEW_COMMISSIONS,\n  ],\n  [ROLES.SALES_REP]: [\n    PERMISSIONS.VIEW_CUSTOMERS,\n    PERMISSIONS.CREATE_CUSTOMERS,\n    PERMISSIONS.EDIT_CUSTOMERS,\n    PERMISSIONS.VIEW_ORDERS,\n    PERMISSIONS.CREATE_ORDERS,\n    PERMISSIONS.EDIT_ORDERS,\n    PERMISSIONS.VIEW_PRODUCTS,\n    PERMISSIONS.VIEW_ANALYTICS,\n    PERMISSIONS.VIEW_COMMISSIONS,\n  ],\n} as const","import { NavLink } from 'react-router-dom'\nimport { \n  LayoutDashboard, \n  Users, \n  MapPin, \n  Package, \n  ShoppingCart, \n  BarChart3, \n  Settings, \n  UserCheck,\n  DollarSign,\n  Building2,\n  Truck\n} from 'lucide-react'\nimport { useAuthStore, hasPermission } from '../../store/auth.store'\nimport { PERMISSIONS } from '../../types/auth.types'\n\nconst navigation = [\n  {\n    name: 'Dashboard',\n    href: '/dashboard',\n    icon: LayoutDashboard,\n    permission: null,\n  },\n  {\n    name: 'Analytics',\n    href: '/analytics',\n    icon: BarChart3,\n    permission: PERMISSIONS.VIEW_ANALYTICS,\n  },\n  {\n    name: 'Field Agents',\n    href: '/field-agents',\n    icon: UserCheck,\n    permission: PERMISSIONS.VIEW_FIELD_OPERATIONS,\n    children: [\n      {\n        name: 'Live Mapping',\n        href: '/field-agents/mapping',\n        permission: PERMISSIONS.VIEW_AGENT_LOCATIONS,\n      },\n      {\n        name: 'Board Placement',\n        href: '/field-agents/boards',\n        permission: PERMISSIONS.MANAGE_BOARD_PLACEMENTS,\n      },\n      {\n        name: 'Product Distribution',\n        href: '/field-agents/products',\n        permission: PERMISSIONS.MANAGE_PRODUCT_DISTRIBUTION,\n      },\n      {\n        name: 'Commission Tracking',\n        href: '/field-agents/commission',\n        permission: PERMISSIONS.VIEW_COMMISSIONS,\n      },\n    ],\n  },\n  {\n    name: 'Customers',\n    href: '/customers',\n    icon: Building2,\n    permission: PERMISSIONS.VIEW_CUSTOMERS,\n  },\n  {\n    name: 'Orders',\n    href: '/orders',\n    icon: ShoppingCart,\n    permission: PERMISSIONS.VIEW_ORDERS,\n  },\n  {\n    name: 'Products',\n    href: '/products',\n    icon: Package,\n    permission: PERMISSIONS.VIEW_PRODUCTS,\n  },\n  {\n    name: 'Administration',\n    href: '/admin',\n    icon: Settings,\n    permission: PERMISSIONS.MANAGE_SYSTEM_SETTINGS,\n    children: [\n      {\n        name: 'User Management',\n        href: '/admin/users',\n        permission: PERMISSIONS.VIEW_USERS,\n      },\n      {\n        name: 'System Settings',\n        href: '/admin/settings',\n        permission: PERMISSIONS.MANAGE_SYSTEM_SETTINGS,\n      },\n      {\n        name: 'Audit Logs',\n        href: '/admin/audit',\n        permission: PERMISSIONS.VIEW_AUDIT_LOGS,\n      },\n    ],\n  },\n]\n\nexport default function Sidebar() {\n  const { user } = useAuthStore()\n\n  const isNavItemVisible = (item: any) => {\n    if (!item.permission) return true\n    return hasPermission(item.permission)\n  }\n\n  return (\n    <div className=\"flex flex-col flex-1 min-h-0 bg-white border-r border-gray-200\">\n      {/* Logo */}\n      <div className=\"flex items-center h-16 flex-shrink-0 px-4 bg-primary-600\">\n        <div className=\"flex items-center\">\n          <div className=\"h-8 w-8 bg-white rounded-lg flex items-center justify-center\">\n            <span className=\"text-sm font-bold text-primary-600\">SS</span>\n          </div>\n          <span className=\"ml-2 text-xl font-bold text-white\">SalesSync</span>\n        </div>\n      </div>\n\n      {/* Navigation */}\n      <div className=\"flex-1 flex flex-col overflow-y-auto\">\n        <nav className=\"flex-1 px-2 py-4 space-y-1\">\n          {navigation.map((item) => {\n            if (!isNavItemVisible(item)) return null\n\n            return (\n              <div key={item.name}>\n                <NavLink\n                  to={item.href}\n                  className={({ isActive }) =>\n                    `nav-link ${isActive ? 'nav-link-active' : 'nav-link-inactive'}`\n                  }\n                >\n                  <item.icon className=\"mr-3 h-5 w-5 flex-shrink-0\" />\n                  {item.name}\n                </NavLink>\n\n                {/* Sub-navigation */}\n                {item.children && (\n                  <div className=\"ml-8 mt-1 space-y-1\">\n                    {item.children.map((child) => {\n                      if (!isNavItemVisible(child)) return null\n\n                      return (\n                        <NavLink\n                          key={child.name}\n                          to={child.href}\n                          className={({ isActive }) =>\n                            `nav-link text-sm ${isActive ? 'nav-link-active' : 'nav-link-inactive'}`\n                          }\n                        >\n                          {child.name}\n                        </NavLink>\n                      )\n                    })}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </nav>\n\n        {/* User info */}\n        <div className=\"flex-shrink-0 flex border-t border-gray-200 p-4\">\n          <div className=\"flex items-center\">\n            <div className=\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\">\n              <span className=\"text-sm font-medium text-primary-600\">\n                {user?.first_name?.[0]}{user?.last_name?.[0]}\n              </span>\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm font-medium text-gray-700\">\n                {user?.first_name} {user?.last_name}\n              </p>\n              <p className=\"text-xs text-gray-500 capitalize\">\n                {user?.role?.replace('_', ' ')}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import { useState } from 'react'\nimport { Menu, Bell, Search, User, LogOut, Settings } from 'lucide-react'\nimport { useAuthStore } from '../../store/auth.store'\n\ninterface HeaderProps {\n  onMenuClick: () => void\n}\n\nexport default function Header({ onMenuClick }: HeaderProps) {\n  const { user, logout } = useAuthStore()\n  const [showUserMenu, setShowUserMenu] = useState(false)\n  const [showNotifications, setShowNotifications] = useState(false)\n\n  const handleLogout = () => {\n    logout()\n  }\n\n  return (\n    <div className=\"sticky top-0 z-10 flex-shrink-0 flex h-16 bg-white shadow\">\n      {/* Mobile menu button */}\n      <button\n        type=\"button\"\n        className=\"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden\"\n        onClick={onMenuClick}\n      >\n        <Menu className=\"h-6 w-6\" />\n      </button>\n\n      <div className=\"flex-1 px-4 flex justify-between\">\n        {/* Search */}\n        <div className=\"flex-1 flex\">\n          <div className=\"w-full flex md:ml-0\">\n            <label htmlFor=\"search-field\" className=\"sr-only\">\n              Search\n            </label>\n            <div className=\"relative w-full text-gray-400 focus-within:text-gray-600\">\n              <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none\">\n                <Search className=\"h-5 w-5\" />\n              </div>\n              <input\n                id=\"search-field\"\n                className=\"block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent\"\n                placeholder=\"Search customers, orders, products...\"\n                type=\"search\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Right side */}\n        <div className=\"ml-4 flex items-center md:ml-6\">\n          {/* Notifications */}\n          <div className=\"relative\">\n            <button\n              type=\"button\"\n              className=\"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              onClick={() => setShowNotifications(!showNotifications)}\n            >\n              <Bell className=\"h-6 w-6\" />\n              {/* Notification badge */}\n              <span className=\"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full flex items-center justify-center\">\n                <span className=\"text-xs text-white\">3</span>\n              </span>\n            </button>\n\n            {/* Notifications dropdown */}\n            {showNotifications && (\n              <div className=\"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                <div className=\"py-1\">\n                  <div className=\"px-4 py-2 text-sm font-medium text-gray-900 border-b border-gray-200\">\n                    Notifications\n                  </div>\n                  <div className=\"px-4 py-3 text-sm text-gray-700 hover:bg-gray-100\">\n                    <div className=\"font-medium\">New board placement</div>\n                    <div className=\"text-gray-500\">John Doe placed a premium billboard</div>\n                    <div className=\"text-xs text-gray-400 mt-1\">2 minutes ago</div>\n                  </div>\n                  <div className=\"px-4 py-3 text-sm text-gray-700 hover:bg-gray-100\">\n                    <div className=\"font-medium\">Product distribution completed</div>\n                    <div className=\"text-gray-500\">Jane Smith completed delivery to ABC Store</div>\n                    <div className=\"text-xs text-gray-400 mt-1\">15 minutes ago</div>\n                  </div>\n                  <div className=\"px-4 py-3 text-sm text-gray-700 hover:bg-gray-100\">\n                    <div className=\"font-medium\">Low inventory alert</div>\n                    <div className=\"text-gray-500\">Premium Widget A is running low</div>\n                    <div className=\"text-xs text-gray-400 mt-1\">1 hour ago</div>\n                  </div>\n                  <div className=\"px-4 py-2 text-center border-t border-gray-200\">\n                    <button className=\"text-sm text-primary-600 hover:text-primary-500\">\n                      View all notifications\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Profile dropdown */}\n          <div className=\"ml-3 relative\">\n            <div>\n              <button\n                type=\"button\"\n                className=\"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                onClick={() => setShowUserMenu(!showUserMenu)}\n              >\n                <div className=\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-sm font-medium text-primary-600\">\n                    {user?.first_name?.[0]}{user?.last_name?.[0]}\n                  </span>\n                </div>\n              </button>\n            </div>\n\n            {/* User menu dropdown */}\n            {showUserMenu && (\n              <div className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                <div className=\"py-1\">\n                  <div className=\"px-4 py-2 text-sm text-gray-700 border-b border-gray-200\">\n                    <div className=\"font-medium\">{user?.first_name} {user?.last_name}</div>\n                    <div className=\"text-gray-500\">{user?.email}</div>\n                  </div>\n                  \n                  <button className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                    <User className=\"mr-3 h-4 w-4\" />\n                    Profile Settings\n                  </button>\n                  \n                  <button className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                    <Settings className=\"mr-3 h-4 w-4\" />\n                    Preferences\n                  </button>\n                  \n                  <div className=\"border-t border-gray-200\">\n                    <button \n                      onClick={handleLogout}\n                      className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    >\n                      <LogOut className=\"mr-3 h-4 w-4\" />\n                      Sign out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import { useState } from 'react'\nimport { Outlet } from 'react-router-dom'\nimport { Menu, X } from 'lucide-react'\nimport Sidebar from './Sidebar'\nimport Header from './Header'\n\nexport default function DashboardLayout() {\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Mobile sidebar overlay */}\n      {sidebarOpen && (\n        <div className=\"fixed inset-0 z-40 lg:hidden\">\n          <div \n            className=\"fixed inset-0 bg-black bg-opacity-25\"\n            onClick={() => setSidebarOpen(false)}\n          />\n          <div className=\"relative flex-1 flex flex-col max-w-xs w-full bg-white\">\n            <div className=\"absolute top-0 right-0 -mr-12 pt-2\">\n              <button\n                type=\"button\"\n                className=\"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white\"\n                onClick={() => setSidebarOpen(false)}\n              >\n                <X className=\"h-6 w-6 text-white\" />\n              </button>\n            </div>\n            <Sidebar />\n          </div>\n        </div>\n      )}\n\n      {/* Desktop sidebar */}\n      <div className=\"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0\">\n        <Sidebar />\n      </div>\n\n      {/* Main content */}\n      <div className=\"lg:pl-64 flex flex-col flex-1\">\n        {/* Header */}\n        <Header onMenuClick={() => setSidebarOpen(true)} />\n\n        {/* Page content */}\n        <main className=\"flex-1 pb-8\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n            <Outlet />\n          </div>\n        </main>\n      </div>\n    </div>\n  )\n}","import React from 'react';\n\nvar isCheckBoxInput = (element) => element.type === 'checkbox';\n\nvar isDateObject = (value) => value instanceof Date;\n\nvar isNullOrUndefined = (value) => value == null;\n\nconst isObjectType = (value) => typeof value === 'object';\nvar isObject = (value) => !isNullOrUndefined(value) &&\n    !Array.isArray(value) &&\n    isObjectType(value) &&\n    !isDateObject(value);\n\nvar getEventValue = (event) => isObject(event) && event.target\n    ? isCheckBoxInput(event.target)\n        ? event.target.checked\n        : event.target.value\n    : event;\n\nvar getNodeParentName = (name) => name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n\nvar isNameInFieldArray = (names, name) => names.has(getNodeParentName(name));\n\nvar isPlainObject = (tempObject) => {\n    const prototypeCopy = tempObject.constructor && tempObject.constructor.prototype;\n    return (isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf'));\n};\n\nvar isWeb = typeof window !== 'undefined' &&\n    typeof window.HTMLElement !== 'undefined' &&\n    typeof document !== 'undefined';\n\nfunction cloneObject(data) {\n    let copy;\n    const isArray = Array.isArray(data);\n    const isFileListInstance = typeof FileList !== 'undefined' ? data instanceof FileList : false;\n    if (data instanceof Date) {\n        copy = new Date(data);\n    }\n    else if (!(isWeb && (data instanceof Blob || isFileListInstance)) &&\n        (isArray || isObject(data))) {\n        copy = isArray ? [] : Object.create(Object.getPrototypeOf(data));\n        if (!isArray && !isPlainObject(data)) {\n            copy = data;\n        }\n        else {\n            for (const key in data) {\n                if (data.hasOwnProperty(key)) {\n                    copy[key] = cloneObject(data[key]);\n                }\n            }\n        }\n    }\n    else {\n        return data;\n    }\n    return copy;\n}\n\nvar isKey = (value) => /^\\w*$/.test(value);\n\nvar isUndefined = (val) => val === undefined;\n\nvar compact = (value) => Array.isArray(value) ? value.filter(Boolean) : [];\n\nvar stringToPath = (input) => compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n\nvar get = (object, path, defaultValue) => {\n    if (!path || !isObject(object)) {\n        return defaultValue;\n    }\n    const result = (isKey(path) ? [path] : stringToPath(path)).reduce((result, key) => isNullOrUndefined(result) ? result : result[key], object);\n    return isUndefined(result) || result === object\n        ? isUndefined(object[path])\n            ? defaultValue\n            : object[path]\n        : result;\n};\n\nvar isBoolean = (value) => typeof value === 'boolean';\n\nvar set = (object, path, value) => {\n    let index = -1;\n    const tempPath = isKey(path) ? [path] : stringToPath(path);\n    const length = tempPath.length;\n    const lastIndex = length - 1;\n    while (++index < length) {\n        const key = tempPath[index];\n        let newValue = value;\n        if (index !== lastIndex) {\n            const objValue = object[key];\n            newValue =\n                isObject(objValue) || Array.isArray(objValue)\n                    ? objValue\n                    : !isNaN(+tempPath[index + 1])\n                        ? []\n                        : {};\n        }\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n            return;\n        }\n        object[key] = newValue;\n        object = object[key];\n    }\n};\n\nconst EVENTS = {\n    BLUR: 'blur',\n    FOCUS_OUT: 'focusout',\n    CHANGE: 'change',\n};\nconst VALIDATION_MODE = {\n    onBlur: 'onBlur',\n    onChange: 'onChange',\n    onSubmit: 'onSubmit',\n    onTouched: 'onTouched',\n    all: 'all',\n};\nconst INPUT_VALIDATION_RULES = {\n    max: 'max',\n    min: 'min',\n    maxLength: 'maxLength',\n    minLength: 'minLength',\n    pattern: 'pattern',\n    required: 'required',\n    validate: 'validate',\n};\n\nconst HookFormContext = React.createContext(null);\nHookFormContext.displayName = 'HookFormContext';\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext)  [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst useFormContext = () => React.useContext(HookFormContext);\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://reactjs.org/docs/context.html) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext)  [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nconst FormProvider = (props) => {\n    const { children, ...data } = props;\n    return (React.createElement(HookFormContext.Provider, { value: data }, children));\n};\n\nvar getProxyFormState = (formState, control, localProxyFormState, isRoot = true) => {\n    const result = {\n        defaultValues: control._defaultValues,\n    };\n    for (const key in formState) {\n        Object.defineProperty(result, key, {\n            get: () => {\n                const _key = key;\n                if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n                    control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n                }\n                localProxyFormState && (localProxyFormState[_key] = true);\n                return formState[_key];\n            },\n        });\n    }\n    return result;\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate)  [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFormState(props) {\n    const methods = useFormContext();\n    const { control = methods.control, disabled, name, exact } = props || {};\n    const [formState, updateFormState] = React.useState(control._formState);\n    const _localProxyFormState = React.useRef({\n        isDirty: false,\n        isLoading: false,\n        dirtyFields: false,\n        touchedFields: false,\n        validatingFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    });\n    useIsomorphicLayoutEffect(() => control._subscribe({\n        name,\n        formState: _localProxyFormState.current,\n        exact,\n        callback: (formState) => {\n            !disabled &&\n                updateFormState({\n                    ...control._formState,\n                    ...formState,\n                });\n        },\n    }), [name, disabled, exact]);\n    React.useEffect(() => {\n        _localProxyFormState.current.isValid && control._setValid(true);\n    }, [control]);\n    return React.useMemo(() => getProxyFormState(formState, control, _localProxyFormState.current, false), [formState, control]);\n}\n\nvar isString = (value) => typeof value === 'string';\n\nvar generateWatchOutput = (names, _names, formValues, isGlobal, defaultValue) => {\n    if (isString(names)) {\n        isGlobal && _names.watch.add(names);\n        return get(formValues, names, defaultValue);\n    }\n    if (Array.isArray(names)) {\n        return names.map((fieldName) => (isGlobal && _names.watch.add(fieldName),\n            get(formValues, fieldName)));\n    }\n    isGlobal && (_names.watchAll = true);\n    return formValues;\n};\n\nvar isPrimitive = (value) => isNullOrUndefined(value) || !isObjectType(value);\n\nfunction deepEqual(object1, object2, _internal_visited = new WeakSet()) {\n    if (isPrimitive(object1) || isPrimitive(object2)) {\n        return object1 === object2;\n    }\n    if (isDateObject(object1) && isDateObject(object2)) {\n        return object1.getTime() === object2.getTime();\n    }\n    const keys1 = Object.keys(object1);\n    const keys2 = Object.keys(object2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    if (_internal_visited.has(object1) || _internal_visited.has(object2)) {\n        return true;\n    }\n    _internal_visited.add(object1);\n    _internal_visited.add(object2);\n    for (const key of keys1) {\n        const val1 = object1[key];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (key !== 'ref') {\n            const val2 = object2[key];\n            if ((isDateObject(val1) && isDateObject(val2)) ||\n                (isObject(val1) && isObject(val2)) ||\n                (Array.isArray(val1) && Array.isArray(val2))\n                ? !deepEqual(val1, val2, _internal_visited)\n                : val1 !== val2) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch)  [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nfunction useWatch(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, defaultValue, disabled, exact, compute, } = props || {};\n    const _defaultValue = React.useRef(defaultValue);\n    const _compute = React.useRef(compute);\n    const _computeFormValues = React.useRef(undefined);\n    _compute.current = compute;\n    const defaultValueMemo = React.useMemo(() => control._getWatch(name, _defaultValue.current), [control, name]);\n    const [value, updateValue] = React.useState(_compute.current ? _compute.current(defaultValueMemo) : defaultValueMemo);\n    useIsomorphicLayoutEffect(() => control._subscribe({\n        name,\n        formState: {\n            values: true,\n        },\n        exact,\n        callback: (formState) => {\n            if (!disabled) {\n                const formValues = generateWatchOutput(name, control._names, formState.values || control._formValues, false, _defaultValue.current);\n                if (_compute.current) {\n                    const computedFormValues = _compute.current(formValues);\n                    if (!deepEqual(computedFormValues, _computeFormValues.current)) {\n                        updateValue(computedFormValues);\n                        _computeFormValues.current = computedFormValues;\n                    }\n                }\n                else {\n                    updateValue(formValues);\n                }\n            }\n        },\n    }), [control, disabled, name, exact]);\n    React.useEffect(() => control._removeUnmounted());\n    return value;\n}\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller)  [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nfunction useController(props) {\n    const methods = useFormContext();\n    const { name, disabled, control = methods.control, shouldUnregister, defaultValue, } = props;\n    const isArrayField = isNameInFieldArray(control._names.array, name);\n    const defaultValueMemo = React.useMemo(() => get(control._formValues, name, get(control._defaultValues, name, defaultValue)), [control, name, defaultValue]);\n    const value = useWatch({\n        control,\n        name,\n        defaultValue: defaultValueMemo,\n        exact: true,\n    });\n    const formState = useFormState({\n        control,\n        name,\n        exact: true,\n    });\n    const _props = React.useRef(props);\n    const _previousNameRef = React.useRef(undefined);\n    const _registerProps = React.useRef(control.register(name, {\n        ...props.rules,\n        value,\n        ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }));\n    _props.current = props;\n    const fieldState = React.useMemo(() => Object.defineProperties({}, {\n        invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n        },\n        isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n        },\n        isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n        },\n        isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n        },\n        error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n        },\n    }), [formState, name]);\n    const onChange = React.useCallback((event) => _registerProps.current.onChange({\n        target: {\n            value: getEventValue(event),\n            name: name,\n        },\n        type: EVENTS.CHANGE,\n    }), [name]);\n    const onBlur = React.useCallback(() => _registerProps.current.onBlur({\n        target: {\n            value: get(control._formValues, name),\n            name: name,\n        },\n        type: EVENTS.BLUR,\n    }), [name, control._formValues]);\n    const ref = React.useCallback((elm) => {\n        const field = get(control._fields, name);\n        if (field && elm) {\n            field._f.ref = {\n                focus: () => elm.focus && elm.focus(),\n                select: () => elm.select && elm.select(),\n                setCustomValidity: (message) => elm.setCustomValidity(message),\n                reportValidity: () => elm.reportValidity(),\n            };\n        }\n    }, [control._fields, name]);\n    const field = React.useMemo(() => ({\n        name,\n        value,\n        ...(isBoolean(disabled) || formState.disabled\n            ? { disabled: formState.disabled || disabled }\n            : {}),\n        onChange,\n        onBlur,\n        ref,\n    }), [name, disabled, formState.disabled, onChange, onBlur, ref, value]);\n    React.useEffect(() => {\n        const _shouldUnregisterField = control._options.shouldUnregister || shouldUnregister;\n        const previousName = _previousNameRef.current;\n        if (previousName && previousName !== name && !isArrayField) {\n            control.unregister(previousName);\n        }\n        control.register(name, {\n            ..._props.current.rules,\n            ...(isBoolean(_props.current.disabled)\n                ? { disabled: _props.current.disabled }\n                : {}),\n        });\n        const updateMounted = (name, value) => {\n            const field = get(control._fields, name);\n            if (field && field._f) {\n                field._f.mount = value;\n            }\n        };\n        updateMounted(name, true);\n        if (_shouldUnregisterField) {\n            const value = cloneObject(get(control._options.defaultValues, name, _props.current.defaultValue));\n            set(control._defaultValues, name, value);\n            if (isUndefined(get(control._formValues, name))) {\n                set(control._formValues, name, value);\n            }\n        }\n        !isArrayField && control.register(name);\n        _previousNameRef.current = name;\n        return () => {\n            (isArrayField\n                ? _shouldUnregisterField && !control._state.action\n                : _shouldUnregisterField)\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, isArrayField, shouldUnregister]);\n    React.useEffect(() => {\n        control._setDisabledField({\n            disabled,\n            name,\n        });\n    }, [disabled, name, control]);\n    return React.useMemo(() => ({\n        field,\n        formState,\n        fieldState,\n    }), [field, formState, fieldState]);\n}\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller)  [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw)  [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = (props) => props.render(useController(props));\n\nconst flatten = (obj) => {\n    const output = {};\n    for (const key of Object.keys(obj)) {\n        if (isObjectType(obj[key]) && obj[key] !== null) {\n            const nested = flatten(obj[key]);\n            for (const nestedKey of Object.keys(nested)) {\n                output[`${key}.${nestedKey}`] = nested[nestedKey];\n            }\n        }\n        else {\n            output[key] = obj[key];\n        }\n    }\n    return output;\n};\n\nconst POST_REQUEST = 'post';\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form(props) {\n    const methods = useFormContext();\n    const [mounted, setMounted] = React.useState(false);\n    const { control = methods.control, onSubmit, children, action, method = POST_REQUEST, headers, encType, onError, render, onSuccess, validateStatus, ...rest } = props;\n    const submit = async (event) => {\n        let hasError = false;\n        let type = '';\n        await control.handleSubmit(async (data) => {\n            const formData = new FormData();\n            let formDataJson = '';\n            try {\n                formDataJson = JSON.stringify(data);\n            }\n            catch (_a) { }\n            const flattenFormValues = flatten(control._formValues);\n            for (const key in flattenFormValues) {\n                formData.append(key, flattenFormValues[key]);\n            }\n            if (onSubmit) {\n                await onSubmit({\n                    data,\n                    event,\n                    method,\n                    formData,\n                    formDataJson,\n                });\n            }\n            if (action) {\n                try {\n                    const shouldStringifySubmissionData = [\n                        headers && headers['Content-Type'],\n                        encType,\n                    ].some((value) => value && value.includes('json'));\n                    const response = await fetch(String(action), {\n                        method,\n                        headers: {\n                            ...headers,\n                            ...(encType && encType !== 'multipart/form-data'\n                                ? { 'Content-Type': encType }\n                                : {}),\n                        },\n                        body: shouldStringifySubmissionData ? formDataJson : formData,\n                    });\n                    if (response &&\n                        (validateStatus\n                            ? !validateStatus(response.status)\n                            : response.status < 200 || response.status >= 300)) {\n                        hasError = true;\n                        onError && onError({ response });\n                        type = String(response.status);\n                    }\n                    else {\n                        onSuccess && onSuccess({ response });\n                    }\n                }\n                catch (error) {\n                    hasError = true;\n                    onError && onError({ error });\n                }\n            }\n        })(event);\n        if (hasError && props.control) {\n            props.control._subjects.state.next({\n                isSubmitSuccessful: false,\n            });\n            props.control.setError('root.server', {\n                type,\n            });\n        }\n    };\n    React.useEffect(() => {\n        setMounted(true);\n    }, []);\n    return render ? (React.createElement(React.Fragment, null, render({\n        submit,\n    }))) : (React.createElement(\"form\", { noValidate: mounted, action: action, method: method, encType: encType, onSubmit: submit, ...rest }, children));\n}\n\nvar appendErrors = (name, validateAllFieldCriteria, errors, type, message) => validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n            ...(errors[name] && errors[name].types ? errors[name].types : {}),\n            [type]: message || true,\n        },\n    }\n    : {};\n\nvar convertToArrayPayload = (value) => (Array.isArray(value) ? value : [value]);\n\nvar createSubject = () => {\n    let _observers = [];\n    const next = (value) => {\n        for (const observer of _observers) {\n            observer.next && observer.next(value);\n        }\n    };\n    const subscribe = (observer) => {\n        _observers.push(observer);\n        return {\n            unsubscribe: () => {\n                _observers = _observers.filter((o) => o !== observer);\n            },\n        };\n    };\n    const unsubscribe = () => {\n        _observers = [];\n    };\n    return {\n        get observers() {\n            return _observers;\n        },\n        next,\n        subscribe,\n        unsubscribe,\n    };\n};\n\nfunction extractFormValues(fieldsState, formValues) {\n    const values = {};\n    for (const key in fieldsState) {\n        if (fieldsState.hasOwnProperty(key)) {\n            const fieldState = fieldsState[key];\n            const fieldValue = formValues[key];\n            if (fieldState && isObject(fieldState) && fieldValue) {\n                const nestedFieldsState = extractFormValues(fieldState, fieldValue);\n                if (isObject(nestedFieldsState)) {\n                    values[key] = nestedFieldsState;\n                }\n            }\n            else if (fieldsState[key]) {\n                values[key] = fieldValue;\n            }\n        }\n    }\n    return values;\n}\n\nvar isEmptyObject = (value) => isObject(value) && !Object.keys(value).length;\n\nvar isFileInput = (element) => element.type === 'file';\n\nvar isFunction = (value) => typeof value === 'function';\n\nvar isHTMLElement = (value) => {\n    if (!isWeb) {\n        return false;\n    }\n    const owner = value ? value.ownerDocument : 0;\n    return (value instanceof\n        (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement));\n};\n\nvar isMultipleSelect = (element) => element.type === `select-multiple`;\n\nvar isRadioInput = (element) => element.type === 'radio';\n\nvar isRadioOrCheckbox = (ref) => isRadioInput(ref) || isCheckBoxInput(ref);\n\nvar live = (ref) => isHTMLElement(ref) && ref.isConnected;\n\nfunction baseGet(object, updatePath) {\n    const length = updatePath.slice(0, -1).length;\n    let index = 0;\n    while (index < length) {\n        object = isUndefined(object) ? index++ : object[updatePath[index++]];\n    }\n    return object;\n}\nfunction isEmptyArray(obj) {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction unset(object, path) {\n    const paths = Array.isArray(path)\n        ? path\n        : isKey(path)\n            ? [path]\n            : stringToPath(path);\n    const childObject = paths.length === 1 ? object : baseGet(object, paths);\n    const index = paths.length - 1;\n    const key = paths[index];\n    if (childObject) {\n        delete childObject[key];\n    }\n    if (index !== 0 &&\n        ((isObject(childObject) && isEmptyObject(childObject)) ||\n            (Array.isArray(childObject) && isEmptyArray(childObject)))) {\n        unset(object, paths.slice(0, -1));\n    }\n    return object;\n}\n\nvar objectHasFunction = (data) => {\n    for (const key in data) {\n        if (isFunction(data[key])) {\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction isTraversable(value) {\n    return Array.isArray(value) || (isObject(value) && !objectHasFunction(value));\n}\nfunction markFieldsDirty(data, fields = {}) {\n    for (const key in data) {\n        if (isTraversable(data[key])) {\n            fields[key] = Array.isArray(data[key]) ? [] : {};\n            markFieldsDirty(data[key], fields[key]);\n        }\n        else if (!isUndefined(data[key])) {\n            fields[key] = true;\n        }\n    }\n    return fields;\n}\nfunction getDirtyFields(data, formValues, dirtyFieldsFromValues) {\n    if (!dirtyFieldsFromValues) {\n        dirtyFieldsFromValues = markFieldsDirty(formValues);\n    }\n    for (const key in data) {\n        if (isTraversable(data[key])) {\n            if (isUndefined(formValues) || isPrimitive(dirtyFieldsFromValues[key])) {\n                dirtyFieldsFromValues[key] = markFieldsDirty(data[key], Array.isArray(data[key]) ? [] : {});\n            }\n            else {\n                getDirtyFields(data[key], isNullOrUndefined(formValues) ? {} : formValues[key], dirtyFieldsFromValues[key]);\n            }\n        }\n        else {\n            dirtyFieldsFromValues[key] = !deepEqual(data[key], formValues[key]);\n        }\n    }\n    return dirtyFieldsFromValues;\n}\n\nconst defaultResult = {\n    value: false,\n    isValid: false,\n};\nconst validResult = { value: true, isValid: true };\nvar getCheckboxValue = (options) => {\n    if (Array.isArray(options)) {\n        if (options.length > 1) {\n            const values = options\n                .filter((option) => option && option.checked && !option.disabled)\n                .map((option) => option.value);\n            return { value: values, isValid: !!values.length };\n        }\n        return options[0].checked && !options[0].disabled\n            ? // @ts-expect-error expected to work in the browser\n                options[0].attributes && !isUndefined(options[0].attributes.value)\n                    ? isUndefined(options[0].value) || options[0].value === ''\n                        ? validResult\n                        : { value: options[0].value, isValid: true }\n                    : validResult\n            : defaultResult;\n    }\n    return defaultResult;\n};\n\nvar getFieldValueAs = (value, { valueAsNumber, valueAsDate, setValueAs }) => isUndefined(value)\n    ? value\n    : valueAsNumber\n        ? value === ''\n            ? NaN\n            : value\n                ? +value\n                : value\n        : valueAsDate && isString(value)\n            ? new Date(value)\n            : setValueAs\n                ? setValueAs(value)\n                : value;\n\nconst defaultReturn = {\n    isValid: false,\n    value: null,\n};\nvar getRadioValue = (options) => Array.isArray(options)\n    ? options.reduce((previous, option) => option && option.checked && !option.disabled\n        ? {\n            isValid: true,\n            value: option.value,\n        }\n        : previous, defaultReturn)\n    : defaultReturn;\n\nfunction getFieldValue(_f) {\n    const ref = _f.ref;\n    if (isFileInput(ref)) {\n        return ref.files;\n    }\n    if (isRadioInput(ref)) {\n        return getRadioValue(_f.refs).value;\n    }\n    if (isMultipleSelect(ref)) {\n        return [...ref.selectedOptions].map(({ value }) => value);\n    }\n    if (isCheckBoxInput(ref)) {\n        return getCheckboxValue(_f.refs).value;\n    }\n    return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n\nvar getResolverOptions = (fieldsNames, _fields, criteriaMode, shouldUseNativeValidation) => {\n    const fields = {};\n    for (const name of fieldsNames) {\n        const field = get(_fields, name);\n        field && set(fields, name, field._f);\n    }\n    return {\n        criteriaMode,\n        names: [...fieldsNames],\n        fields,\n        shouldUseNativeValidation,\n    };\n};\n\nvar isRegex = (value) => value instanceof RegExp;\n\nvar getRuleValue = (rule) => isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n        ? rule.source\n        : isObject(rule)\n            ? isRegex(rule.value)\n                ? rule.value.source\n                : rule.value\n            : rule;\n\nvar getValidationModes = (mode) => ({\n    isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n    isOnBlur: mode === VALIDATION_MODE.onBlur,\n    isOnChange: mode === VALIDATION_MODE.onChange,\n    isOnAll: mode === VALIDATION_MODE.all,\n    isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\nvar hasPromiseValidation = (fieldReference) => !!fieldReference &&\n    !!fieldReference.validate &&\n    !!((isFunction(fieldReference.validate) &&\n        fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n        (isObject(fieldReference.validate) &&\n            Object.values(fieldReference.validate).find((validateFunction) => validateFunction.constructor.name === ASYNC_FUNCTION)));\n\nvar hasValidation = (options) => options.mount &&\n    (options.required ||\n        options.min ||\n        options.max ||\n        options.maxLength ||\n        options.minLength ||\n        options.pattern ||\n        options.validate);\n\nvar isWatched = (name, _names, isBlurEvent) => !isBlurEvent &&\n    (_names.watchAll ||\n        _names.watch.has(name) ||\n        [..._names.watch].some((watchName) => name.startsWith(watchName) &&\n            /^\\.\\w+/.test(name.slice(watchName.length))));\n\nconst iterateFieldsByAction = (fields, action, fieldsNames, abortEarly) => {\n    for (const key of fieldsNames || Object.keys(fields)) {\n        const field = get(fields, key);\n        if (field) {\n            const { _f, ...currentField } = field;\n            if (_f) {\n                if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n                    return true;\n                }\n                else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n                    return true;\n                }\n                else {\n                    if (iterateFieldsByAction(currentField, action)) {\n                        break;\n                    }\n                }\n            }\n            else if (isObject(currentField)) {\n                if (iterateFieldsByAction(currentField, action)) {\n                    break;\n                }\n            }\n        }\n    }\n    return;\n};\n\nfunction schemaErrorLookup(errors, _fields, name) {\n    const error = get(errors, name);\n    if (error || isKey(name)) {\n        return {\n            error,\n            name,\n        };\n    }\n    const names = name.split('.');\n    while (names.length) {\n        const fieldName = names.join('.');\n        const field = get(_fields, fieldName);\n        const foundError = get(errors, fieldName);\n        if (field && !Array.isArray(field) && name !== fieldName) {\n            return { name };\n        }\n        if (foundError && foundError.type) {\n            return {\n                name: fieldName,\n                error: foundError,\n            };\n        }\n        if (foundError && foundError.root && foundError.root.type) {\n            return {\n                name: `${fieldName}.root`,\n                error: foundError.root,\n            };\n        }\n        names.pop();\n    }\n    return {\n        name,\n    };\n}\n\nvar shouldRenderFormState = (formStateData, _proxyFormState, updateFormState, isRoot) => {\n    updateFormState(formStateData);\n    const { name, ...formState } = formStateData;\n    return (isEmptyObject(formState) ||\n        Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n        Object.keys(formState).find((key) => _proxyFormState[key] ===\n            (!isRoot || VALIDATION_MODE.all)));\n};\n\nvar shouldSubscribeByName = (name, signalName, exact) => !name ||\n    !signalName ||\n    name === signalName ||\n    convertToArrayPayload(name).some((currentName) => currentName &&\n        (exact\n            ? currentName === signalName\n            : currentName.startsWith(signalName) ||\n                signalName.startsWith(currentName)));\n\nvar skipValidation = (isBlurEvent, isTouched, isSubmitted, reValidateMode, mode) => {\n    if (mode.isOnAll) {\n        return false;\n    }\n    else if (!isSubmitted && mode.isOnTouch) {\n        return !(isTouched || isBlurEvent);\n    }\n    else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n        return !isBlurEvent;\n    }\n    else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n        return isBlurEvent;\n    }\n    return true;\n};\n\nvar unsetEmptyArray = (ref, name) => !compact(get(ref, name)).length && unset(ref, name);\n\nvar updateFieldArrayRootError = (errors, error, name) => {\n    const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n    set(fieldArrayErrors, 'root', error[name]);\n    set(errors, name, fieldArrayErrors);\n    return errors;\n};\n\nfunction getValidateError(result, ref, type = 'validate') {\n    if (isString(result) ||\n        (Array.isArray(result) && result.every(isString)) ||\n        (isBoolean(result) && !result)) {\n        return {\n            type,\n            message: isString(result) ? result : '',\n            ref,\n        };\n    }\n}\n\nvar getValueAndMessage = (validationData) => isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n    };\n\nvar validateField = async (field, disabledFieldNames, formValues, validateAllFieldCriteria, shouldUseNativeValidation, isFieldArray) => {\n    const { ref, refs, required, maxLength, minLength, min, max, pattern, validate, name, valueAsNumber, mount, } = field._f;\n    const inputValue = get(formValues, name);\n    if (!mount || disabledFieldNames.has(name)) {\n        return {};\n    }\n    const inputRef = refs ? refs[0] : ref;\n    const setCustomValidity = (message) => {\n        if (shouldUseNativeValidation && inputRef.reportValidity) {\n            inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n            inputRef.reportValidity();\n        }\n    };\n    const error = {};\n    const isRadio = isRadioInput(ref);\n    const isCheckBox = isCheckBoxInput(ref);\n    const isRadioOrCheckbox = isRadio || isCheckBox;\n    const isEmpty = ((valueAsNumber || isFileInput(ref)) &&\n        isUndefined(ref.value) &&\n        isUndefined(inputValue)) ||\n        (isHTMLElement(ref) && ref.value === '') ||\n        inputValue === '' ||\n        (Array.isArray(inputValue) && !inputValue.length);\n    const appendErrorsCurry = appendErrors.bind(null, name, validateAllFieldCriteria, error);\n    const getMinMaxMessage = (exceedMax, maxLengthMessage, minLengthMessage, maxType = INPUT_VALIDATION_RULES.maxLength, minType = INPUT_VALIDATION_RULES.minLength) => {\n        const message = exceedMax ? maxLengthMessage : minLengthMessage;\n        error[name] = {\n            type: exceedMax ? maxType : minType,\n            message,\n            ref,\n            ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n        };\n    };\n    if (isFieldArray\n        ? !Array.isArray(inputValue) || !inputValue.length\n        : required &&\n            ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n                (isBoolean(inputValue) && !inputValue) ||\n                (isCheckBox && !getCheckboxValue(refs).isValid) ||\n                (isRadio && !getRadioValue(refs).isValid))) {\n        const { value, message } = isString(required)\n            ? { value: !!required, message: required }\n            : getValueAndMessage(required);\n        if (value) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.required,\n                message,\n                ref: inputRef,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n        let exceedMax;\n        let exceedMin;\n        const maxOutput = getValueAndMessage(max);\n        const minOutput = getValueAndMessage(min);\n        if (!isNullOrUndefined(inputValue) && !isNaN(inputValue)) {\n            const valueNumber = ref.valueAsNumber ||\n                (inputValue ? +inputValue : inputValue);\n            if (!isNullOrUndefined(maxOutput.value)) {\n                exceedMax = valueNumber > maxOutput.value;\n            }\n            if (!isNullOrUndefined(minOutput.value)) {\n                exceedMin = valueNumber < minOutput.value;\n            }\n        }\n        else {\n            const valueDate = ref.valueAsDate || new Date(inputValue);\n            const convertTimeToDate = (time) => new Date(new Date().toDateString() + ' ' + time);\n            const isTime = ref.type == 'time';\n            const isWeek = ref.type == 'week';\n            if (isString(maxOutput.value) && inputValue) {\n                exceedMax = isTime\n                    ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n                    : isWeek\n                        ? inputValue > maxOutput.value\n                        : valueDate > new Date(maxOutput.value);\n            }\n            if (isString(minOutput.value) && inputValue) {\n                exceedMin = isTime\n                    ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n                    : isWeek\n                        ? inputValue < minOutput.value\n                        : valueDate < new Date(minOutput.value);\n            }\n        }\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(!!exceedMax, maxOutput.message, minOutput.message, INPUT_VALIDATION_RULES.max, INPUT_VALIDATION_RULES.min);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if ((maxLength || minLength) &&\n        !isEmpty &&\n        (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))) {\n        const maxLengthOutput = getValueAndMessage(maxLength);\n        const minLengthOutput = getValueAndMessage(minLength);\n        const exceedMax = !isNullOrUndefined(maxLengthOutput.value) &&\n            inputValue.length > +maxLengthOutput.value;\n        const exceedMin = !isNullOrUndefined(minLengthOutput.value) &&\n            inputValue.length < +minLengthOutput.value;\n        if (exceedMax || exceedMin) {\n            getMinMaxMessage(exceedMax, maxLengthOutput.message, minLengthOutput.message);\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(error[name].message);\n                return error;\n            }\n        }\n    }\n    if (pattern && !isEmpty && isString(inputValue)) {\n        const { value: patternValue, message } = getValueAndMessage(pattern);\n        if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n            error[name] = {\n                type: INPUT_VALIDATION_RULES.pattern,\n                message,\n                ref,\n                ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n            };\n            if (!validateAllFieldCriteria) {\n                setCustomValidity(message);\n                return error;\n            }\n        }\n    }\n    if (validate) {\n        if (isFunction(validate)) {\n            const result = await validate(inputValue, formValues);\n            const validateError = getValidateError(result, inputRef);\n            if (validateError) {\n                error[name] = {\n                    ...validateError,\n                    ...appendErrorsCurry(INPUT_VALIDATION_RULES.validate, validateError.message),\n                };\n                if (!validateAllFieldCriteria) {\n                    setCustomValidity(validateError.message);\n                    return error;\n                }\n            }\n        }\n        else if (isObject(validate)) {\n            let validationResult = {};\n            for (const key in validate) {\n                if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n                    break;\n                }\n                const validateError = getValidateError(await validate[key](inputValue, formValues), inputRef, key);\n                if (validateError) {\n                    validationResult = {\n                        ...validateError,\n                        ...appendErrorsCurry(key, validateError.message),\n                    };\n                    setCustomValidity(validateError.message);\n                    if (validateAllFieldCriteria) {\n                        error[name] = validationResult;\n                    }\n                }\n            }\n            if (!isEmptyObject(validationResult)) {\n                error[name] = {\n                    ref: inputRef,\n                    ...validationResult,\n                };\n                if (!validateAllFieldCriteria) {\n                    return error;\n                }\n            }\n        }\n    }\n    setCustomValidity(true);\n    return error;\n};\n\nconst defaultOptions = {\n    mode: VALIDATION_MODE.onSubmit,\n    reValidateMode: VALIDATION_MODE.onChange,\n    shouldFocusError: true,\n};\nfunction createFormControl(props = {}) {\n    let _options = {\n        ...defaultOptions,\n        ...props,\n    };\n    let _formState = {\n        submitCount: 0,\n        isDirty: false,\n        isReady: false,\n        isLoading: isFunction(_options.defaultValues),\n        isValidating: false,\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        touchedFields: {},\n        dirtyFields: {},\n        validatingFields: {},\n        errors: _options.errors || {},\n        disabled: _options.disabled || false,\n    };\n    let _fields = {};\n    let _defaultValues = isObject(_options.defaultValues) || isObject(_options.values)\n        ? cloneObject(_options.defaultValues || _options.values) || {}\n        : {};\n    let _formValues = _options.shouldUnregister\n        ? {}\n        : cloneObject(_defaultValues);\n    let _state = {\n        action: false,\n        mount: false,\n        watch: false,\n    };\n    let _names = {\n        mount: new Set(),\n        disabled: new Set(),\n        unMount: new Set(),\n        array: new Set(),\n        watch: new Set(),\n    };\n    let delayErrorCallback;\n    let timer = 0;\n    const _proxyFormState = {\n        isDirty: false,\n        dirtyFields: false,\n        validatingFields: false,\n        touchedFields: false,\n        isValidating: false,\n        isValid: false,\n        errors: false,\n    };\n    let _proxySubscribeFormState = {\n        ..._proxyFormState,\n    };\n    const _subjects = {\n        array: createSubject(),\n        state: createSubject(),\n    };\n    const shouldDisplayAllAssociatedErrors = _options.criteriaMode === VALIDATION_MODE.all;\n    const debounce = (callback) => (wait) => {\n        clearTimeout(timer);\n        timer = setTimeout(callback, wait);\n    };\n    const _setValid = async (shouldUpdateValid) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValid ||\n                _proxySubscribeFormState.isValid ||\n                shouldUpdateValid)) {\n            const isValid = _options.resolver\n                ? isEmptyObject((await _runSchema()).errors)\n                : await executeBuiltInValidation(_fields, true);\n            if (isValid !== _formState.isValid) {\n                _subjects.state.next({\n                    isValid,\n                });\n            }\n        }\n    };\n    const _updateIsValidating = (names, isValidating) => {\n        if (!_options.disabled &&\n            (_proxyFormState.isValidating ||\n                _proxyFormState.validatingFields ||\n                _proxySubscribeFormState.isValidating ||\n                _proxySubscribeFormState.validatingFields)) {\n            (names || Array.from(_names.mount)).forEach((name) => {\n                if (name) {\n                    isValidating\n                        ? set(_formState.validatingFields, name, isValidating)\n                        : unset(_formState.validatingFields, name);\n                }\n            });\n            _subjects.state.next({\n                validatingFields: _formState.validatingFields,\n                isValidating: !isEmptyObject(_formState.validatingFields),\n            });\n        }\n    };\n    const _setFieldArray = (name, values = [], method, args, shouldSetValues = true, shouldUpdateFieldsAndState = true) => {\n        if (args && method && !_options.disabled) {\n            _state.action = true;\n            if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n                const fieldValues = method(get(_fields, name), args.argA, args.argB);\n                shouldSetValues && set(_fields, name, fieldValues);\n            }\n            if (shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.errors, name))) {\n                const errors = method(get(_formState.errors, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.errors, name, errors);\n                unsetEmptyArray(_formState.errors, name);\n            }\n            if ((_proxyFormState.touchedFields ||\n                _proxySubscribeFormState.touchedFields) &&\n                shouldUpdateFieldsAndState &&\n                Array.isArray(get(_formState.touchedFields, name))) {\n                const touchedFields = method(get(_formState.touchedFields, name), args.argA, args.argB);\n                shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n            }\n            if (_proxyFormState.dirtyFields || _proxySubscribeFormState.dirtyFields) {\n                _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n            }\n            _subjects.state.next({\n                name,\n                isDirty: _getDirty(name, values),\n                dirtyFields: _formState.dirtyFields,\n                errors: _formState.errors,\n                isValid: _formState.isValid,\n            });\n        }\n        else {\n            set(_formValues, name, values);\n        }\n    };\n    const updateErrors = (name, error) => {\n        set(_formState.errors, name, error);\n        _subjects.state.next({\n            errors: _formState.errors,\n        });\n    };\n    const _setErrors = (errors) => {\n        _formState.errors = errors;\n        _subjects.state.next({\n            errors: _formState.errors,\n            isValid: false,\n        });\n    };\n    const updateValidAndValue = (name, shouldSkipSetValueAs, value, ref) => {\n        const field = get(_fields, name);\n        if (field) {\n            const defaultValue = get(_formValues, name, isUndefined(value) ? get(_defaultValues, name) : value);\n            isUndefined(defaultValue) ||\n                (ref && ref.defaultChecked) ||\n                shouldSkipSetValueAs\n                ? set(_formValues, name, shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f))\n                : setFieldValue(name, defaultValue);\n            _state.mount && _setValid();\n        }\n    };\n    const updateTouchAndDirty = (name, fieldValue, isBlurEvent, shouldDirty, shouldRender) => {\n        let shouldUpdateField = false;\n        let isPreviousDirty = false;\n        const output = {\n            name,\n        };\n        if (!_options.disabled) {\n            if (!isBlurEvent || shouldDirty) {\n                if (_proxyFormState.isDirty || _proxySubscribeFormState.isDirty) {\n                    isPreviousDirty = _formState.isDirty;\n                    _formState.isDirty = output.isDirty = _getDirty();\n                    shouldUpdateField = isPreviousDirty !== output.isDirty;\n                }\n                const isCurrentFieldPristine = deepEqual(get(_defaultValues, name), fieldValue);\n                isPreviousDirty = !!get(_formState.dirtyFields, name);\n                isCurrentFieldPristine\n                    ? unset(_formState.dirtyFields, name)\n                    : set(_formState.dirtyFields, name, true);\n                output.dirtyFields = _formState.dirtyFields;\n                shouldUpdateField =\n                    shouldUpdateField ||\n                        ((_proxyFormState.dirtyFields ||\n                            _proxySubscribeFormState.dirtyFields) &&\n                            isPreviousDirty !== !isCurrentFieldPristine);\n            }\n            if (isBlurEvent) {\n                const isPreviousFieldTouched = get(_formState.touchedFields, name);\n                if (!isPreviousFieldTouched) {\n                    set(_formState.touchedFields, name, isBlurEvent);\n                    output.touchedFields = _formState.touchedFields;\n                    shouldUpdateField =\n                        shouldUpdateField ||\n                            ((_proxyFormState.touchedFields ||\n                                _proxySubscribeFormState.touchedFields) &&\n                                isPreviousFieldTouched !== isBlurEvent);\n                }\n            }\n            shouldUpdateField && shouldRender && _subjects.state.next(output);\n        }\n        return shouldUpdateField ? output : {};\n    };\n    const shouldRenderByError = (name, isValid, error, fieldState) => {\n        const previousFieldError = get(_formState.errors, name);\n        const shouldUpdateValid = (_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n            isBoolean(isValid) &&\n            _formState.isValid !== isValid;\n        if (_options.delayError && error) {\n            delayErrorCallback = debounce(() => updateErrors(name, error));\n            delayErrorCallback(_options.delayError);\n        }\n        else {\n            clearTimeout(timer);\n            delayErrorCallback = null;\n            error\n                ? set(_formState.errors, name, error)\n                : unset(_formState.errors, name);\n        }\n        if ((error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n            !isEmptyObject(fieldState) ||\n            shouldUpdateValid) {\n            const updatedFormState = {\n                ...fieldState,\n                ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n                errors: _formState.errors,\n                name,\n            };\n            _formState = {\n                ..._formState,\n                ...updatedFormState,\n            };\n            _subjects.state.next(updatedFormState);\n        }\n    };\n    const _runSchema = async (name) => {\n        _updateIsValidating(name, true);\n        const result = await _options.resolver(_formValues, _options.context, getResolverOptions(name || _names.mount, _fields, _options.criteriaMode, _options.shouldUseNativeValidation));\n        _updateIsValidating(name);\n        return result;\n    };\n    const executeSchemaAndUpdateState = async (names) => {\n        const { errors } = await _runSchema(names);\n        if (names) {\n            for (const name of names) {\n                const error = get(errors, name);\n                error\n                    ? set(_formState.errors, name, error)\n                    : unset(_formState.errors, name);\n            }\n        }\n        else {\n            _formState.errors = errors;\n        }\n        return errors;\n    };\n    const executeBuiltInValidation = async (fields, shouldOnlyCheckValid, context = {\n        valid: true,\n    }) => {\n        for (const name in fields) {\n            const field = fields[name];\n            if (field) {\n                const { _f, ...fieldValue } = field;\n                if (_f) {\n                    const isFieldArrayRoot = _names.array.has(_f.name);\n                    const isPromiseFunction = field._f && hasPromiseValidation(field._f);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([_f.name], true);\n                    }\n                    const fieldError = await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation && !shouldOnlyCheckValid, isFieldArrayRoot);\n                    if (isPromiseFunction && _proxyFormState.validatingFields) {\n                        _updateIsValidating([_f.name]);\n                    }\n                    if (fieldError[_f.name]) {\n                        context.valid = false;\n                        if (shouldOnlyCheckValid) {\n                            break;\n                        }\n                    }\n                    !shouldOnlyCheckValid &&\n                        (get(fieldError, _f.name)\n                            ? isFieldArrayRoot\n                                ? updateFieldArrayRootError(_formState.errors, fieldError, _f.name)\n                                : set(_formState.errors, _f.name, fieldError[_f.name])\n                            : unset(_formState.errors, _f.name));\n                }\n                !isEmptyObject(fieldValue) &&\n                    (await executeBuiltInValidation(fieldValue, shouldOnlyCheckValid, context));\n            }\n        }\n        return context.valid;\n    };\n    const _removeUnmounted = () => {\n        for (const name of _names.unMount) {\n            const field = get(_fields, name);\n            field &&\n                (field._f.refs\n                    ? field._f.refs.every((ref) => !live(ref))\n                    : !live(field._f.ref)) &&\n                unregister(name);\n        }\n        _names.unMount = new Set();\n    };\n    const _getDirty = (name, data) => !_options.disabled &&\n        (name && data && set(_formValues, name, data),\n            !deepEqual(getValues(), _defaultValues));\n    const _getWatch = (names, defaultValue, isGlobal) => generateWatchOutput(names, _names, {\n        ...(_state.mount\n            ? _formValues\n            : isUndefined(defaultValue)\n                ? _defaultValues\n                : isString(names)\n                    ? { [names]: defaultValue }\n                    : defaultValue),\n    }, isGlobal, defaultValue);\n    const _getFieldArray = (name) => compact(get(_state.mount ? _formValues : _defaultValues, name, _options.shouldUnregister ? get(_defaultValues, name, []) : []));\n    const setFieldValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        let fieldValue = value;\n        if (field) {\n            const fieldReference = field._f;\n            if (fieldReference) {\n                !fieldReference.disabled &&\n                    set(_formValues, name, getFieldValueAs(value, fieldReference));\n                fieldValue =\n                    isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n                        ? ''\n                        : value;\n                if (isMultipleSelect(fieldReference.ref)) {\n                    [...fieldReference.ref.options].forEach((optionRef) => (optionRef.selected = fieldValue.includes(optionRef.value)));\n                }\n                else if (fieldReference.refs) {\n                    if (isCheckBoxInput(fieldReference.ref)) {\n                        fieldReference.refs.forEach((checkboxRef) => {\n                            if (!checkboxRef.defaultChecked || !checkboxRef.disabled) {\n                                if (Array.isArray(fieldValue)) {\n                                    checkboxRef.checked = !!fieldValue.find((data) => data === checkboxRef.value);\n                                }\n                                else {\n                                    checkboxRef.checked =\n                                        fieldValue === checkboxRef.value || !!fieldValue;\n                                }\n                            }\n                        });\n                    }\n                    else {\n                        fieldReference.refs.forEach((radioRef) => (radioRef.checked = radioRef.value === fieldValue));\n                    }\n                }\n                else if (isFileInput(fieldReference.ref)) {\n                    fieldReference.ref.value = '';\n                }\n                else {\n                    fieldReference.ref.value = fieldValue;\n                    if (!fieldReference.ref.type) {\n                        _subjects.state.next({\n                            name,\n                            values: cloneObject(_formValues),\n                        });\n                    }\n                }\n            }\n        }\n        (options.shouldDirty || options.shouldTouch) &&\n            updateTouchAndDirty(name, fieldValue, options.shouldTouch, options.shouldDirty, true);\n        options.shouldValidate && trigger(name);\n    };\n    const setValues = (name, value, options) => {\n        for (const fieldKey in value) {\n            if (!value.hasOwnProperty(fieldKey)) {\n                return;\n            }\n            const fieldValue = value[fieldKey];\n            const fieldName = name + '.' + fieldKey;\n            const field = get(_fields, fieldName);\n            (_names.array.has(name) ||\n                isObject(fieldValue) ||\n                (field && !field._f)) &&\n                !isDateObject(fieldValue)\n                ? setValues(fieldName, fieldValue, options)\n                : setFieldValue(fieldName, fieldValue, options);\n        }\n    };\n    const setValue = (name, value, options = {}) => {\n        const field = get(_fields, name);\n        const isFieldArray = _names.array.has(name);\n        const cloneValue = cloneObject(value);\n        set(_formValues, name, cloneValue);\n        if (isFieldArray) {\n            _subjects.array.next({\n                name,\n                values: cloneObject(_formValues),\n            });\n            if ((_proxyFormState.isDirty ||\n                _proxyFormState.dirtyFields ||\n                _proxySubscribeFormState.isDirty ||\n                _proxySubscribeFormState.dirtyFields) &&\n                options.shouldDirty) {\n                _subjects.state.next({\n                    name,\n                    dirtyFields: getDirtyFields(_defaultValues, _formValues),\n                    isDirty: _getDirty(name, cloneValue),\n                });\n            }\n        }\n        else {\n            field && !field._f && !isNullOrUndefined(cloneValue)\n                ? setValues(name, cloneValue, options)\n                : setFieldValue(name, cloneValue, options);\n        }\n        isWatched(name, _names) && _subjects.state.next({ ..._formState, name });\n        _subjects.state.next({\n            name: _state.mount ? name : undefined,\n            values: cloneObject(_formValues),\n        });\n    };\n    const onChange = async (event) => {\n        _state.mount = true;\n        const target = event.target;\n        let name = target.name;\n        let isFieldValueUpdated = true;\n        const field = get(_fields, name);\n        const _updateIsFieldValueUpdated = (fieldValue) => {\n            isFieldValueUpdated =\n                Number.isNaN(fieldValue) ||\n                    (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n                    deepEqual(fieldValue, get(_formValues, name, fieldValue));\n        };\n        const validationModeBeforeSubmit = getValidationModes(_options.mode);\n        const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);\n        if (field) {\n            let error;\n            let isValid;\n            const fieldValue = target.type\n                ? getFieldValue(field._f)\n                : getEventValue(event);\n            const isBlurEvent = event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n            const shouldSkipValidation = (!hasValidation(field._f) &&\n                !_options.resolver &&\n                !get(_formState.errors, name) &&\n                !field._f.deps) ||\n                skipValidation(isBlurEvent, get(_formState.touchedFields, name), _formState.isSubmitted, validationModeAfterSubmit, validationModeBeforeSubmit);\n            const watched = isWatched(name, _names, isBlurEvent);\n            set(_formValues, name, fieldValue);\n            if (isBlurEvent) {\n                if (!target || !target.readOnly) {\n                    field._f.onBlur && field._f.onBlur(event);\n                    delayErrorCallback && delayErrorCallback(0);\n                }\n            }\n            else if (field._f.onChange) {\n                field._f.onChange(event);\n            }\n            const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent);\n            const shouldRender = !isEmptyObject(fieldState) || watched;\n            !isBlurEvent &&\n                _subjects.state.next({\n                    name,\n                    type: event.type,\n                    values: cloneObject(_formValues),\n                });\n            if (shouldSkipValidation) {\n                if (_proxyFormState.isValid || _proxySubscribeFormState.isValid) {\n                    if (_options.mode === 'onBlur') {\n                        if (isBlurEvent) {\n                            _setValid();\n                        }\n                    }\n                    else if (!isBlurEvent) {\n                        _setValid();\n                    }\n                }\n                return (shouldRender &&\n                    _subjects.state.next({ name, ...(watched ? {} : fieldState) }));\n            }\n            !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n            if (_options.resolver) {\n                const { errors } = await _runSchema([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    const previousErrorLookupResult = schemaErrorLookup(_formState.errors, _fields, name);\n                    const errorLookupResult = schemaErrorLookup(errors, _fields, previousErrorLookupResult.name || name);\n                    error = errorLookupResult.error;\n                    name = errorLookupResult.name;\n                    isValid = isEmptyObject(errors);\n                }\n            }\n            else {\n                _updateIsValidating([name], true);\n                error = (await validateField(field, _names.disabled, _formValues, shouldDisplayAllAssociatedErrors, _options.shouldUseNativeValidation))[name];\n                _updateIsValidating([name]);\n                _updateIsFieldValueUpdated(fieldValue);\n                if (isFieldValueUpdated) {\n                    if (error) {\n                        isValid = false;\n                    }\n                    else if (_proxyFormState.isValid ||\n                        _proxySubscribeFormState.isValid) {\n                        isValid = await executeBuiltInValidation(_fields, true);\n                    }\n                }\n            }\n            if (isFieldValueUpdated) {\n                field._f.deps &&\n                    (!Array.isArray(field._f.deps) || field._f.deps.length > 0) &&\n                    trigger(field._f.deps);\n                shouldRenderByError(name, isValid, error, fieldState);\n            }\n        }\n    };\n    const _focusInput = (ref, key) => {\n        if (get(_formState.errors, key) && ref.focus) {\n            ref.focus();\n            return 1;\n        }\n        return;\n    };\n    const trigger = async (name, options = {}) => {\n        let isValid;\n        let validationResult;\n        const fieldNames = convertToArrayPayload(name);\n        if (_options.resolver) {\n            const errors = await executeSchemaAndUpdateState(isUndefined(name) ? name : fieldNames);\n            isValid = isEmptyObject(errors);\n            validationResult = name\n                ? !fieldNames.some((name) => get(errors, name))\n                : isValid;\n        }\n        else if (name) {\n            validationResult = (await Promise.all(fieldNames.map(async (fieldName) => {\n                const field = get(_fields, fieldName);\n                return await executeBuiltInValidation(field && field._f ? { [fieldName]: field } : field);\n            }))).every(Boolean);\n            !(!validationResult && !_formState.isValid) && _setValid();\n        }\n        else {\n            validationResult = isValid = await executeBuiltInValidation(_fields);\n        }\n        _subjects.state.next({\n            ...(!isString(name) ||\n                ((_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n                    isValid !== _formState.isValid)\n                ? {}\n                : { name }),\n            ...(_options.resolver || !name ? { isValid } : {}),\n            errors: _formState.errors,\n        });\n        options.shouldFocus &&\n            !validationResult &&\n            iterateFieldsByAction(_fields, _focusInput, name ? fieldNames : _names.mount);\n        return validationResult;\n    };\n    const getValues = (fieldNames, config) => {\n        let values = {\n            ...(_state.mount ? _formValues : _defaultValues),\n        };\n        if (config) {\n            values = extractFormValues(config.dirtyFields ? _formState.dirtyFields : _formState.touchedFields, values);\n        }\n        return isUndefined(fieldNames)\n            ? values\n            : isString(fieldNames)\n                ? get(values, fieldNames)\n                : fieldNames.map((name) => get(values, name));\n    };\n    const getFieldState = (name, formState) => ({\n        invalid: !!get((formState || _formState).errors, name),\n        isDirty: !!get((formState || _formState).dirtyFields, name),\n        error: get((formState || _formState).errors, name),\n        isValidating: !!get(_formState.validatingFields, name),\n        isTouched: !!get((formState || _formState).touchedFields, name),\n    });\n    const clearErrors = (name) => {\n        name &&\n            convertToArrayPayload(name).forEach((inputName) => unset(_formState.errors, inputName));\n        _subjects.state.next({\n            errors: name ? _formState.errors : {},\n        });\n    };\n    const setError = (name, error, options) => {\n        const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n        const currentError = get(_formState.errors, name) || {};\n        // Don't override existing error messages elsewhere in the object tree.\n        const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n        set(_formState.errors, name, {\n            ...restOfErrorTree,\n            ...error,\n            ref,\n        });\n        _subjects.state.next({\n            name,\n            errors: _formState.errors,\n            isValid: false,\n        });\n        options && options.shouldFocus && ref && ref.focus && ref.focus();\n    };\n    const watch = (name, defaultValue) => isFunction(name)\n        ? _subjects.state.subscribe({\n            next: (payload) => 'values' in payload &&\n                name(_getWatch(undefined, defaultValue), payload),\n        })\n        : _getWatch(name, defaultValue, true);\n    const _subscribe = (props) => _subjects.state.subscribe({\n        next: (formState) => {\n            if (shouldSubscribeByName(props.name, formState.name, props.exact) &&\n                shouldRenderFormState(formState, props.formState || _proxyFormState, _setFormState, props.reRenderRoot)) {\n                props.callback({\n                    values: { ..._formValues },\n                    ..._formState,\n                    ...formState,\n                    defaultValues: _defaultValues,\n                });\n            }\n        },\n    }).unsubscribe;\n    const subscribe = (props) => {\n        _state.mount = true;\n        _proxySubscribeFormState = {\n            ..._proxySubscribeFormState,\n            ...props.formState,\n        };\n        return _subscribe({\n            ...props,\n            formState: _proxySubscribeFormState,\n        });\n    };\n    const unregister = (name, options = {}) => {\n        for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n            _names.mount.delete(fieldName);\n            _names.array.delete(fieldName);\n            if (!options.keepValue) {\n                unset(_fields, fieldName);\n                unset(_formValues, fieldName);\n            }\n            !options.keepError && unset(_formState.errors, fieldName);\n            !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n            !options.keepTouched && unset(_formState.touchedFields, fieldName);\n            !options.keepIsValidating &&\n                unset(_formState.validatingFields, fieldName);\n            !_options.shouldUnregister &&\n                !options.keepDefaultValue &&\n                unset(_defaultValues, fieldName);\n        }\n        _subjects.state.next({\n            values: cloneObject(_formValues),\n        });\n        _subjects.state.next({\n            ..._formState,\n            ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n        });\n        !options.keepIsValid && _setValid();\n    };\n    const _setDisabledField = ({ disabled, name, }) => {\n        if ((isBoolean(disabled) && _state.mount) ||\n            !!disabled ||\n            _names.disabled.has(name)) {\n            disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n        }\n    };\n    const register = (name, options = {}) => {\n        let field = get(_fields, name);\n        const disabledIsDefined = isBoolean(options.disabled) || isBoolean(_options.disabled);\n        set(_fields, name, {\n            ...(field || {}),\n            _f: {\n                ...(field && field._f ? field._f : { ref: { name } }),\n                name,\n                mount: true,\n                ...options,\n            },\n        });\n        _names.mount.add(name);\n        if (field) {\n            _setDisabledField({\n                disabled: isBoolean(options.disabled)\n                    ? options.disabled\n                    : _options.disabled,\n                name,\n            });\n        }\n        else {\n            updateValidAndValue(name, true, options.value);\n        }\n        return {\n            ...(disabledIsDefined\n                ? { disabled: options.disabled || _options.disabled }\n                : {}),\n            ...(_options.progressive\n                ? {\n                    required: !!options.required,\n                    min: getRuleValue(options.min),\n                    max: getRuleValue(options.max),\n                    minLength: getRuleValue(options.minLength),\n                    maxLength: getRuleValue(options.maxLength),\n                    pattern: getRuleValue(options.pattern),\n                }\n                : {}),\n            name,\n            onChange,\n            onBlur: onChange,\n            ref: (ref) => {\n                if (ref) {\n                    register(name, options);\n                    field = get(_fields, name);\n                    const fieldRef = isUndefined(ref.value)\n                        ? ref.querySelectorAll\n                            ? ref.querySelectorAll('input,select,textarea')[0] || ref\n                            : ref\n                        : ref;\n                    const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n                    const refs = field._f.refs || [];\n                    if (radioOrCheckbox\n                        ? refs.find((option) => option === fieldRef)\n                        : fieldRef === field._f.ref) {\n                        return;\n                    }\n                    set(_fields, name, {\n                        _f: {\n                            ...field._f,\n                            ...(radioOrCheckbox\n                                ? {\n                                    refs: [\n                                        ...refs.filter(live),\n                                        fieldRef,\n                                        ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                                    ],\n                                    ref: { type: fieldRef.type, name },\n                                }\n                                : { ref: fieldRef }),\n                        },\n                    });\n                    updateValidAndValue(name, false, undefined, fieldRef);\n                }\n                else {\n                    field = get(_fields, name, {});\n                    if (field._f) {\n                        field._f.mount = false;\n                    }\n                    (_options.shouldUnregister || options.shouldUnregister) &&\n                        !(isNameInFieldArray(_names.array, name) && _state.action) &&\n                        _names.unMount.add(name);\n                }\n            },\n        };\n    };\n    const _focusError = () => _options.shouldFocusError &&\n        iterateFieldsByAction(_fields, _focusInput, _names.mount);\n    const _disableForm = (disabled) => {\n        if (isBoolean(disabled)) {\n            _subjects.state.next({ disabled });\n            iterateFieldsByAction(_fields, (ref, name) => {\n                const currentField = get(_fields, name);\n                if (currentField) {\n                    ref.disabled = currentField._f.disabled || disabled;\n                    if (Array.isArray(currentField._f.refs)) {\n                        currentField._f.refs.forEach((inputRef) => {\n                            inputRef.disabled = currentField._f.disabled || disabled;\n                        });\n                    }\n                }\n            }, 0, false);\n        }\n    };\n    const handleSubmit = (onValid, onInvalid) => async (e) => {\n        let onValidError = undefined;\n        if (e) {\n            e.preventDefault && e.preventDefault();\n            e.persist &&\n                e.persist();\n        }\n        let fieldValues = cloneObject(_formValues);\n        _subjects.state.next({\n            isSubmitting: true,\n        });\n        if (_options.resolver) {\n            const { errors, values } = await _runSchema();\n            _formState.errors = errors;\n            fieldValues = cloneObject(values);\n        }\n        else {\n            await executeBuiltInValidation(_fields);\n        }\n        if (_names.disabled.size) {\n            for (const name of _names.disabled) {\n                unset(fieldValues, name);\n            }\n        }\n        unset(_formState.errors, 'root');\n        if (isEmptyObject(_formState.errors)) {\n            _subjects.state.next({\n                errors: {},\n            });\n            try {\n                await onValid(fieldValues, e);\n            }\n            catch (error) {\n                onValidError = error;\n            }\n        }\n        else {\n            if (onInvalid) {\n                await onInvalid({ ..._formState.errors }, e);\n            }\n            _focusError();\n            setTimeout(_focusError);\n        }\n        _subjects.state.next({\n            isSubmitted: true,\n            isSubmitting: false,\n            isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n            submitCount: _formState.submitCount + 1,\n            errors: _formState.errors,\n        });\n        if (onValidError) {\n            throw onValidError;\n        }\n    };\n    const resetField = (name, options = {}) => {\n        if (get(_fields, name)) {\n            if (isUndefined(options.defaultValue)) {\n                setValue(name, cloneObject(get(_defaultValues, name)));\n            }\n            else {\n                setValue(name, options.defaultValue);\n                set(_defaultValues, name, cloneObject(options.defaultValue));\n            }\n            if (!options.keepTouched) {\n                unset(_formState.touchedFields, name);\n            }\n            if (!options.keepDirty) {\n                unset(_formState.dirtyFields, name);\n                _formState.isDirty = options.defaultValue\n                    ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n                    : _getDirty();\n            }\n            if (!options.keepError) {\n                unset(_formState.errors, name);\n                _proxyFormState.isValid && _setValid();\n            }\n            _subjects.state.next({ ..._formState });\n        }\n    };\n    const _reset = (formValues, keepStateOptions = {}) => {\n        const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n        const cloneUpdatedValues = cloneObject(updatedValues);\n        const isEmptyResetValues = isEmptyObject(formValues);\n        const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n        if (!keepStateOptions.keepDefaultValues) {\n            _defaultValues = updatedValues;\n        }\n        if (!keepStateOptions.keepValues) {\n            if (keepStateOptions.keepDirtyValues) {\n                const fieldsToCheck = new Set([\n                    ..._names.mount,\n                    ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n                ]);\n                for (const fieldName of Array.from(fieldsToCheck)) {\n                    get(_formState.dirtyFields, fieldName)\n                        ? set(values, fieldName, get(_formValues, fieldName))\n                        : setValue(fieldName, get(values, fieldName));\n                }\n            }\n            else {\n                if (isWeb && isUndefined(formValues)) {\n                    for (const name of _names.mount) {\n                        const field = get(_fields, name);\n                        if (field && field._f) {\n                            const fieldReference = Array.isArray(field._f.refs)\n                                ? field._f.refs[0]\n                                : field._f.ref;\n                            if (isHTMLElement(fieldReference)) {\n                                const form = fieldReference.closest('form');\n                                if (form) {\n                                    form.reset();\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (keepStateOptions.keepFieldsRef) {\n                    for (const fieldName of _names.mount) {\n                        setValue(fieldName, get(values, fieldName));\n                    }\n                }\n                else {\n                    _fields = {};\n                }\n            }\n            _formValues = _options.shouldUnregister\n                ? keepStateOptions.keepDefaultValues\n                    ? cloneObject(_defaultValues)\n                    : {}\n                : cloneObject(values);\n            _subjects.array.next({\n                values: { ...values },\n            });\n            _subjects.state.next({\n                values: { ...values },\n            });\n        }\n        _names = {\n            mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n            unMount: new Set(),\n            array: new Set(),\n            disabled: new Set(),\n            watch: new Set(),\n            watchAll: false,\n            focus: '',\n        };\n        _state.mount =\n            !_proxyFormState.isValid ||\n                !!keepStateOptions.keepIsValid ||\n                !!keepStateOptions.keepDirtyValues;\n        _state.watch = !!_options.shouldUnregister;\n        _subjects.state.next({\n            submitCount: keepStateOptions.keepSubmitCount\n                ? _formState.submitCount\n                : 0,\n            isDirty: isEmptyResetValues\n                ? false\n                : keepStateOptions.keepDirty\n                    ? _formState.isDirty\n                    : !!(keepStateOptions.keepDefaultValues &&\n                        !deepEqual(formValues, _defaultValues)),\n            isSubmitted: keepStateOptions.keepIsSubmitted\n                ? _formState.isSubmitted\n                : false,\n            dirtyFields: isEmptyResetValues\n                ? {}\n                : keepStateOptions.keepDirtyValues\n                    ? keepStateOptions.keepDefaultValues && _formValues\n                        ? getDirtyFields(_defaultValues, _formValues)\n                        : _formState.dirtyFields\n                    : keepStateOptions.keepDefaultValues && formValues\n                        ? getDirtyFields(_defaultValues, formValues)\n                        : keepStateOptions.keepDirty\n                            ? _formState.dirtyFields\n                            : {},\n            touchedFields: keepStateOptions.keepTouched\n                ? _formState.touchedFields\n                : {},\n            errors: keepStateOptions.keepErrors ? _formState.errors : {},\n            isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n                ? _formState.isSubmitSuccessful\n                : false,\n            isSubmitting: false,\n            defaultValues: _defaultValues,\n        });\n    };\n    const reset = (formValues, keepStateOptions) => _reset(isFunction(formValues)\n        ? formValues(_formValues)\n        : formValues, keepStateOptions);\n    const setFocus = (name, options = {}) => {\n        const field = get(_fields, name);\n        const fieldReference = field && field._f;\n        if (fieldReference) {\n            const fieldRef = fieldReference.refs\n                ? fieldReference.refs[0]\n                : fieldReference.ref;\n            if (fieldRef.focus) {\n                fieldRef.focus();\n                options.shouldSelect &&\n                    isFunction(fieldRef.select) &&\n                    fieldRef.select();\n            }\n        }\n    };\n    const _setFormState = (updatedFormState) => {\n        _formState = {\n            ..._formState,\n            ...updatedFormState,\n        };\n    };\n    const _resetDefaultValues = () => isFunction(_options.defaultValues) &&\n        _options.defaultValues().then((values) => {\n            reset(values, _options.resetOptions);\n            _subjects.state.next({\n                isLoading: false,\n            });\n        });\n    const methods = {\n        control: {\n            register,\n            unregister,\n            getFieldState,\n            handleSubmit,\n            setError,\n            _subscribe,\n            _runSchema,\n            _focusError,\n            _getWatch,\n            _getDirty,\n            _setValid,\n            _setFieldArray,\n            _setDisabledField,\n            _setErrors,\n            _getFieldArray,\n            _reset,\n            _resetDefaultValues,\n            _removeUnmounted,\n            _disableForm,\n            _subjects,\n            _proxyFormState,\n            get _fields() {\n                return _fields;\n            },\n            get _formValues() {\n                return _formValues;\n            },\n            get _state() {\n                return _state;\n            },\n            set _state(value) {\n                _state = value;\n            },\n            get _defaultValues() {\n                return _defaultValues;\n            },\n            get _names() {\n                return _names;\n            },\n            set _names(value) {\n                _names = value;\n            },\n            get _formState() {\n                return _formState;\n            },\n            get _options() {\n                return _options;\n            },\n            set _options(value) {\n                _options = {\n                    ..._options,\n                    ...value,\n                };\n            },\n        },\n        subscribe,\n        trigger,\n        register,\n        handleSubmit,\n        watch,\n        setValue,\n        getValues,\n        reset,\n        resetField,\n        clearErrors,\n        unregister,\n        setError,\n        setFocus,\n        getFieldState,\n    };\n    return {\n        ...methods,\n        formControl: methods,\n    };\n}\n\nvar generateId = () => {\n    if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n        return crypto.randomUUID();\n    }\n    const d = typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16 + d) % 16 | 0;\n        return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n};\n\nvar getFocusFieldName = (name, index, options = {}) => options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n        `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n\nvar appendAt = (data, value) => [\n    ...data,\n    ...convertToArrayPayload(value),\n];\n\nvar fillEmptyArray = (value) => Array.isArray(value) ? value.map(() => undefined) : undefined;\n\nfunction insert(data, index, value) {\n    return [\n        ...data.slice(0, index),\n        ...convertToArrayPayload(value),\n        ...data.slice(index),\n    ];\n}\n\nvar moveArrayAt = (data, from, to) => {\n    if (!Array.isArray(data)) {\n        return [];\n    }\n    if (isUndefined(data[to])) {\n        data[to] = undefined;\n    }\n    data.splice(to, 0, data.splice(from, 1)[0]);\n    return data;\n};\n\nvar prependAt = (data, value) => [\n    ...convertToArrayPayload(value),\n    ...convertToArrayPayload(data),\n];\n\nfunction removeAtIndexes(data, indexes) {\n    let i = 0;\n    const temp = [...data];\n    for (const index of indexes) {\n        temp.splice(index - i, 1);\n        i++;\n    }\n    return compact(temp).length ? temp : [];\n}\nvar removeArrayAt = (data, index) => isUndefined(index)\n    ? []\n    : removeAtIndexes(data, convertToArrayPayload(index).sort((a, b) => a - b));\n\nvar swapArrayAt = (data, indexA, indexB) => {\n    [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n\nvar updateAt = (fieldValues, index, value) => {\n    fieldValues[index] = value;\n    return fieldValues;\n};\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc.  [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)  [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray)  [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useFieldArray(props) {\n    const methods = useFormContext();\n    const { control = methods.control, name, keyName = 'id', shouldUnregister, rules, } = props;\n    const [fields, setFields] = React.useState(control._getFieldArray(name));\n    const ids = React.useRef(control._getFieldArray(name).map(generateId));\n    const _actioned = React.useRef(false);\n    control._names.array.add(name);\n    React.useMemo(() => rules &&\n        fields.length >= 0 &&\n        control.register(name, rules), [control, name, fields.length, rules]);\n    useIsomorphicLayoutEffect(() => control._subjects.array.subscribe({\n        next: ({ values, name: fieldArrayName, }) => {\n            if (fieldArrayName === name || !fieldArrayName) {\n                const fieldValues = get(values, name);\n                if (Array.isArray(fieldValues)) {\n                    setFields(fieldValues);\n                    ids.current = fieldValues.map(generateId);\n                }\n            }\n        },\n    }).unsubscribe, [control, name]);\n    const updateValues = React.useCallback((updatedFieldArrayValues) => {\n        _actioned.current = true;\n        control._setFieldArray(name, updatedFieldArrayValues);\n    }, [control, name]);\n    const append = (value, options) => {\n        const appendValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = appendAt(control._getFieldArray(name), appendValue);\n        control._names.focus = getFocusFieldName(name, updatedFieldArrayValues.length - 1, options);\n        ids.current = appendAt(ids.current, appendValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, appendAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const prepend = (value, options) => {\n        const prependValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = prependAt(control._getFieldArray(name), prependValue);\n        control._names.focus = getFocusFieldName(name, 0, options);\n        ids.current = prependAt(ids.current, prependValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, prependAt, {\n            argA: fillEmptyArray(value),\n        });\n    };\n    const remove = (index) => {\n        const updatedFieldArrayValues = removeArrayAt(control._getFieldArray(name), index);\n        ids.current = removeArrayAt(ids.current, index);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        !Array.isArray(get(control._fields, name)) &&\n            set(control._fields, name, undefined);\n        control._setFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n            argA: index,\n        });\n    };\n    const insert$1 = (index, value, options) => {\n        const insertValue = convertToArrayPayload(cloneObject(value));\n        const updatedFieldArrayValues = insert(control._getFieldArray(name), index, insertValue);\n        control._names.focus = getFocusFieldName(name, index, options);\n        ids.current = insert(ids.current, index, insertValue.map(generateId));\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, insert, {\n            argA: index,\n            argB: fillEmptyArray(value),\n        });\n    };\n    const swap = (indexA, indexB) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n        swapArrayAt(ids.current, indexA, indexB);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, swapArrayAt, {\n            argA: indexA,\n            argB: indexB,\n        }, false);\n    };\n    const move = (from, to) => {\n        const updatedFieldArrayValues = control._getFieldArray(name);\n        moveArrayAt(updatedFieldArrayValues, from, to);\n        moveArrayAt(ids.current, from, to);\n        updateValues(updatedFieldArrayValues);\n        setFields(updatedFieldArrayValues);\n        control._setFieldArray(name, updatedFieldArrayValues, moveArrayAt, {\n            argA: from,\n            argB: to,\n        }, false);\n    };\n    const update = (index, value) => {\n        const updateValue = cloneObject(value);\n        const updatedFieldArrayValues = updateAt(control._getFieldArray(name), index, updateValue);\n        ids.current = [...updatedFieldArrayValues].map((item, i) => !item || i === index ? generateId() : ids.current[i]);\n        updateValues(updatedFieldArrayValues);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, updatedFieldArrayValues, updateAt, {\n            argA: index,\n            argB: updateValue,\n        }, true, false);\n    };\n    const replace = (value) => {\n        const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n        ids.current = updatedFieldArrayValues.map(generateId);\n        updateValues([...updatedFieldArrayValues]);\n        setFields([...updatedFieldArrayValues]);\n        control._setFieldArray(name, [...updatedFieldArrayValues], (data) => data, {}, true, false);\n    };\n    React.useEffect(() => {\n        control._state.action = false;\n        isWatched(name, control._names) &&\n            control._subjects.state.next({\n                ...control._formState,\n            });\n        if (_actioned.current &&\n            (!getValidationModes(control._options.mode).isOnSubmit ||\n                control._formState.isSubmitted) &&\n            !getValidationModes(control._options.reValidateMode).isOnSubmit) {\n            if (control._options.resolver) {\n                control._runSchema([name]).then((result) => {\n                    const error = get(result.errors, name);\n                    const existingError = get(control._formState.errors, name);\n                    if (existingError\n                        ? (!error && existingError.type) ||\n                            (error &&\n                                (existingError.type !== error.type ||\n                                    existingError.message !== error.message))\n                        : error && error.type) {\n                        error\n                            ? set(control._formState.errors, name, error)\n                            : unset(control._formState.errors, name);\n                        control._subjects.state.next({\n                            errors: control._formState.errors,\n                        });\n                    }\n                });\n            }\n            else {\n                const field = get(control._fields, name);\n                if (field &&\n                    field._f &&\n                    !(getValidationModes(control._options.reValidateMode).isOnSubmit &&\n                        getValidationModes(control._options.mode).isOnSubmit)) {\n                    validateField(field, control._names.disabled, control._formValues, control._options.criteriaMode === VALIDATION_MODE.all, control._options.shouldUseNativeValidation, true).then((error) => !isEmptyObject(error) &&\n                        control._subjects.state.next({\n                            errors: updateFieldArrayRootError(control._formState.errors, error, name),\n                        }));\n                }\n            }\n        }\n        control._subjects.state.next({\n            name,\n            values: cloneObject(control._formValues),\n        });\n        control._names.focus &&\n            iterateFieldsByAction(control._fields, (ref, key) => {\n                if (control._names.focus &&\n                    key.startsWith(control._names.focus) &&\n                    ref.focus) {\n                    ref.focus();\n                    return 1;\n                }\n                return;\n            });\n        control._names.focus = '';\n        control._setValid();\n        _actioned.current = false;\n    }, [fields, name, control]);\n    React.useEffect(() => {\n        !get(control._formValues, name) && control._setFieldArray(name);\n        return () => {\n            const updateMounted = (name, value) => {\n                const field = get(control._fields, name);\n                if (field && field._f) {\n                    field._f.mount = value;\n                }\n            };\n            control._options.shouldUnregister || shouldUnregister\n                ? control.unregister(name)\n                : updateMounted(name, false);\n        };\n    }, [name, control, keyName, shouldUnregister]);\n    return {\n        swap: React.useCallback(swap, [updateValues, name, control]),\n        move: React.useCallback(move, [updateValues, name, control]),\n        prepend: React.useCallback(prepend, [updateValues, name, control]),\n        append: React.useCallback(append, [updateValues, name, control]),\n        remove: React.useCallback(remove, [updateValues, name, control]),\n        insert: React.useCallback(insert$1, [updateValues, name, control]),\n        update: React.useCallback(update, [updateValues, name, control]),\n        replace: React.useCallback(replace, [updateValues, name, control]),\n        fields: React.useMemo(() => fields.map((field, index) => ({\n            ...field,\n            [keyName]: ids.current[index] || generateId(),\n        })), [fields, keyName]),\n    };\n}\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform)  [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm)  [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nfunction useForm(props = {}) {\n    const _formControl = React.useRef(undefined);\n    const _values = React.useRef(undefined);\n    const [formState, updateFormState] = React.useState({\n        isDirty: false,\n        isValidating: false,\n        isLoading: isFunction(props.defaultValues),\n        isSubmitted: false,\n        isSubmitting: false,\n        isSubmitSuccessful: false,\n        isValid: false,\n        submitCount: 0,\n        dirtyFields: {},\n        touchedFields: {},\n        validatingFields: {},\n        errors: props.errors || {},\n        disabled: props.disabled || false,\n        isReady: false,\n        defaultValues: isFunction(props.defaultValues)\n            ? undefined\n            : props.defaultValues,\n    });\n    if (!_formControl.current) {\n        if (props.formControl) {\n            _formControl.current = {\n                ...props.formControl,\n                formState,\n            };\n            if (props.defaultValues && !isFunction(props.defaultValues)) {\n                props.formControl.reset(props.defaultValues, props.resetOptions);\n            }\n        }\n        else {\n            const { formControl, ...rest } = createFormControl(props);\n            _formControl.current = {\n                ...rest,\n                formState,\n            };\n        }\n    }\n    const control = _formControl.current.control;\n    control._options = props;\n    useIsomorphicLayoutEffect(() => {\n        const sub = control._subscribe({\n            formState: control._proxyFormState,\n            callback: () => updateFormState({ ...control._formState }),\n            reRenderRoot: true,\n        });\n        updateFormState((data) => ({\n            ...data,\n            isReady: true,\n        }));\n        control._formState.isReady = true;\n        return sub;\n    }, [control]);\n    React.useEffect(() => control._disableForm(props.disabled), [control, props.disabled]);\n    React.useEffect(() => {\n        if (props.mode) {\n            control._options.mode = props.mode;\n        }\n        if (props.reValidateMode) {\n            control._options.reValidateMode = props.reValidateMode;\n        }\n    }, [control, props.mode, props.reValidateMode]);\n    React.useEffect(() => {\n        if (props.errors) {\n            control._setErrors(props.errors);\n            control._focusError();\n        }\n    }, [control, props.errors]);\n    React.useEffect(() => {\n        props.shouldUnregister &&\n            control._subjects.state.next({\n                values: control._getWatch(),\n            });\n    }, [control, props.shouldUnregister]);\n    React.useEffect(() => {\n        if (control._proxyFormState.isDirty) {\n            const isDirty = control._getDirty();\n            if (isDirty !== formState.isDirty) {\n                control._subjects.state.next({\n                    isDirty,\n                });\n            }\n        }\n    }, [control, formState.isDirty]);\n    React.useEffect(() => {\n        if (props.values && !deepEqual(props.values, _values.current)) {\n            control._reset(props.values, {\n                keepFieldsRef: true,\n                ...control._options.resetOptions,\n            });\n            _values.current = props.values;\n            updateFormState((state) => ({ ...state }));\n        }\n        else {\n            control._resetDefaultValues();\n        }\n    }, [control, props.values]);\n    React.useEffect(() => {\n        if (!control._state.mount) {\n            control._setValid();\n            control._state.mount = true;\n        }\n        if (control._state.watch) {\n            control._state.watch = false;\n            control._subjects.state.next({ ...control._formState });\n        }\n        control._removeUnmounted();\n    });\n    _formControl.current.formState = getProxyFormState(formState, control);\n    return _formControl.current;\n}\n\n/**\n * Watch component that subscribes to form field changes and re-renders when watched fields update.\n *\n * @param control - The form control object from useForm\n * @param names - Array of field names to watch for changes\n * @param render - The function that receives watched values and returns ReactNode\n * @returns The result of calling render function with watched values\n *\n * @example\n * The `Watch` component only re-render when the values of `foo`, `bar`, and `baz.qux` change.\n * The types of `foo`, `bar`, and `baz.qux` are precisely inferred.\n *\n * ```tsx\n * const { control } = useForm();\n *\n * <Watch\n *   control={control}\n *   names={['foo', 'bar', 'baz.qux']}\n *   render={([foo, bar, baz_qux]) => <div>{foo}{bar}{baz_qux}</div>}\n * />\n * ```\n */\nconst Watch = ({ control, names, render, }) => render(useWatch({ control, name: names }));\n\nexport { Controller, Form, FormProvider, Watch, appendErrors, createFormControl, get, set, useController, useFieldArray, useForm, useFormContext, useFormState, useWatch };\n//# sourceMappingURL=index.esm.mjs.map\n","import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}","import { cn } from '../../utils/cn'\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg' | 'xl'\n  className?: string\n  color?: 'primary' | 'white' | 'gray'\n}\n\nconst sizeClasses = {\n  sm: 'w-4 h-4',\n  md: 'w-6 h-6',\n  lg: 'w-8 h-8',\n  xl: 'w-12 h-12',\n}\n\nconst colorClasses = {\n  primary: 'border-primary-600 border-t-transparent',\n  white: 'border-white border-t-transparent',\n  gray: 'border-gray-300 border-t-transparent',\n}\n\nexport default function LoadingSpinner({ \n  size = 'md', \n  className,\n  color = 'primary' \n}: LoadingSpinnerProps) {\n  return (\n    <div\n      className={cn(\n        'animate-spin rounded-full border-2',\n        sizeClasses[size],\n        colorClasses[color],\n        className\n      )}\n      role=\"status\"\n      aria-label=\"Loading\"\n    >\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  )\n}","import { useState } from 'react'\nimport { Link, useNavigate, useLocation } from 'react-router-dom'\nimport { useForm } from 'react-hook-form'\nimport { Eye, EyeOff, Mail, Lock } from 'lucide-react'\nimport { useAuthStore } from '../../store/auth.store'\nimport LoadingSpinner from '../../components/ui/LoadingSpinner'\nimport toast from 'react-hot-toast'\n\ninterface LoginFormData {\n  email: string\n  password: string\n  remember_me: boolean\n}\n\nexport default function LoginPage() {\n  const [showPassword, setShowPassword] = useState(false)\n  const { login, isLoading, error, clearError } = useAuthStore()\n  const navigate = useNavigate()\n  const location = useLocation()\n\n  const from = location.state?.from?.pathname || '/dashboard'\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<LoginFormData>({\n    defaultValues: {\n      email: '',\n      password: '',\n      remember_me: false,\n    },\n  })\n\n  const onSubmit = async (data: LoginFormData) => {\n    try {\n      clearError()\n      await login(data)\n      toast.success('Welcome back!')\n      navigate(from, { replace: true })\n    } catch (error: any) {\n      toast.error(error.message || 'Login failed')\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900\">\n          Sign in to your account\n        </h2>\n        <p className=\"mt-2 text-sm text-gray-600\">\n          Welcome back! Please enter your credentials.\n        </p>\n      </div>\n\n      <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        {/* Email field */}\n        <div>\n          <label htmlFor=\"email\" className=\"form-label\">\n            Email address\n          </label>\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Mail className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              {...register('email', {\n                required: 'Email is required',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: 'Invalid email address',\n                },\n              })}\n              type=\"email\"\n              className=\"form-input pl-10\"\n              placeholder=\"Enter your email\"\n              autoComplete=\"email\"\n            />\n          </div>\n          {errors.email && (\n            <p className=\"form-error\">{errors.email.message}</p>\n          )}\n        </div>\n\n        {/* Password field */}\n        <div>\n          <label htmlFor=\"password\" className=\"form-label\">\n            Password\n          </label>\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Lock className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              {...register('password', {\n                required: 'Password is required',\n                minLength: {\n                  value: 6,\n                  message: 'Password must be at least 6 characters',\n                },\n              })}\n              type={showPassword ? 'text' : 'password'}\n              className=\"form-input pl-10 pr-10\"\n              placeholder=\"Enter your password\"\n              autoComplete=\"current-password\"\n            />\n            <button\n              type=\"button\"\n              className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n              onClick={() => setShowPassword(!showPassword)}\n            >\n              {showPassword ? (\n                <EyeOff className=\"h-5 w-5 text-gray-400\" />\n              ) : (\n                <Eye className=\"h-5 w-5 text-gray-400\" />\n              )}\n            </button>\n          </div>\n          {errors.password && (\n            <p className=\"form-error\">{errors.password.message}</p>\n          )}\n        </div>\n\n        {/* Remember me and forgot password */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <input\n              {...register('remember_me')}\n              id=\"remember-me\"\n              type=\"checkbox\"\n              className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n            />\n            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n              Remember me\n            </label>\n          </div>\n\n          <div className=\"text-sm\">\n            <Link\n              to=\"/auth/forgot-password\"\n              className=\"font-medium text-primary-600 hover:text-primary-500\"\n            >\n              Forgot your password?\n            </Link>\n          </div>\n        </div>\n\n        {/* Error message */}\n        {error && (\n          <div className=\"rounded-md bg-red-50 p-4\">\n            <div className=\"text-sm text-red-700\">{error}</div>\n          </div>\n        )}\n\n        {/* Submit button */}\n        <div>\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full btn-primary flex justify-center items-center\"\n          >\n            {isLoading ? (\n              <>\n                <LoadingSpinner size=\"sm\" color=\"white\" className=\"mr-2\" />\n                Signing in...\n              </>\n            ) : (\n              'Sign in'\n            )}\n          </button>\n        </div>\n      </form>\n\n      {/* Demo credentials */}\n      {import.meta.env.DEV && (\n        <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n          <h3 className=\"text-sm font-medium text-gray-900 mb-2\">Demo Credentials:</h3>\n          <div className=\"space-y-1 text-xs text-gray-600\">\n            <div><strong>Admin:</strong> admin@salessync.com / admin123</div>\n            <div><strong>Manager:</strong> manager@salessync.com / manager123</div>\n            <div><strong>Field Agent:</strong> agent@salessync.com / agent123</div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}","import { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useForm } from 'react-hook-form'\nimport { Mail, ArrowLeft } from 'lucide-react'\nimport { authService } from '../../services/auth.service'\nimport LoadingSpinner from '../../components/ui/LoadingSpinner'\nimport toast from 'react-hot-toast'\n\ninterface ForgotPasswordFormData {\n  email: string\n}\n\nexport default function ForgotPasswordPage() {\n  const [isLoading, setIsLoading] = useState(false)\n  const [isSubmitted, setIsSubmitted] = useState(false)\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    getValues,\n  } = useForm<ForgotPasswordFormData>()\n\n  const onSubmit = async (data: ForgotPasswordFormData) => {\n    setIsLoading(true)\n    try {\n      await authService.forgotPassword(data)\n      setIsSubmitted(true)\n      toast.success('Password reset email sent!')\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to send reset email')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  if (isSubmitted) {\n    return (\n      <div className=\"space-y-6 text-center\">\n        <div>\n          <div className=\"mx-auto h-12 w-12 bg-green-100 rounded-full flex items-center justify-center\">\n            <Mail className=\"h-6 w-6 text-green-600\" />\n          </div>\n          <h2 className=\"mt-4 text-2xl font-bold text-gray-900\">\n            Check your email\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            We've sent a password reset link to{' '}\n            <span className=\"font-medium\">{getValues('email')}</span>\n          </p>\n        </div>\n\n        <div className=\"space-y-4\">\n          <p className=\"text-sm text-gray-500\">\n            Didn't receive the email? Check your spam folder or try again.\n          </p>\n          \n          <button\n            onClick={() => setIsSubmitted(false)}\n            className=\"btn-outline w-full\"\n          >\n            Try again\n          </button>\n          \n          <Link\n            to=\"/auth/login\"\n            className=\"flex items-center justify-center text-sm text-primary-600 hover:text-primary-500\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-1\" />\n            Back to sign in\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Link\n          to=\"/auth/login\"\n          className=\"flex items-center text-sm text-primary-600 hover:text-primary-500 mb-4\"\n        >\n          <ArrowLeft className=\"h-4 w-4 mr-1\" />\n          Back to sign in\n        </Link>\n        \n        <h2 className=\"text-2xl font-bold text-gray-900\">\n          Forgot your password?\n        </h2>\n        <p className=\"mt-2 text-sm text-gray-600\">\n          No worries! Enter your email address and we'll send you a link to reset your password.\n        </p>\n      </div>\n\n      <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        <div>\n          <label htmlFor=\"email\" className=\"form-label\">\n            Email address\n          </label>\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Mail className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              {...register('email', {\n                required: 'Email is required',\n                pattern: {\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                  message: 'Invalid email address',\n                },\n              })}\n              type=\"email\"\n              className=\"form-input pl-10\"\n              placeholder=\"Enter your email\"\n              autoComplete=\"email\"\n            />\n          </div>\n          {errors.email && (\n            <p className=\"form-error\">{errors.email.message}</p>\n          )}\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full btn-primary flex justify-center items-center\"\n          >\n            {isLoading ? (\n              <>\n                <LoadingSpinner size=\"sm\" color=\"white\" className=\"mr-2\" />\n                Sending...\n              </>\n            ) : (\n              'Send reset link'\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}","import { useState } from 'react'\nimport { Link, useNavigate, useSearchParams } from 'react-router-dom'\nimport { useForm } from 'react-hook-form'\nimport { Eye, EyeOff, Lock, ArrowLeft } from 'lucide-react'\nimport { authService } from '../../services/auth.service'\nimport LoadingSpinner from '../../components/ui/LoadingSpinner'\nimport toast from 'react-hot-toast'\n\ninterface ResetPasswordFormData {\n  password: string\n  password_confirmation: string\n}\n\nexport default function ResetPasswordPage() {\n  const [showPassword, setShowPassword] = useState(false)\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [searchParams] = useSearchParams()\n  const navigate = useNavigate()\n\n  const token = searchParams.get('token')\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n  } = useForm<ResetPasswordFormData>()\n\n  const password = watch('password')\n\n  const onSubmit = async (data: ResetPasswordFormData) => {\n    if (!token) {\n      toast.error('Invalid reset token')\n      return\n    }\n\n    setIsLoading(true)\n    try {\n      await authService.resetPassword({\n        token,\n        password: data.password,\n        password_confirmation: data.password_confirmation,\n      })\n      toast.success('Password reset successfully!')\n      navigate('/auth/login')\n    } catch (error: any) {\n      toast.error(error.message || 'Failed to reset password')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  if (!token) {\n    return (\n      <div className=\"space-y-6 text-center\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-gray-900\">\n            Invalid Reset Link\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            This password reset link is invalid or has expired.\n          </p>\n        </div>\n\n        <div className=\"space-y-4\">\n          <Link\n            to=\"/auth/forgot-password\"\n            className=\"btn-primary w-full\"\n          >\n            Request new reset link\n          </Link>\n          \n          <Link\n            to=\"/auth/login\"\n            className=\"flex items-center justify-center text-sm text-primary-600 hover:text-primary-500\"\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-1\" />\n            Back to sign in\n          </Link>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Link\n          to=\"/auth/login\"\n          className=\"flex items-center text-sm text-primary-600 hover:text-primary-500 mb-4\"\n        >\n          <ArrowLeft className=\"h-4 w-4 mr-1\" />\n          Back to sign in\n        </Link>\n        \n        <h2 className=\"text-2xl font-bold text-gray-900\">\n          Reset your password\n        </h2>\n        <p className=\"mt-2 text-sm text-gray-600\">\n          Enter your new password below.\n        </p>\n      </div>\n\n      <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\n        {/* New password field */}\n        <div>\n          <label htmlFor=\"password\" className=\"form-label\">\n            New password\n          </label>\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Lock className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              {...register('password', {\n                required: 'Password is required',\n                minLength: {\n                  value: 8,\n                  message: 'Password must be at least 8 characters',\n                },\n                pattern: {\n                  value: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/,\n                  message: 'Password must contain at least one uppercase letter, one lowercase letter, and one number',\n                },\n              })}\n              type={showPassword ? 'text' : 'password'}\n              className=\"form-input pl-10 pr-10\"\n              placeholder=\"Enter new password\"\n            />\n            <button\n              type=\"button\"\n              className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n              onClick={() => setShowPassword(!showPassword)}\n            >\n              {showPassword ? (\n                <EyeOff className=\"h-5 w-5 text-gray-400\" />\n              ) : (\n                <Eye className=\"h-5 w-5 text-gray-400\" />\n              )}\n            </button>\n          </div>\n          {errors.password && (\n            <p className=\"form-error\">{errors.password.message}</p>\n          )}\n        </div>\n\n        {/* Confirm password field */}\n        <div>\n          <label htmlFor=\"password_confirmation\" className=\"form-label\">\n            Confirm new password\n          </label>\n          <div className=\"relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <Lock className=\"h-5 w-5 text-gray-400\" />\n            </div>\n            <input\n              {...register('password_confirmation', {\n                required: 'Please confirm your password',\n                validate: (value) =>\n                  value === password || 'Passwords do not match',\n              })}\n              type={showConfirmPassword ? 'text' : 'password'}\n              className=\"form-input pl-10 pr-10\"\n              placeholder=\"Confirm new password\"\n            />\n            <button\n              type=\"button\"\n              className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n              onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n            >\n              {showConfirmPassword ? (\n                <EyeOff className=\"h-5 w-5 text-gray-400\" />\n              ) : (\n                <Eye className=\"h-5 w-5 text-gray-400\" />\n              )}\n            </button>\n          </div>\n          {errors.password_confirmation && (\n            <p className=\"form-error\">{errors.password_confirmation.message}</p>\n          )}\n        </div>\n\n        {/* Password requirements */}\n        <div className=\"text-sm text-gray-600\">\n          <p className=\"font-medium mb-1\">Password requirements:</p>\n          <ul className=\"list-disc list-inside space-y-1\">\n            <li>At least 8 characters long</li>\n            <li>Contains at least one uppercase letter</li>\n            <li>Contains at least one lowercase letter</li>\n            <li>Contains at least one number</li>\n          </ul>\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full btn-primary flex justify-center items-center\"\n          >\n            {isLoading ? (\n              <>\n                <LoadingSpinner size=\"sm\" color=\"white\" className=\"mr-2\" />\n                Resetting...\n              </>\n            ) : (\n              'Reset password'\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}","import { \n  Users, \n  MapPin, \n  Package, \n  DollarSign, \n  TrendingUp, \n  Activity,\n  Clock,\n  CheckCircle\n} from 'lucide-react'\nimport { useAuthStore } from '../../store/auth.store'\n\n// Mock data - replace with real API calls\nconst mockStats = {\n  totalAgents: 45,\n  activeAgents: 38,\n  todayPlacements: 12,\n  todayDistributions: 28,\n  monthlyRevenue: 125000,\n  monthlyCommissions: 8750,\n}\n\nconst mockRecentActivities = [\n  {\n    id: 1,\n    type: 'board_placement',\n    agent: 'John Doe',\n    description: 'Placed Premium Billboard at High Street',\n    time: '2 minutes ago',\n    status: 'completed',\n  },\n  {\n    id: 2,\n    type: 'product_distribution',\n    agent: 'Jane Smith',\n    description: 'Delivered 50 units to ABC Store',\n    time: '15 minutes ago',\n    status: 'completed',\n  },\n  {\n    id: 3,\n    type: 'board_placement',\n    agent: 'Mike Johnson',\n    description: 'Placed Standard Billboard at Market Square',\n    time: '32 minutes ago',\n    status: 'completed',\n  },\n  {\n    id: 4,\n    type: 'product_distribution',\n    agent: 'Sarah Wilson',\n    description: 'Delivered 25 units to XYZ Retail',\n    time: '1 hour ago',\n    status: 'completed',\n  },\n]\n\nconst mockTopPerformers = [\n  { name: 'John Doe', commission: 1250, placements: 8, distributions: 15 },\n  { name: 'Jane Smith', commission: 1100, placements: 6, distributions: 18 },\n  { name: 'Mike Johnson', commission: 950, placements: 7, distributions: 12 },\n  { name: 'Sarah Wilson', commission: 875, placements: 5, distributions: 14 },\n]\n\nexport default function DashboardPage() {\n  const { user } = useAuthStore()\n\n  const StatCard = ({ title, value, icon: Icon, change, color = 'primary' }: any) => (\n    <div className=\"card\">\n      <div className=\"flex items-center\">\n        <div className=\"flex-shrink-0\">\n          <div className={`p-3 rounded-lg bg-${color}-100`}>\n            <Icon className={`h-6 w-6 text-${color}-600`} />\n          </div>\n        </div>\n        <div className=\"ml-4 flex-1\">\n          <p className=\"text-sm font-medium text-gray-500\">{title}</p>\n          <p className=\"text-2xl font-semibold text-gray-900\">{value}</p>\n          {change && (\n            <p className={`text-sm ${change > 0 ? 'text-green-600' : 'text-red-600'}`}>\n              {change > 0 ? '+' : ''}{change}% from last month\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Welcome header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">\n          Welcome back, {user?.first_name}!\n        </h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Here's what's happening with your field operations today.\n        </p>\n      </div>\n\n      {/* Stats grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <StatCard\n          title=\"Total Field Agents\"\n          value={mockStats.totalAgents}\n          icon={Users}\n          change={8}\n          color=\"blue\"\n        />\n        <StatCard\n          title=\"Active Today\"\n          value={mockStats.activeAgents}\n          icon={Activity}\n          change={12}\n          color=\"green\"\n        />\n        <StatCard\n          title=\"Board Placements\"\n          value={mockStats.todayPlacements}\n          icon={MapPin}\n          change={-5}\n          color=\"purple\"\n        />\n        <StatCard\n          title=\"Product Distributions\"\n          value={mockStats.todayDistributions}\n          icon={Package}\n          change={15}\n          color=\"orange\"\n        />\n      </div>\n\n      {/* Revenue stats */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <StatCard\n          title=\"Monthly Revenue\"\n          value={`${mockStats.monthlyRevenue.toLocaleString()}`}\n          icon={DollarSign}\n          change={18}\n          color=\"green\"\n        />\n        <StatCard\n          title=\"Monthly Commissions\"\n          value={`${mockStats.monthlyCommissions.toLocaleString()}`}\n          icon={TrendingUp}\n          change={22}\n          color=\"blue\"\n        />\n      </div>\n\n      {/* Main content grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* Recent activities */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Recent Activities</h3>\n          </div>\n          <div className=\"space-y-4\">\n            {mockRecentActivities.map((activity) => (\n              <div key={activity.id} className=\"flex items-start space-x-3\">\n                <div className=\"flex-shrink-0\">\n                  {activity.type === 'board_placement' ? (\n                    <div className=\"p-2 bg-purple-100 rounded-lg\">\n                      <MapPin className=\"h-4 w-4 text-purple-600\" />\n                    </div>\n                  ) : (\n                    <div className=\"p-2 bg-orange-100 rounded-lg\">\n                      <Package className=\"h-4 w-4 text-orange-600\" />\n                    </div>\n                  )}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-gray-900\">\n                    {activity.agent}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    {activity.description}\n                  </p>\n                  <div className=\"flex items-center mt-1\">\n                    <Clock className=\"h-3 w-3 text-gray-400 mr-1\" />\n                    <p className=\"text-xs text-gray-500\">{activity.time}</p>\n                    <CheckCircle className=\"h-3 w-3 text-green-500 ml-2\" />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"mt-6\">\n            <button className=\"btn-outline w-full\">\n              View all activities\n            </button>\n          </div>\n        </div>\n\n        {/* Top performers */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Top Performers</h3>\n            <p className=\"text-sm text-gray-600\">This month's leading agents</p>\n          </div>\n          <div className=\"space-y-4\">\n            {mockTopPerformers.map((performer, index) => (\n              <div key={performer.name} className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\">\n                      <span className=\"text-sm font-medium text-primary-600\">\n                        #{index + 1}\n                      </span>\n                    </div>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">\n                      {performer.name}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      {performer.placements} placements  {performer.distributions} distributions\n                    </p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm font-medium text-gray-900\">\n                    {performer.commission}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">commission</p>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"mt-6\">\n            <button className=\"btn-outline w-full\">\n              View all agents\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Quick actions */}\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Quick Actions</h3>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <button className=\"btn-primary flex items-center justify-center space-x-2\">\n            <Users className=\"h-4 w-4\" />\n            <span>View Field Agents</span>\n          </button>\n          <button className=\"btn-outline flex items-center justify-center space-x-2\">\n            <MapPin className=\"h-4 w-4\" />\n            <span>Live Mapping</span>\n          </button>\n          <button className=\"btn-outline flex items-center justify-center space-x-2\">\n            <TrendingUp className=\"h-4 w-4\" />\n            <span>View Analytics</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}","export default function AnalyticsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Analytics</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Comprehensive analytics and reporting dashboard.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Analytics Dashboard\n          </h3>\n          <p className=\"text-gray-600\">\n            Advanced analytics and reporting features coming soon.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}","import { LineChart as RechartsLineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'\n\ninterface LineChartProps {\n  data: any[]\n  xKey: string\n  yKeys: { key: string; color: string; name: string }[]\n  title?: string\n  height?: number\n}\n\nexport default function LineChart({ data, xKey, yKeys, title, height = 300 }: LineChartProps) {\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{title}</h3>}\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartsLineChart data={data} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey={xKey} />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          {yKeys.map((yKey) => (\n            <Line\n              key={yKey.key}\n              type=\"monotone\"\n              dataKey={yKey.key}\n              stroke={yKey.color}\n              name={yKey.name}\n              strokeWidth={2}\n            />\n          ))}\n        </RechartsLineChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}","import { BarChart as RechartsBarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts'\n\ninterface BarChartProps {\n  data: any[]\n  xKey: string\n  yKeys: { key: string; color: string; name: string }[]\n  title?: string\n  height?: number\n}\n\nexport default function BarChart({ data, xKey, yKeys, title, height = 300 }: BarChartProps) {\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{title}</h3>}\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartsBarChart data={data} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey={xKey} />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          {yKeys.map((yKey) => (\n            <Bar key={yKey.key} dataKey={yKey.key} fill={yKey.color} name={yKey.name} />\n          ))}\n        </RechartsBarChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}","import { PieChart as RechartsPieChart, Pie, Cell, ResponsiveContainer, Tooltip, Legend } from 'recharts'\n\ninterface PieChartProps {\n  data: { name: string; value: number; color: string }[]\n  title?: string\n  height?: number\n}\n\nexport default function PieChart({ data, title, height = 300 }: PieChartProps) {\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{title}</h3>}\n      <ResponsiveContainer width=\"100%\" height={height}>\n        <RechartsPieChart>\n          <Pie\n            data={data}\n            cx=\"50%\"\n            cy=\"50%\"\n            labelLine={false}\n            label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n            outerRadius={80}\n            fill=\"#8884d8\"\n            dataKey=\"value\"\n          >\n            {data.map((entry, index) => (\n              <Cell key={`cell-${index}`} fill={entry.color} />\n            ))}\n          </Pie>\n          <Tooltip />\n          <Legend />\n        </RechartsPieChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}","import { useState, useMemo } from 'react'\nimport { ChevronDown, ChevronUp, Search, Download, Filter } from 'lucide-react'\n\ninterface Column {\n  key: string\n  title: string\n  sortable?: boolean\n  filterable?: boolean\n  render?: (value: any, row: any) => React.ReactNode\n}\n\ninterface DataTableProps {\n  data: any[]\n  columns: Column[]\n  title?: string\n  searchable?: boolean\n  exportable?: boolean\n  pagination?: boolean\n  pageSize?: number\n}\n\nexport default function DataTable({\n  data,\n  columns,\n  title,\n  searchable = true,\n  exportable = true,\n  pagination = true,\n  pageSize = 10,\n}: DataTableProps) {\n  const [searchTerm, setSearchTerm] = useState('')\n  const [sortConfig, setSortConfig] = useState<{ key: string; direction: 'asc' | 'desc' } | null>(null)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [filters, setFilters] = useState<Record<string, string>>({})\n\n  // Filter data based on search term and filters\n  const filteredData = useMemo(() => {\n    let filtered = data\n\n    // Apply search filter\n    if (searchTerm) {\n      filtered = filtered.filter((row) =>\n        Object.values(row).some((value) =>\n          String(value).toLowerCase().includes(searchTerm.toLowerCase())\n        )\n      )\n    }\n\n    // Apply column filters\n    Object.entries(filters).forEach(([key, value]) => {\n      if (value) {\n        filtered = filtered.filter((row) =>\n          String(row[key]).toLowerCase().includes(value.toLowerCase())\n        )\n      }\n    })\n\n    return filtered\n  }, [data, searchTerm, filters])\n\n  // Sort data\n  const sortedData = useMemo(() => {\n    if (!sortConfig) return filteredData\n\n    return [...filteredData].sort((a, b) => {\n      const aValue = a[sortConfig.key]\n      const bValue = b[sortConfig.key]\n\n      if (aValue < bValue) {\n        return sortConfig.direction === 'asc' ? -1 : 1\n      }\n      if (aValue > bValue) {\n        return sortConfig.direction === 'asc' ? 1 : -1\n      }\n      return 0\n    })\n  }, [filteredData, sortConfig])\n\n  // Paginate data\n  const paginatedData = useMemo(() => {\n    if (!pagination) return sortedData\n\n    const startIndex = (currentPage - 1) * pageSize\n    return sortedData.slice(startIndex, startIndex + pageSize)\n  }, [sortedData, currentPage, pageSize, pagination])\n\n  const totalPages = Math.ceil(sortedData.length / pageSize)\n\n  const handleSort = (key: string) => {\n    setSortConfig((current) => {\n      if (current?.key === key) {\n        return current.direction === 'asc'\n          ? { key, direction: 'desc' }\n          : null\n      }\n      return { key, direction: 'asc' }\n    })\n  }\n\n  const handleExport = () => {\n    const csv = [\n      columns.map((col) => col.title).join(','),\n      ...sortedData.map((row) =>\n        columns.map((col) => String(row[col.key] || '')).join(',')\n      ),\n    ].join('\\n')\n\n    const blob = new Blob([csv], { type: 'text/csv' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = `${title || 'data'}.csv`\n    a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  return (\n    <div className=\"card\">\n      {/* Header */}\n      <div className=\"card-header\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            {title && <h3 className=\"text-lg font-medium text-gray-900\">{title}</h3>}\n            <p className=\"text-sm text-gray-600\">\n              Showing {paginatedData.length} of {sortedData.length} entries\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            {searchable && (\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search...\"\n                  className=\"form-input pl-10 w-64\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n              </div>\n            )}\n            {exportable && (\n              <button onClick={handleExport} className=\"btn-outline\">\n                <Download className=\"h-4 w-4 mr-2\" />\n                Export\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Table */}\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              {columns.map((column) => (\n                <th\n                  key={column.key}\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  <div className=\"flex items-center space-x-1\">\n                    <span>{column.title}</span>\n                    {column.sortable && (\n                      <button\n                        onClick={() => handleSort(column.key)}\n                        className=\"text-gray-400 hover:text-gray-600\"\n                      >\n                        {sortConfig?.key === column.key ? (\n                          sortConfig.direction === 'asc' ? (\n                            <ChevronUp className=\"h-4 w-4\" />\n                          ) : (\n                            <ChevronDown className=\"h-4 w-4\" />\n                          )\n                        ) : (\n                          <ChevronDown className=\"h-4 w-4 opacity-50\" />\n                        )}\n                      </button>\n                    )}\n                    {column.filterable && (\n                      <div className=\"relative\">\n                        <Filter className=\"h-4 w-4 text-gray-400\" />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Filter...\"\n                          className=\"absolute top-6 left-0 w-32 text-xs border rounded px-2 py-1\"\n                          value={filters[column.key] || ''}\n                          onChange={(e) =>\n                            setFilters((prev) => ({\n                              ...prev,\n                              [column.key]: e.target.value,\n                            }))\n                          }\n                        />\n                      </div>\n                    )}\n                  </div>\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {paginatedData.map((row, index) => (\n              <tr key={index} className=\"hover:bg-gray-50\">\n                {columns.map((column) => (\n                  <td key={column.key} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {column.render ? column.render(row[column.key], row) : row[column.key]}\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Pagination */}\n      {pagination && totalPages > 1 && (\n        <div className=\"px-6 py-3 flex items-center justify-between border-t border-gray-200\">\n          <div className=\"flex-1 flex justify-between sm:hidden\">\n            <button\n              onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\n              disabled={currentPage === 1}\n              className=\"btn-outline\"\n            >\n              Previous\n            </button>\n            <button\n              onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))}\n              disabled={currentPage === totalPages}\n              className=\"btn-outline\"\n            >\n              Next\n            </button>\n          </div>\n          <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n            <div>\n              <p className=\"text-sm text-gray-700\">\n                Showing page <span className=\"font-medium\">{currentPage}</span> of{' '}\n                <span className=\"font-medium\">{totalPages}</span>\n              </p>\n            </div>\n            <div>\n              <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                <button\n                  onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\n                  disabled={currentPage === 1}\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\n                >\n                  Previous\n                </button>\n                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\n                  const page = i + 1\n                  return (\n                    <button\n                      key={page}\n                      onClick={() => setCurrentPage(page)}\n                      className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                        currentPage === page\n                          ? 'z-10 bg-primary-50 border-primary-500 text-primary-600'\n                          : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                      }`}\n                    >\n                      {page}\n                    </button>\n                  )\n                })}\n                <button\n                  onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))}\n                  disabled={currentPage === totalPages}\n                  className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\n                >\n                  Next\n                </button>\n              </nav>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport { \n  Users, \n  MapPin, \n  Package, \n  DollarSign, \n  Activity, \n  Clock,\n  TrendingUp,\n  Eye,\n  Edit,\n  MoreHorizontal,\n  Calendar,\n  Filter\n} from 'lucide-react'\nimport LineChart from '../../components/charts/LineChart'\nimport BarChart from '../../components/charts/BarChart'\nimport PieChart from '../../components/charts/PieChart'\nimport DataTable from '../../components/ui/tables/DataTable'\n\n// Mock data - replace with real API calls\nconst mockAgentStats = {\n  totalAgents: 45,\n  activeToday: 38,\n  totalPlacements: 156,\n  totalDistributions: 284,\n  totalCommissions: 12450,\n  avgPerformance: 87.5,\n}\n\nconst mockPerformanceData = [\n  { date: '2024-01-01', placements: 12, distributions: 28, commissions: 850 },\n  { date: '2024-01-02', placements: 15, distributions: 32, commissions: 920 },\n  { date: '2024-01-03', placements: 18, distributions: 35, commissions: 1100 },\n  { date: '2024-01-04', placements: 14, distributions: 29, commissions: 890 },\n  { date: '2024-01-05', placements: 20, distributions: 38, commissions: 1200 },\n  { date: '2024-01-06', placements: 16, distributions: 31, commissions: 980 },\n  { date: '2024-01-07', placements: 22, distributions: 42, commissions: 1350 },\n]\n\nconst mockAgentData = [\n  {\n    id: 1,\n    name: 'John Doe',\n    email: 'john@example.com',\n    phone: '+44 7700 900123',\n    status: 'Active',\n    location: 'London, UK',\n    todayPlacements: 3,\n    todayDistributions: 8,\n    monthlyCommission: 1250,\n    performance: 92,\n    lastActivity: '2 minutes ago',\n    totalTransactions: 156,\n  },\n  {\n    id: 2,\n    name: 'Jane Smith',\n    email: 'jane@example.com',\n    phone: '+44 7700 900124',\n    status: 'Active',\n    location: 'Manchester, UK',\n    todayPlacements: 2,\n    todayDistributions: 6,\n    monthlyCommission: 1100,\n    performance: 88,\n    lastActivity: '15 minutes ago',\n    totalTransactions: 142,\n  },\n  {\n    id: 3,\n    name: 'Mike Johnson',\n    email: 'mike@example.com',\n    phone: '+44 7700 900125',\n    status: 'Offline',\n    location: 'Birmingham, UK',\n    todayPlacements: 0,\n    todayDistributions: 0,\n    monthlyCommission: 950,\n    performance: 75,\n    lastActivity: '2 hours ago',\n    totalTransactions: 98,\n  },\n]\n\nconst mockActivityData = [\n  { type: 'Board Placement', count: 45, color: '#8B5CF6' },\n  { type: 'Product Distribution', count: 78, color: '#10B981' },\n  { type: 'Customer Visit', count: 32, color: '#F59E0B' },\n  { type: 'Commission Earned', count: 28, color: '#EF4444' },\n]\n\nexport default function FieldAgentsPage() {\n  const [selectedTimeRange, setSelectedTimeRange] = useState('7d')\n  const [selectedAgent, setSelectedAgent] = useState<number | null>(null)\n\n  const StatCard = ({ title, value, icon: Icon, change, color = 'primary' }: any) => (\n    <div className=\"card\">\n      <div className=\"flex items-center\">\n        <div className=\"flex-shrink-0\">\n          <div className={`p-3 rounded-lg bg-${color}-100`}>\n            <Icon className={`h-6 w-6 text-${color}-600`} />\n          </div>\n        </div>\n        <div className=\"ml-4 flex-1\">\n          <p className=\"text-sm font-medium text-gray-500\">{title}</p>\n          <p className=\"text-2xl font-semibold text-gray-900\">{value}</p>\n          {change && (\n            <p className={`text-sm ${change > 0 ? 'text-green-600' : 'text-red-600'}`}>\n              {change > 0 ? '+' : ''}{change}% vs last period\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n\n  const agentColumns = [\n    {\n      key: 'name',\n      title: 'Agent',\n      sortable: true,\n      filterable: true,\n      render: (value: string, row: any) => (\n        <div className=\"flex items-center\">\n          <div className=\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center mr-3\">\n            <span className=\"text-sm font-medium text-primary-600\">\n              {value.split(' ').map((n: string) => n[0]).join('')}\n            </span>\n          </div>\n          <div>\n            <div className=\"font-medium text-gray-900\">{value}</div>\n            <div className=\"text-sm text-gray-500\">{row.email}</div>\n          </div>\n        </div>\n      ),\n    },\n    {\n      key: 'status',\n      title: 'Status',\n      sortable: true,\n      filterable: true,\n      render: (value: string) => (\n        <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n          value === 'Active' \n            ? 'bg-green-100 text-green-800' \n            : 'bg-gray-100 text-gray-800'\n        }`}>\n          {value}\n        </span>\n      ),\n    },\n    {\n      key: 'location',\n      title: 'Location',\n      sortable: true,\n      filterable: true,\n    },\n    {\n      key: 'todayPlacements',\n      title: 'Today Placements',\n      sortable: true,\n      render: (value: number) => (\n        <span className=\"font-medium text-purple-600\">{value}</span>\n      ),\n    },\n    {\n      key: 'todayDistributions',\n      title: 'Today Distributions',\n      sortable: true,\n      render: (value: number) => (\n        <span className=\"font-medium text-green-600\">{value}</span>\n      ),\n    },\n    {\n      key: 'monthlyCommission',\n      title: 'Monthly Commission',\n      sortable: true,\n      render: (value: number) => (\n        <span className=\"font-medium text-gray-900\">{value.toLocaleString()}</span>\n      ),\n    },\n    {\n      key: 'performance',\n      title: 'Performance',\n      sortable: true,\n      render: (value: number) => (\n        <div className=\"flex items-center\">\n          <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\n            <div \n              className={`h-2 rounded-full ${\n                value >= 90 ? 'bg-green-500' : \n                value >= 70 ? 'bg-yellow-500' : 'bg-red-500'\n              }`}\n              style={{ width: `${value}%` }}\n            />\n          </div>\n          <span className=\"text-sm font-medium\">{value}%</span>\n        </div>\n      ),\n    },\n    {\n      key: 'totalTransactions',\n      title: 'Total Transactions',\n      sortable: true,\n      render: (value: number) => (\n        <span className=\"font-medium text-blue-600\">{value}</span>\n      ),\n    },\n    {\n      key: 'actions',\n      title: 'Actions',\n      render: (value: any, row: any) => (\n        <div className=\"flex items-center space-x-2\">\n          <button className=\"text-blue-600 hover:text-blue-800\">\n            <Eye className=\"h-4 w-4\" />\n          </button>\n          <button className=\"text-green-600 hover:text-green-800\">\n            <Edit className=\"h-4 w-4\" />\n          </button>\n          <button className=\"text-gray-600 hover:text-gray-800\">\n            <MoreHorizontal className=\"h-4 w-4\" />\n          </button>\n        </div>\n      ),\n    },\n  ]\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Field Agents Dashboard</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Comprehensive field agent management with real-time tracking and analytics\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-4\">\n          <select \n            value={selectedTimeRange}\n            onChange={(e) => setSelectedTimeRange(e.target.value)}\n            className=\"form-select\"\n          >\n            <option value=\"1d\">Last 24 Hours</option>\n            <option value=\"7d\">Last 7 Days</option>\n            <option value=\"30d\">Last 30 Days</option>\n            <option value=\"90d\">Last 90 Days</option>\n          </select>\n          <button className=\"btn-primary\">\n            <Users className=\"h-4 w-4 mr-2\" />\n            Add Agent\n          </button>\n        </div>\n      </div>\n\n      {/* Key Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6\">\n        <StatCard\n          title=\"Total Agents\"\n          value={mockAgentStats.totalAgents}\n          icon={Users}\n          change={8}\n          color=\"blue\"\n        />\n        <StatCard\n          title=\"Active Today\"\n          value={mockAgentStats.activeToday}\n          icon={Activity}\n          change={12}\n          color=\"green\"\n        />\n        <StatCard\n          title=\"Board Placements\"\n          value={mockAgentStats.totalPlacements}\n          icon={MapPin}\n          change={-5}\n          color=\"purple\"\n        />\n        <StatCard\n          title=\"Distributions\"\n          value={mockAgentStats.totalDistributions}\n          icon={Package}\n          change={15}\n          color=\"orange\"\n        />\n        <StatCard\n          title=\"Total Commissions\"\n          value={`${mockAgentStats.totalCommissions.toLocaleString()}`}\n          icon={DollarSign}\n          change={22}\n          color=\"green\"\n        />\n        <StatCard\n          title=\"Avg Performance\"\n          value={`${mockAgentStats.avgPerformance}%`}\n          icon={TrendingUp}\n          change={3}\n          color=\"blue\"\n        />\n      </div>\n\n      {/* Charts Section */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* Performance Trends */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Performance Trends</h3>\n            <p className=\"text-sm text-gray-600\">Daily performance metrics over time</p>\n          </div>\n          <LineChart\n            data={mockPerformanceData}\n            xKey=\"date\"\n            yKeys={[\n              { key: 'placements', color: '#8B5CF6', name: 'Board Placements' },\n              { key: 'distributions', color: '#10B981', name: 'Product Distributions' },\n            ]}\n            height={300}\n          />\n        </div>\n\n        {/* Commission Analysis */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Commission Analysis</h3>\n            <p className=\"text-sm text-gray-600\">Daily commission earnings</p>\n          </div>\n          <BarChart\n            data={mockPerformanceData}\n            xKey=\"date\"\n            yKeys={[\n              { key: 'commissions', color: '#F59E0B', name: 'Daily Commissions ()' },\n            ]}\n            height={300}\n          />\n        </div>\n      </div>\n\n      {/* Activity Distribution */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Activity Distribution</h3>\n            <p className=\"text-sm text-gray-600\">Breakdown of agent activities</p>\n          </div>\n          <PieChart data={mockActivityData} height={250} />\n        </div>\n\n        {/* Real-time Activity Feed */}\n        <div className=\"card lg:col-span-2\">\n          <div className=\"card-header\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Real-time Activity Feed</h3>\n            <p className=\"text-sm text-gray-600\">Live updates from field agents</p>\n          </div>\n          <div className=\"space-y-4 max-h-64 overflow-y-auto\">\n            {[\n              { agent: 'John Doe', action: 'Placed Premium Billboard', location: 'High Street, London', time: '2 min ago', type: 'placement' },\n              { agent: 'Jane Smith', action: 'Completed product delivery', location: 'ABC Store, Manchester', time: '5 min ago', type: 'distribution' },\n              { agent: 'Mike Johnson', action: 'Started customer visit', location: 'XYZ Corp, Birmingham', time: '12 min ago', type: 'visit' },\n              { agent: 'Sarah Wilson', action: 'Earned commission', location: 'Multiple locations', time: '18 min ago', type: 'commission' },\n            ].map((activity, index) => (\n              <div key={index} className=\"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg\">\n                <div className={`p-2 rounded-full ${\n                  activity.type === 'placement' ? 'bg-purple-100' :\n                  activity.type === 'distribution' ? 'bg-green-100' :\n                  activity.type === 'visit' ? 'bg-blue-100' : 'bg-yellow-100'\n                }`}>\n                  {activity.type === 'placement' ? <MapPin className=\"h-4 w-4 text-purple-600\" /> :\n                   activity.type === 'distribution' ? <Package className=\"h-4 w-4 text-green-600\" /> :\n                   activity.type === 'visit' ? <Users className=\"h-4 w-4 text-blue-600\" /> :\n                   <DollarSign className=\"h-4 w-4 text-yellow-600\" />}\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-medium text-gray-900\">{activity.agent}</p>\n                  <p className=\"text-sm text-gray-600\">{activity.action}</p>\n                  <p className=\"text-xs text-gray-500\">{activity.location}  {activity.time}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Detailed Agent Table */}\n      <DataTable\n        data={mockAgentData}\n        columns={agentColumns}\n        title=\"Field Agent Details\"\n        searchable={true}\n        exportable={true}\n        pagination={true}\n        pageSize={10}\n      />\n\n      {/* Transaction-Level Analytics */}\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Transaction-Level Analytics</h3>\n          <p className=\"text-sm text-gray-600\">Detailed breakdown of all field operations</p>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-purple-50 p-4 rounded-lg\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-purple-600\">Board Placements</p>\n                <p className=\"text-2xl font-bold text-purple-900\">156</p>\n              </div>\n              <MapPin className=\"h-8 w-8 text-purple-600\" />\n            </div>\n            <div className=\"mt-2 text-xs text-purple-600\">\n              <span className=\"font-medium\">GPS Verified:</span> 154 (98.7%)\n            </div>\n          </div>\n          <div className=\"bg-green-50 p-4 rounded-lg\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-green-600\">Product Distributions</p>\n                <p className=\"text-2xl font-bold text-green-900\">284</p>\n              </div>\n              <Package className=\"h-8 w-8 text-green-600\" />\n            </div>\n            <div className=\"mt-2 text-xs text-green-600\">\n              <span className=\"font-medium\">Signature Captured:</span> 282 (99.3%)\n            </div>\n          </div>\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-blue-600\">Customer Visits</p>\n                <p className=\"text-2xl font-bold text-blue-900\">128</p>\n              </div>\n              <Users className=\"h-8 w-8 text-blue-600\" />\n            </div>\n            <div className=\"mt-2 text-xs text-blue-600\">\n              <span className=\"font-medium\">Avg Duration:</span> 45 minutes\n            </div>\n          </div>\n          <div className=\"bg-yellow-50 p-4 rounded-lg\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-yellow-600\">Commission Events</p>\n                <p className=\"text-2xl font-bold text-yellow-900\">89</p>\n              </div>\n              <DollarSign className=\"h-8 w-8 text-yellow-600\" />\n            </div>\n            <div className=\"mt-2 text-xs text-yellow-600\">\n              <span className=\"font-medium\">Total Value:</span> 12,450\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport {\n  MapPin,\n  Clock,\n  Phone,\n  MessageSquare,\n  User,\n  Battery,\n  Signal,\n  RefreshCw,\n  Search,\n  Route,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  Calendar,\n  Target\n} from 'lucide-react'\nimport LoadingSpinner from '../../components/ui/LoadingSpinner'\n\ninterface FieldAgent {\n  id: string\n  name: string\n  phone: string\n  email: string\n  status: 'active' | 'inactive' | 'offline'\n  location: {\n    lat: number\n    lng: number\n    address: string\n    timestamp: string\n  }\n  route: {\n    id: string\n    name: string\n    customers_planned: number\n    customers_visited: number\n    progress: number\n  }\n  device: {\n    battery_level: number\n    signal_strength: number\n    last_sync: string\n  }\n  performance: {\n    visits_today: number\n    sales_today: number\n    distance_traveled: number\n    efficiency_score: number\n  }\n}\n\ninterface CustomerVisit {\n  id: string\n  customer_name: string\n  address: string\n  visit_time: string\n  status: 'planned' | 'in_progress' | 'completed' | 'skipped'\n  duration: number\n  sales_amount: number\n  notes: string\n}\n\nexport default function LiveMappingPage() {\n  const [agents, setAgents] = useState<FieldAgent[]>([])\n  const [selectedAgent, setSelectedAgent] = useState<FieldAgent | null>(null)\n  const [visits, setVisits] = useState<CustomerVisit[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [refreshing, setRefreshing] = useState(false)\n\n  useEffect(() => {\n    loadAgentsData()\n    // Set up real-time updates (mock)\n    const interval = setInterval(() => {\n      if (!refreshing) {\n        updateAgentLocations()\n      }\n    }, 30000) // Update every 30 seconds\n\n    return () => clearInterval(interval)\n  }, [])\n\n  const loadAgentsData = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      \n      // Mock data for field agents\n      const mockAgents: FieldAgent[] = [\n        {\n          id: '1',\n          name: 'John Smith',\n          phone: '+1-555-0101',\n          email: 'john.smith@company.com',\n          status: 'active',\n          location: {\n            lat: 40.7128,\n            lng: -74.0060,\n            address: '123 Main St, New York, NY',\n            timestamp: new Date().toISOString()\n          },\n          route: {\n            id: 'route-1',\n            name: 'Manhattan North',\n            customers_planned: 12,\n            customers_visited: 8,\n            progress: 67\n          },\n          device: {\n            battery_level: 85,\n            signal_strength: 4,\n            last_sync: new Date(Date.now() - 5 * 60 * 1000).toISOString()\n          },\n          performance: {\n            visits_today: 8,\n            sales_today: 2500,\n            distance_traveled: 45.2,\n            efficiency_score: 92\n          }\n        },\n        {\n          id: '2',\n          name: 'Sarah Johnson',\n          phone: '+1-555-0102',\n          email: 'sarah.johnson@company.com',\n          status: 'active',\n          location: {\n            lat: 40.7589,\n            lng: -73.9851,\n            address: '456 Broadway, New York, NY',\n            timestamp: new Date().toISOString()\n          },\n          route: {\n            id: 'route-2',\n            name: 'Manhattan South',\n            customers_planned: 10,\n            customers_visited: 6,\n            progress: 60\n          },\n          device: {\n            battery_level: 92,\n            signal_strength: 5,\n            last_sync: new Date(Date.now() - 2 * 60 * 1000).toISOString()\n          },\n          performance: {\n            visits_today: 6,\n            sales_today: 1800,\n            distance_traveled: 32.1,\n            efficiency_score: 88\n          }\n        },\n        {\n          id: '3',\n          name: 'Mike Davis',\n          phone: '+1-555-0103',\n          email: 'mike.davis@company.com',\n          status: 'inactive',\n          location: {\n            lat: 40.6892,\n            lng: -74.0445,\n            address: '789 Liberty St, Jersey City, NJ',\n            timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString()\n          },\n          route: {\n            id: 'route-3',\n            name: 'Jersey City',\n            customers_planned: 8,\n            customers_visited: 3,\n            progress: 38\n          },\n          device: {\n            battery_level: 23,\n            signal_strength: 2,\n            last_sync: new Date(Date.now() - 45 * 60 * 1000).toISOString()\n          },\n          performance: {\n            visits_today: 3,\n            sales_today: 950,\n            distance_traveled: 18.7,\n            efficiency_score: 65\n          }\n        }\n      ]\n\n      const mockVisits: CustomerVisit[] = [\n        {\n          id: '1',\n          customer_name: 'ABC Electronics',\n          address: '100 Tech Ave, New York, NY',\n          visit_time: '09:00 AM',\n          status: 'completed',\n          duration: 45,\n          sales_amount: 850,\n          notes: 'Successful sale, customer interested in new products'\n        },\n        {\n          id: '2',\n          customer_name: 'XYZ Retail',\n          address: '200 Commerce St, New York, NY',\n          visit_time: '10:30 AM',\n          status: 'completed',\n          duration: 30,\n          sales_amount: 650,\n          notes: 'Regular order placed'\n        },\n        {\n          id: '3',\n          customer_name: 'Tech Solutions Inc',\n          address: '300 Innovation Blvd, New York, NY',\n          visit_time: '12:00 PM',\n          status: 'in_progress',\n          duration: 0,\n          sales_amount: 0,\n          notes: 'Currently presenting new product line'\n        },\n        {\n          id: '4',\n          customer_name: 'Global Distributors',\n          address: '400 Trade Center, New York, NY',\n          visit_time: '02:00 PM',\n          status: 'planned',\n          duration: 0,\n          sales_amount: 0,\n          notes: 'Scheduled for product demonstration'\n        }\n      ]\n      \n      await new Promise(resolve => setTimeout(resolve, 1000))\n      setAgents(mockAgents)\n      setVisits(mockVisits)\n      if (mockAgents.length > 0) {\n        setSelectedAgent(mockAgents[0])\n      }\n    } catch (err) {\n      setError('Failed to load field agents data')\n      console.error('Error loading agents:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const updateAgentLocations = async () => {\n    // Mock real-time location updates\n    setAgents(prevAgents => \n      prevAgents.map(agent => ({\n        ...agent,\n        location: {\n          ...agent.location,\n          timestamp: new Date().toISOString()\n        },\n        device: {\n          ...agent.device,\n          last_sync: new Date().toISOString()\n        }\n      }))\n    )\n  }\n\n  const refreshData = async () => {\n    setRefreshing(true)\n    await loadAgentsData()\n    setRefreshing(false)\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active': return 'text-green-600 bg-green-100'\n      case 'inactive': return 'text-yellow-600 bg-yellow-100'\n      case 'offline': return 'text-red-600 bg-red-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const getVisitStatusColor = (status: string) => {\n    switch (status) {\n      case 'completed': return 'text-green-600 bg-green-100'\n      case 'in_progress': return 'text-blue-600 bg-blue-100'\n      case 'planned': return 'text-gray-600 bg-gray-100'\n      case 'skipped': return 'text-red-600 bg-red-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount)\n  }\n\n  const formatTime = (timestamp: string) => {\n    return new Date(timestamp).toLocaleTimeString()\n  }\n\n  const filteredAgents = agents.filter(agent => {\n    const matchesSearch = agent.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         agent.phone.includes(searchTerm) ||\n                         agent.route.name.toLowerCase().includes(searchTerm.toLowerCase())\n    \n    const matchesStatus = statusFilter === 'all' || agent.status === statusFilter\n    \n    return matchesSearch && matchesStatus\n  })\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Live Mapping</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Real-time field agent tracking and route management.\n          </p>\n        </div>\n        \n        <div className=\"card\">\n          <div className=\"text-center py-12\">\n            <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              Error Loading Live Mapping\n            </h3>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={loadAgentsData}\n              className=\"btn-primary\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Live Mapping</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Real-time field agent tracking and route management with live location updates.\n          </p>\n        </div>\n        \n        <div className=\"mt-4 sm:mt-0 flex items-center space-x-3\">\n          <button\n            onClick={refreshData}\n            disabled={refreshing}\n            className=\"btn-outline p-2\"\n          >\n            <RefreshCw className={`h-4 w-4 ${refreshing ? 'animate-spin' : ''}`} />\n          </button>\n        </div>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search agents by name, phone, or route...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n          />\n        </div>\n        \n        <select\n          value={statusFilter}\n          onChange={(e) => setStatusFilter(e.target.value)}\n          className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n        >\n          <option value=\"all\">All Status</option>\n          <option value=\"active\">Active</option>\n          <option value=\"inactive\">Inactive</option>\n          <option value=\"offline\">Offline</option>\n        </select>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Agents List */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"card\">\n            <div className=\"p-4 border-b border-gray-200\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Field Agents ({filteredAgents.length})</h3>\n            </div>\n            \n            <div className=\"divide-y divide-gray-200 max-h-96 overflow-y-auto\">\n              {filteredAgents.map((agent) => (\n                <div\n                  key={agent.id}\n                  onClick={() => setSelectedAgent(agent)}\n                  className={`p-4 cursor-pointer hover:bg-gray-50 ${\n                    selectedAgent?.id === agent.id ? 'bg-primary-50 border-r-2 border-primary-500' : ''\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className=\"flex-shrink-0\">\n                        <div className=\"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center\">\n                          <User className=\"h-5 w-5 text-primary-600\" />\n                        </div>\n                      </div>\n                      <div className=\"min-w-0 flex-1\">\n                        <p className=\"text-sm font-medium text-gray-900 truncate\">{agent.name}</p>\n                        <p className=\"text-xs text-gray-500\">{agent.route.name}</p>\n                      </div>\n                    </div>\n                    <div className=\"flex flex-col items-end space-y-1\">\n                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(agent.status)}`}>\n                        {agent.status}\n                      </span>\n                      <div className=\"flex items-center space-x-1 text-xs text-gray-500\">\n                        <Battery className=\"h-3 w-3\" />\n                        <span>{agent.device.battery_level}%</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"mt-3 flex items-center justify-between text-xs text-gray-500\">\n                    <div className=\"flex items-center space-x-1\">\n                      <MapPin className=\"h-3 w-3\" />\n                      <span>Last seen: {formatTime(agent.location.timestamp)}</span>\n                    </div>\n                    <div className=\"flex items-center space-x-1\">\n                      <Target className=\"h-3 w-3\" />\n                      <span>{agent.route.customers_visited}/{agent.route.customers_planned}</span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Agent Details */}\n        <div className=\"lg:col-span-2\">\n          {selectedAgent ? (\n            <div className=\"space-y-6\">\n              {/* Agent Info Card */}\n              <div className=\"card\">\n                <div className=\"p-6\">\n                  <div className=\"flex items-center justify-between mb-6\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center\">\n                        <User className=\"h-8 w-8 text-primary-600\" />\n                      </div>\n                      <div>\n                        <h3 className=\"text-xl font-semibold text-gray-900\">{selectedAgent.name}</h3>\n                        <p className=\"text-gray-600\">{selectedAgent.route.name}</p>\n                        <div className=\"flex items-center space-x-4 mt-2\">\n                          <div className=\"flex items-center space-x-1 text-sm text-gray-500\">\n                            <Phone className=\"h-4 w-4\" />\n                            <span>{selectedAgent.phone}</span>\n                          </div>\n                          <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(selectedAgent.status)}`}>\n                            {selectedAgent.status}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex space-x-2\">\n                      <button className=\"btn-outline p-2\">\n                        <Phone className=\"h-4 w-4\" />\n                      </button>\n                      <button className=\"btn-outline p-2\">\n                        <MessageSquare className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Performance Metrics */}\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <div className=\"text-center\">\n                      <div className=\"text-2xl font-bold text-gray-900\">{selectedAgent.performance.visits_today}</div>\n                      <div className=\"text-sm text-gray-500\">Visits Today</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-2xl font-bold text-green-600\">{formatCurrency(selectedAgent.performance.sales_today)}</div>\n                      <div className=\"text-sm text-gray-500\">Sales Today</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-2xl font-bold text-blue-600\">{selectedAgent.performance.distance_traveled} km</div>\n                      <div className=\"text-sm text-gray-500\">Distance</div>\n                    </div>\n                    <div className=\"text-center\">\n                      <div className=\"text-2xl font-bold text-purple-600\">{selectedAgent.performance.efficiency_score}%</div>\n                      <div className=\"text-sm text-gray-500\">Efficiency</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Route Progress */}\n              <div className=\"card\">\n                <div className=\"p-6\">\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">Route Progress</h4>\n                    <div className=\"flex items-center space-x-2\">\n                      <Route className=\"h-4 w-4 text-gray-400\" />\n                      <span className=\"text-sm text-gray-600\">{selectedAgent.route.progress}% Complete</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"w-full bg-gray-200 rounded-full h-2 mb-4\">\n                    <div \n                      className=\"bg-primary-600 h-2 rounded-full transition-all duration-300\" \n                      style={{ width: `${selectedAgent.route.progress}%` }}\n                    ></div>\n                  </div>\n                  \n                  <div className=\"flex justify-between text-sm text-gray-600\">\n                    <span>Visited: {selectedAgent.route.customers_visited}</span>\n                    <span>Remaining: {selectedAgent.route.customers_planned - selectedAgent.route.customers_visited}</span>\n                    <span>Total: {selectedAgent.route.customers_planned}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Device Status */}\n              <div className=\"card\">\n                <div className=\"p-6\">\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-4\">Device Status</h4>\n                  \n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <div className=\"flex items-center space-x-3\">\n                      <Battery className={`h-5 w-5 ${selectedAgent.device.battery_level > 20 ? 'text-green-500' : 'text-red-500'}`} />\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{selectedAgent.device.battery_level}%</div>\n                        <div className=\"text-xs text-gray-500\">Battery</div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-3\">\n                      <Signal className=\"h-5 w-5 text-blue-500\" />\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{selectedAgent.device.signal_strength}/5</div>\n                        <div className=\"text-xs text-gray-500\">Signal</div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-3\">\n                      <Clock className=\"h-5 w-5 text-gray-500\" />\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">{formatTime(selectedAgent.device.last_sync)}</div>\n                        <div className=\"text-xs text-gray-500\">Last Sync</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"card\">\n              <div className=\"text-center py-12\">\n                <MapPin className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                  Select an Agent\n                </h3>\n                <p className=\"text-gray-600\">\n                  Choose a field agent from the list to view their live location and details.\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Customer Visits */}\n      {selectedAgent && (\n        <div className=\"card\">\n          <div className=\"p-6\">\n            <h4 className=\"text-lg font-medium text-gray-900 mb-6\">Today's Customer Visits</h4>\n            \n            <div className=\"space-y-4\">\n              {visits.map((visit) => (\n                <div key={visit.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"flex-shrink-0\">\n                      {visit.status === 'completed' && <CheckCircle className=\"h-5 w-5 text-green-500\" />}\n                      {visit.status === 'in_progress' && <Clock className=\"h-5 w-5 text-blue-500\" />}\n                      {visit.status === 'planned' && <Calendar className=\"h-5 w-5 text-gray-500\" />}\n                      {visit.status === 'skipped' && <XCircle className=\"h-5 w-5 text-red-500\" />}\n                    </div>\n                    <div>\n                      <div className=\"text-sm font-medium text-gray-900\">{visit.customer_name}</div>\n                      <div className=\"text-xs text-gray-500\">{visit.address}</div>\n                      <div className=\"text-xs text-gray-500 mt-1\">{visit.notes}</div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium text-gray-900\">{visit.visit_time}</div>\n                    <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getVisitStatusColor(visit.status)}`}>\n                      {visit.status.replace('_', ' ')}\n                    </span>\n                    {visit.sales_amount > 0 && (\n                      <div className=\"text-xs text-green-600 mt-1\">{formatCurrency(visit.sales_amount)}</div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport {\n  XCircle,\n  AlertTriangle,\n  Plus,\n  Edit,\n  Trash2,\n  Search,\n  Eye,\n  RefreshCw,\n  Target,\n  Image as ImageIcon\n} from 'lucide-react'\nimport LoadingSpinner from '../../components/ui/LoadingSpinner'\n\ninterface BoardPlacement {\n  id: string\n  board_id: string\n  board_type: 'billboard' | 'poster' | 'banner' | 'digital'\n  location: {\n    address: string\n    lat: number\n    lng: number\n    landmark: string\n  }\n  agent_id: string\n  agent_name: string\n  placement_date: string\n  removal_date?: string\n  status: 'active' | 'removed' | 'damaged' | 'expired'\n  photos: {\n    before?: string\n    after: string\n    current?: string\n  }\n  campaign: {\n    id: string\n    name: string\n    client: string\n    budget: number\n  }\n  metrics: {\n    visibility_score: number\n    foot_traffic: number\n    estimated_impressions: number\n    cost_per_impression: number\n  }\n  notes: string\n  verification_required: boolean\n  last_verified: string\n}\n\ninterface Campaign {\n  id: string\n  name: string\n  client: string\n  start_date: string\n  end_date: string\n  budget: number\n  boards_required: number\n  boards_placed: number\n  status: 'active' | 'completed' | 'paused'\n}\n\nexport default function BoardPlacementPage() {\n  const [placements, setPlacements] = useState<BoardPlacement[]>([])\n  const [campaigns, setCampaigns] = useState<Campaign[]>([])\n  const [selectedPlacement, setSelectedPlacement] = useState<BoardPlacement | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [campaignFilter, setCampaignFilter] = useState<string>('all')\n  const [, setShowAddModal] = useState(false)\n  const [refreshing, setRefreshing] = useState(false)\n\n  useEffect(() => {\n    loadPlacementsData()\n  }, [])\n\n  const loadPlacementsData = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n      \n      // Mock data for board placements\n      const mockCampaigns: Campaign[] = [\n        {\n          id: '1',\n          name: 'Summer Sale 2024',\n          client: 'Fashion Retailer Inc',\n          start_date: '2024-06-01',\n          end_date: '2024-08-31',\n          budget: 50000,\n          boards_required: 25,\n          boards_placed: 18,\n          status: 'active'\n        },\n        {\n          id: '2',\n          name: 'Tech Product Launch',\n          client: 'TechCorp Solutions',\n          start_date: '2024-07-15',\n          end_date: '2024-09-15',\n          budget: 75000,\n          boards_required: 30,\n          boards_placed: 22,\n          status: 'active'\n        },\n        {\n          id: '3',\n          name: 'Holiday Promotion',\n          client: 'Retail Chain Ltd',\n          start_date: '2024-11-01',\n          end_date: '2024-12-31',\n          budget: 100000,\n          boards_required: 50,\n          boards_placed: 0,\n          status: 'paused'\n        }\n      ]\n\n      const mockPlacements: BoardPlacement[] = [\n        {\n          id: '1',\n          board_id: 'BB-001',\n          board_type: 'billboard',\n          location: {\n            address: '123 Main St, New York, NY',\n            lat: 40.7128,\n            lng: -74.0060,\n            landmark: 'Near Central Station'\n          },\n          agent_id: '1',\n          agent_name: 'John Smith',\n          placement_date: '2024-06-15T09:00:00Z',\n          status: 'active',\n          photos: {\n            before: '/api/photos/bb001-before.jpg',\n            after: '/api/photos/bb001-after.jpg',\n            current: '/api/photos/bb001-current.jpg'\n          },\n          campaign: {\n            id: '1',\n            name: 'Summer Sale 2024',\n            client: 'Fashion Retailer Inc',\n            budget: 50000\n          },\n          metrics: {\n            visibility_score: 92,\n            foot_traffic: 15000,\n            estimated_impressions: 45000,\n            cost_per_impression: 0.12\n          },\n          notes: 'High visibility location, excellent condition',\n          verification_required: false,\n          last_verified: '2024-10-15T14:30:00Z'\n        },\n        {\n          id: '2',\n          board_id: 'PO-002',\n          board_type: 'poster',\n          location: {\n            address: '456 Broadway, New York, NY',\n            lat: 40.7589,\n            lng: -73.9851,\n            landmark: 'Times Square Area'\n          },\n          agent_id: '2',\n          agent_name: 'Sarah Johnson',\n          placement_date: '2024-07-20T11:30:00Z',\n          status: 'active',\n          photos: {\n            after: '/api/photos/po002-after.jpg',\n            current: '/api/photos/po002-current.jpg'\n          },\n          campaign: {\n            id: '2',\n            name: 'Tech Product Launch',\n            client: 'TechCorp Solutions',\n            budget: 75000\n          },\n          metrics: {\n            visibility_score: 88,\n            foot_traffic: 25000,\n            estimated_impressions: 75000,\n            cost_per_impression: 0.08\n          },\n          notes: 'Premium location with high foot traffic',\n          verification_required: true,\n          last_verified: '2024-10-10T16:45:00Z'\n        },\n        {\n          id: '3',\n          board_id: 'BN-003',\n          board_type: 'banner',\n          location: {\n            address: '789 5th Ave, New York, NY',\n            lat: 40.7614,\n            lng: -73.9776,\n            landmark: 'Shopping District'\n          },\n          agent_id: '3',\n          agent_name: 'Mike Davis',\n          placement_date: '2024-06-25T08:15:00Z',\n          removal_date: '2024-08-25T17:00:00Z',\n          status: 'removed',\n          photos: {\n            before: '/api/photos/bn003-before.jpg',\n            after: '/api/photos/bn003-after.jpg'\n          },\n          campaign: {\n            id: '1',\n            name: 'Summer Sale 2024',\n            client: 'Fashion Retailer Inc',\n            budget: 50000\n          },\n          metrics: {\n            visibility_score: 85,\n            foot_traffic: 12000,\n            estimated_impressions: 36000,\n            cost_per_impression: 0.15\n          },\n          notes: 'Campaign completed successfully, removed as scheduled',\n          verification_required: false,\n          last_verified: '2024-08-25T17:00:00Z'\n        },\n        {\n          id: '4',\n          board_id: 'DG-004',\n          board_type: 'digital',\n          location: {\n            address: '321 Park Ave, New York, NY',\n            lat: 40.7505,\n            lng: -73.9934,\n            landmark: 'Business District'\n          },\n          agent_id: '1',\n          agent_name: 'John Smith',\n          placement_date: '2024-08-01T10:00:00Z',\n          status: 'damaged',\n          photos: {\n            after: '/api/photos/dg004-after.jpg',\n            current: '/api/photos/dg004-damaged.jpg'\n          },\n          campaign: {\n            id: '2',\n            name: 'Tech Product Launch',\n            client: 'TechCorp Solutions',\n            budget: 75000\n          },\n          metrics: {\n            visibility_score: 95,\n            foot_traffic: 20000,\n            estimated_impressions: 60000,\n            cost_per_impression: 0.10\n          },\n          notes: 'Digital display damaged by weather, requires repair',\n          verification_required: true,\n          last_verified: '2024-10-12T09:20:00Z'\n        }\n      ]\n      \n      await new Promise(resolve => setTimeout(resolve, 1000))\n      setPlacements(mockPlacements)\n      setCampaigns(mockCampaigns)\n    } catch (err) {\n      setError('Failed to load board placements data')\n      console.error('Error loading placements:', err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const refreshData = async () => {\n    setRefreshing(true)\n    await loadPlacementsData()\n    setRefreshing(false)\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active': return 'text-green-600 bg-green-100'\n      case 'removed': return 'text-gray-600 bg-gray-100'\n      case 'damaged': return 'text-red-600 bg-red-100'\n      case 'expired': return 'text-yellow-600 bg-yellow-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const getBoardTypeColor = (type: string) => {\n    switch (type) {\n      case 'billboard': return 'text-blue-600 bg-blue-100'\n      case 'poster': return 'text-green-600 bg-green-100'\n      case 'banner': return 'text-purple-600 bg-purple-100'\n      case 'digital': return 'text-orange-600 bg-orange-100'\n      default: return 'text-gray-600 bg-gray-100'\n    }\n  }\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount)\n  }\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString()\n  }\n\n  const filteredPlacements = placements.filter(placement => {\n    const matchesSearch = placement.board_id.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         placement.location.address.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         placement.agent_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         placement.campaign.name.toLowerCase().includes(searchTerm.toLowerCase())\n    \n    const matchesStatus = statusFilter === 'all' || placement.status === statusFilter\n    const matchesCampaign = campaignFilter === 'all' || placement.campaign.id === campaignFilter\n    \n    return matchesSearch && matchesStatus && matchesCampaign\n  })\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Board Placement</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Manage advertising board placements and campaign tracking.\n          </p>\n        </div>\n        \n        <div className=\"card\">\n          <div className=\"text-center py-12\">\n            <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              Error Loading Board Placements\n            </h3>\n            <p className=\"text-gray-600 mb-4\">{error}</p>\n            <button\n              onClick={loadPlacementsData}\n              className=\"btn-primary\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Board Placement</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Manage advertising board placements, campaigns, and performance tracking.\n          </p>\n        </div>\n        \n        <div className=\"mt-4 sm:mt-0 flex items-center space-x-3\">\n          <button\n            onClick={refreshData}\n            disabled={refreshing}\n            className=\"btn-outline p-2\"\n          >\n            <RefreshCw className={`h-4 w-4 ${refreshing ? 'animate-spin' : ''}`} />\n          </button>\n          \n          <button\n            onClick={() => setShowAddModal(true)}\n            className=\"btn-primary flex items-center space-x-2\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            <span>Add Placement</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Campaign Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {campaigns.filter(c => c.status === 'active').map((campaign) => (\n          <div key={campaign.id} className=\"card\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">{campaign.name}</h3>\n                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-green-600 bg-green-100\">\n                  {campaign.status}\n                </span>\n              </div>\n              \n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-600\">Client:</span>\n                  <span className=\"font-medium text-gray-900\">{campaign.client}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-600\">Budget:</span>\n                  <span className=\"font-medium text-gray-900\">{formatCurrency(campaign.budget)}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-600\">Progress:</span>\n                  <span className=\"font-medium text-gray-900\">{campaign.boards_placed}/{campaign.boards_required}</span>\n                </div>\n              </div>\n              \n              <div className=\"mt-4\">\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-primary-600 h-2 rounded-full transition-all duration-300\" \n                    style={{ width: `${(campaign.boards_placed / campaign.boards_required) * 100}%` }}\n                  ></div>\n                </div>\n                <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n                  <span>{formatDate(campaign.start_date)}</span>\n                  <span>{formatDate(campaign.end_date)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search by board ID, location, agent, or campaign...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n          />\n        </div>\n        \n        <select\n          value={statusFilter}\n          onChange={(e) => setStatusFilter(e.target.value)}\n          className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n        >\n          <option value=\"all\">All Status</option>\n          <option value=\"active\">Active</option>\n          <option value=\"removed\">Removed</option>\n          <option value=\"damaged\">Damaged</option>\n          <option value=\"expired\">Expired</option>\n        </select>\n        \n        <select\n          value={campaignFilter}\n          onChange={(e) => setCampaignFilter(e.target.value)}\n          className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n        >\n          <option value=\"all\">All Campaigns</option>\n          {campaigns.map((campaign) => (\n            <option key={campaign.id} value={campaign.id}>{campaign.name}</option>\n          ))}\n        </select>\n      </div>\n\n      {/* Placements Table */}\n      <div className=\"card\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Board Details\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Location\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Campaign\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Agent\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Performance\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredPlacements.map((placement) => (\n                <tr key={placement.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0\">\n                        <div className=\"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center\">\n                          <Target className=\"h-5 w-5 text-gray-600\" />\n                        </div>\n                      </div>\n                      <div className=\"ml-4\">\n                        <div className=\"text-sm font-medium text-gray-900\">{placement.board_id}</div>\n                        <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getBoardTypeColor(placement.board_type)}`}>\n                          {placement.board_type}\n                        </span>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">{placement.location.address}</div>\n                    <div className=\"text-sm text-gray-500\">{placement.location.landmark}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm font-medium text-gray-900\">{placement.campaign.name}</div>\n                    <div className=\"text-sm text-gray-500\">{placement.campaign.client}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">{placement.agent_name}</div>\n                    <div className=\"text-sm text-gray-500\">{formatDate(placement.placement_date)}</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(placement.status)}`}>\n                      {placement.status}\n                    </span>\n                    {placement.verification_required && (\n                      <div className=\"mt-1\">\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-yellow-600 bg-yellow-100\">\n                          Verification Required\n                        </span>\n                      </div>\n                    )}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"text-sm text-gray-900\">Score: {placement.metrics.visibility_score}%</div>\n                    <div className=\"text-sm text-gray-500\">{placement.metrics.estimated_impressions.toLocaleString()} impressions</div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => setSelectedPlacement(placement)}\n                        className=\"text-primary-600 hover:text-primary-900\"\n                      >\n                        <Eye className=\"h-4 w-4\" />\n                      </button>\n                      <button className=\"text-gray-600 hover:text-gray-900\">\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      <button className=\"text-red-600 hover:text-red-900\">\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Placement Details Modal */}\n      {selectedPlacement && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  Board Placement Details - {selectedPlacement.board_id}\n                </h3>\n                <button\n                  onClick={() => setSelectedPlacement(null)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <XCircle className=\"h-6 w-6\" />\n                </button>\n              </div>\n              \n              <div className=\"space-y-6\">\n                {/* Basic Info */}\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Board Type</label>\n                    <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getBoardTypeColor(selectedPlacement.board_type)}`}>\n                      {selectedPlacement.board_type}\n                    </span>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Status</label>\n                    <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(selectedPlacement.status)}`}>\n                      {selectedPlacement.status}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Location */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Location</label>\n                  <div className=\"bg-gray-50 p-3 rounded-lg\">\n                    <div className=\"text-sm text-gray-900\">{selectedPlacement.location.address}</div>\n                    <div className=\"text-sm text-gray-500\">{selectedPlacement.location.landmark}</div>\n                  </div>\n                </div>\n\n                {/* Performance Metrics */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Performance Metrics</label>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"bg-gray-50 p-3 rounded-lg text-center\">\n                      <div className=\"text-2xl font-bold text-primary-600\">{selectedPlacement.metrics.visibility_score}%</div>\n                      <div className=\"text-sm text-gray-500\">Visibility Score</div>\n                    </div>\n                    <div className=\"bg-gray-50 p-3 rounded-lg text-center\">\n                      <div className=\"text-2xl font-bold text-green-600\">{selectedPlacement.metrics.estimated_impressions.toLocaleString()}</div>\n                      <div className=\"text-sm text-gray-500\">Est. Impressions</div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Photos */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Photos</label>\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    {selectedPlacement.photos.before && (\n                      <div className=\"text-center\">\n                        <div className=\"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2\">\n                          <ImageIcon className=\"h-8 w-8 text-gray-400\" />\n                        </div>\n                        <div className=\"text-xs text-gray-500\">Before</div>\n                      </div>\n                    )}\n                    <div className=\"text-center\">\n                      <div className=\"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2\">\n                        <ImageIcon className=\"h-8 w-8 text-gray-400\" />\n                      </div>\n                      <div className=\"text-xs text-gray-500\">After</div>\n                    </div>\n                    {selectedPlacement.photos.current && (\n                      <div className=\"text-center\">\n                        <div className=\"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center mb-2\">\n                          <ImageIcon className=\"h-8 w-8 text-gray-400\" />\n                        </div>\n                        <div className=\"text-xs text-gray-500\">Current</div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Notes */}\n                {selectedPlacement.notes && (\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Notes</label>\n                    <div className=\"bg-gray-50 p-3 rounded-lg\">\n                      <div className=\"text-sm text-gray-900\">{selectedPlacement.notes}</div>\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"mt-6 flex justify-end space-x-3\">\n                <button\n                  onClick={() => setSelectedPlacement(null)}\n                  className=\"btn-outline\"\n                >\n                  Close\n                </button>\n                <button className=\"btn-primary\">\n                  Edit Placement\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","export default function ProductDistributionPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Product Distribution</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Product Distribution functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Product Distribution\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function CommissionTrackingPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Commission Tracking</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Commission Tracking functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Commission Tracking\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function CustomersPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Customers</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Customers functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Customers\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function CustomerDetailsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Customer Details</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Customer Details functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Customer Details\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function OrdersPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Orders</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Orders functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Orders\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function OrderDetailsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Order Details</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Order Details functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Order Details\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ProductsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Products</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Products functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Products\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ProductDetailsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Product Details</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Product Details functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Product Details\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function AdminPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Admin</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Admin functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Admin\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function UserManagementPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">User Management</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          User Management functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            User Management\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function SystemSettingsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">System Settings</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          System Settings functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            System Settings\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function AuditLogsPage() {\n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Audit Logs</h1>\n        <p className=\"mt-1 text-sm text-gray-600\">\n          Audit Logs functionality coming soon.\n        </p>\n      </div>\n      \n      <div className=\"card\">\n        <div className=\"text-center py-12\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Audit Logs\n          </h3>\n          <p className=\"text-gray-600\">\n            This feature is under development.\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { Component, ErrorInfo, ReactNode } from 'react'\nimport { AlertTriangle, RefreshCw } from 'lucide-react'\n\ninterface Props {\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: Error\n  errorInfo?: ErrorInfo\n}\n\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo)\n    this.setState({ error, errorInfo })\n  }\n\n  handleReset = () => {\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined })\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback\n      }\n\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\n          <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center\">\n            <div className=\"flex justify-center mb-4\">\n              <AlertTriangle className=\"h-12 w-12 text-red-500\" />\n            </div>\n            \n            <h1 className=\"text-xl font-semibold text-gray-900 mb-2\">\n              Something went wrong\n            </h1>\n            \n            <p className=\"text-gray-600 mb-6\">\n              We're sorry, but something unexpected happened. Please try refreshing the page.\n            </p>\n\n            <div className=\"space-y-3\">\n              <button\n                onClick={this.handleReset}\n                className=\"w-full btn-primary flex items-center justify-center gap-2\"\n              >\n                <RefreshCw className=\"h-4 w-4\" />\n                Try Again\n              </button>\n              \n              <button\n                onClick={() => window.location.reload()}\n                className=\"w-full btn-outline\"\n              >\n                Refresh Page\n              </button>\n            </div>\n\n            {import.meta.env.DEV && this.state.error && (\n              <details className=\"mt-6 text-left\">\n                <summary className=\"cursor-pointer text-sm text-gray-500 hover:text-gray-700\">\n                  Error Details (Development)\n                </summary>\n                <div className=\"mt-2 p-3 bg-gray-100 rounded text-xs font-mono text-gray-800 overflow-auto max-h-40\">\n                  <div className=\"font-semibold mb-2\">Error:</div>\n                  <div className=\"mb-4\">{this.state.error.toString()}</div>\n                  \n                  {this.state.errorInfo && (\n                    <>\n                      <div className=\"font-semibold mb-2\">Component Stack:</div>\n                      <div>{this.state.errorInfo.componentStack}</div>\n                    </>\n                  )}\n                </div>\n              </details>\n            )}\n          </div>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary","import { ReactNode } from 'react'\nimport { Navigate, useLocation } from 'react-router-dom'\nimport { useAuthStore, hasRole, hasPermission } from '../../store/auth.store'\n\ninterface ProtectedRouteProps {\n  children: ReactNode\n  requiredRole?: string\n  requiredPermission?: string\n  fallback?: ReactNode\n}\n\nexport default function ProtectedRoute({\n  children,\n  requiredRole,\n  requiredPermission,\n  fallback\n}: ProtectedRouteProps) {\n  const { isAuthenticated, user } = useAuthStore()\n  const location = useLocation()\n\n  // Not authenticated - redirect to login\n  if (!isAuthenticated || !user) {\n    return <Navigate to=\"/auth/login\" state={{ from: location }} replace />\n  }\n\n  // Check role requirement\n  if (requiredRole && !hasRole(requiredRole)) {\n    if (fallback) {\n      return <>{fallback}</>\n    }\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center\">\n          <h1 className=\"text-xl font-semibold text-gray-900 mb-2\">\n            Access Denied\n          </h1>\n          <p className=\"text-gray-600 mb-4\">\n            You don't have permission to access this page.\n          </p>\n          <button\n            onClick={() => window.history.back()}\n            className=\"btn-primary\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  // Check permission requirement\n  if (requiredPermission && !hasPermission(requiredPermission)) {\n    if (fallback) {\n      return <>{fallback}</>\n    }\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center\">\n          <h1 className=\"text-xl font-semibold text-gray-900 mb-2\">\n            Insufficient Permissions\n          </h1>\n          <p className=\"text-gray-600 mb-4\">\n            You don't have the required permissions to access this feature.\n          </p>\n          <button\n            onClick={() => window.history.back()}\n            className=\"btn-primary\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  return <>{children}</>\n}","import { Routes, Route, Navigate } from 'react-router-dom'\nimport { useAuthStore } from './store/auth.store'\nimport { useEffect } from 'react'\n\n// Layout Components\nimport AuthLayout from './components/layout/AuthLayout'\nimport DashboardLayout from './components/layout/DashboardLayout'\n\n// Auth Pages\nimport LoginPage from './pages/auth/LoginPage'\nimport ForgotPasswordPage from './pages/auth/ForgotPasswordPage'\nimport ResetPasswordPage from './pages/auth/ResetPasswordPage'\n\n// Dashboard Pages\nimport DashboardPage from './pages/dashboard/DashboardPage'\nimport AnalyticsPage from './pages/dashboard/AnalyticsPage'\n\n// Field Agent Pages\nimport FieldAgentsPage from './pages/field-agents/FieldAgentsPage'\nimport LiveMappingPage from './pages/field-agents/LiveMappingPage'\nimport BoardPlacementPage from './pages/field-agents/BoardPlacementPage'\nimport ProductDistributionPage from './pages/field-agents/ProductDistributionPage'\nimport CommissionTrackingPage from './pages/field-agents/CommissionTrackingPage'\n\n// Business Pages\nimport CustomersPage from './pages/customers/CustomersPage'\nimport CustomerDetailsPage from './pages/customers/CustomerDetailsPage'\nimport OrdersPage from './pages/orders/OrdersPage'\nimport OrderDetailsPage from './pages/orders/OrderDetailsPage'\nimport ProductsPage from './pages/products/ProductsPage'\nimport ProductDetailsPage from './pages/products/ProductDetailsPage'\n\n// Admin Pages\nimport AdminPage from './pages/admin/AdminPage'\nimport UserManagementPage from './pages/admin/UserManagementPage'\nimport SystemSettingsPage from './pages/admin/SystemSettingsPage'\nimport AuditLogsPage from './pages/admin/AuditLogsPage'\n\n// Components\nimport LoadingSpinner from './components/ui/LoadingSpinner'\nimport ErrorBoundary from './components/ui/ErrorBoundary'\nimport ProtectedRoute from './components/auth/ProtectedRoute'\n\nfunction App() {\n  const { isAuthenticated, isLoading, initialize } = useAuthStore()\n\n  useEffect(() => {\n    initialize()\n  }, [initialize])\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    )\n  }\n\n  return (\n    <ErrorBoundary>\n      <div className=\"min-h-screen bg-gray-50\">\n        <Routes>\n          {/* Public Routes */}\n          <Route path=\"/auth/*\" element={\n            isAuthenticated ? <Navigate to=\"/dashboard\" replace /> : <AuthLayout />\n          }>\n            <Route path=\"login\" element={<LoginPage />} />\n            <Route path=\"forgot-password\" element={<ForgotPasswordPage />} />\n            <Route path=\"reset-password\" element={<ResetPasswordPage />} />\n            <Route index element={<Navigate to=\"login\" replace />} />\n          </Route>\n\n          {/* Protected Routes */}\n          <Route path=\"/*\" element={\n            <ProtectedRoute>\n              <DashboardLayout />\n            </ProtectedRoute>\n          }>\n            {/* Dashboard Routes */}\n            <Route path=\"dashboard\" element={<DashboardPage />} />\n            <Route path=\"analytics\" element={<AnalyticsPage />} />\n\n            {/* Field Agent Routes */}\n            <Route path=\"field-agents\" element={<FieldAgentsPage />} />\n            <Route path=\"field-agents/mapping\" element={<LiveMappingPage />} />\n            <Route path=\"field-agents/boards\" element={<BoardPlacementPage />} />\n            <Route path=\"field-agents/products\" element={<ProductDistributionPage />} />\n            <Route path=\"field-agents/commission\" element={<CommissionTrackingPage />} />\n\n            {/* Business Routes */}\n            <Route path=\"customers\" element={<CustomersPage />} />\n            <Route path=\"customers/:id\" element={<CustomerDetailsPage />} />\n            <Route path=\"orders\" element={<OrdersPage />} />\n            <Route path=\"orders/:id\" element={<OrderDetailsPage />} />\n            <Route path=\"products\" element={<ProductsPage />} />\n            <Route path=\"products/:id\" element={<ProductDetailsPage />} />\n\n            {/* Admin Routes */}\n            <Route path=\"admin\" element={\n              <ProtectedRoute requiredRole=\"admin\">\n                <AdminPage />\n              </ProtectedRoute>\n            } />\n            <Route path=\"admin/users\" element={\n              <ProtectedRoute requiredRole=\"admin\">\n                <UserManagementPage />\n              </ProtectedRoute>\n            } />\n            <Route path=\"admin/settings\" element={\n              <ProtectedRoute requiredRole=\"admin\">\n                <SystemSettingsPage />\n              </ProtectedRoute>\n            } />\n            <Route path=\"admin/audit\" element={\n              <ProtectedRoute requiredRole=\"admin\">\n                <AuditLogsPage />\n              </ProtectedRoute>\n            } />\n\n            {/* Default redirect */}\n            <Route index element={<Navigate to=\"dashboard\" replace />} />\n          </Route>\n\n          {/* Fallback route */}\n          <Route path=\"*\" element={\n            isAuthenticated ? \n              <Navigate to=\"/dashboard\" replace /> : \n              <Navigate to=\"/auth/login\" replace />\n          } />\n        </Routes>\n      </div>\n    </ErrorBoundary>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport { BrowserRouter } from 'react-router-dom'\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools'\nimport { Toaster } from 'react-hot-toast'\nimport App from './App'\nimport './index.css'\n\n// Create a client\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 minutes\n      gcTime: 1000 * 60 * 30, // 30 minutes\n      retry: (failureCount, error: any) => {\n        // Don't retry on 4xx errors\n        if (error?.response?.status >= 400 && error?.response?.status < 500) {\n          return false\n        }\n        return failureCount < 3\n      },\n    },\n    mutations: {\n      retry: 1,\n    },\n  },\n})\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <BrowserRouter>\n        <App />\n        <Toaster\n          position=\"top-right\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: '#363636',\n              color: '#fff',\n            },\n            success: {\n              duration: 3000,\n              iconTheme: {\n                primary: '#10b981',\n                secondary: '#fff',\n              },\n            },\n            error: {\n              duration: 5000,\n              iconTheme: {\n                primary: '#ef4444',\n                secondary: '#fff',\n              },\n            },\n          }}\n        />\n      </BrowserRouter>\n      <ReactQueryDevtools initialIsOpen={false} />\n    </QueryClientProvider>\n  </React.StrictMode>,\n)"],"file":"assets/index-DmBMqLrL.js"}